// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLStrLib.hsl"
#include "C:\\Program Files (x86)\\HAMILTON\\NGSStar\\NEB\\NEBNext_EMseq\\Library\\MethodSpecificLibraries\\Tokenizer\\StrTokenize.hs_"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace REFORMATSTRING {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function ExtractNumberOfTipsFromString( variable i_str_NumberOfTipsByTipType, variable & o_int_NumberOf50ulTips, variable & o_int_NumberOf300ulTips, variable & o_int_NumberOf300ulMPHTips, variable & o_int_NumberOf1000ulTips ) void ;
function ReformatStringFloatDecimalPoints( variable i_strValueToReformat, variable & o_strValueReformatted ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
STRTOKENIZE::_InitLibrary();
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
STRTOKENIZE::_ExitLibrary();
// }} ""
}
// {{{ 5 "ReformatStringFloatDecimalPoints" "Begin"
function ReformatStringFloatDecimalPoints( variable i_strValueToReformat, variable & o_strValueReformatted ) void {
// }} ""
private variable str_io_strValueToReformat;
private variable intStrFindResult;
// {{ 5 "ReformatStringFloatDecimalPoints" "InitLocals"
o_strValueReformatted = 0;
// }} ""
// {{ 12 1 0 "6e9a2345_0c9a_4dc6_907d8eba9beffd30" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 13 1 0 "a1dee939_b9b2_45cc_a5d9769eb3ea03d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
str_io_strValueToReformat = StrConcat2(Translate(""), i_strValueToReformat);
// }} ""
// {{{ 14 1 0 "478281e6_85ce_4a8b_9677e04f41a12f2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
intStrFindResult = StrFind(str_io_strValueToReformat, Translate("."));
// }} ""
// {{ 15 1 0 "027de466_5d20_4fc6_86866a11ea3c86ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (intStrFindResult != -1)
{
// }} ""
// {{ 16 1 0 "69cb513d_93e7_4d80_a2d21d118c037345" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
intStrFindResult = intStrFindResult + 2;
// }} ""
// {{{ 17 1 0 "b3125545_cde4_4d31_a65798dacc9aea26" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_strValueReformatted = StrLeft(str_io_strValueToReformat, intStrFindResult);
// }} ""
// {{ 18 1 0 "027de466_5d20_4fc6_86866a11ea3c86ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 19 1 0 "f8501c0f_f94f_46bc_b43a875980c152b9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_strValueReformatted = str_io_strValueToReformat;
// }} ""
// {{ 20 1 0 "027de466_5d20_4fc6_86866a11ea3c86ae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 21 1 0 "6e9a2345_0c9a_4dc6_907d8eba9beffd30" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ReformatStringFloatDecimalPoints" "End"
}
// }} ""
// {{{ 5 "ExtractNumberOfTipsFromString" "Begin"
function ExtractNumberOfTipsFromString( variable i_str_NumberOfTipsByTipType, variable & o_int_NumberOf50ulTips, variable & o_int_NumberOf300ulTips, variable & o_int_NumberOf300ulMPHTips, variable & o_int_NumberOf1000ulTips ) void {
// }} ""
private variable arr_SubStrings[];
// {{ 5 "ExtractNumberOfTipsFromString" "InitLocals"
o_int_NumberOf50ulTips = 0;
o_int_NumberOf300ulTips = 0;
o_int_NumberOf300ulMPHTips = 0;
o_int_NumberOf1000ulTips = 0;
// }} ""
// {{{ 1 1 0 "57bdbc7a_71d0_4c6e_b65bee0519eb66e4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
STRTOKENIZE::StrTokenize(i_str_NumberOfTipsByTipType, Translate(","), arr_SubStrings, 0);
// }} ""
// {{ 2 1 0 "b5f5cf1e_44d7_4b4a_95a056ade75867f0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOf50ulTips = arr_SubStrings.ElementAt( 1 -1);
// }} ""
// {{{ 3 1 0 "b12139e9_b2b4_448a_8bfc90b6946ca9e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_NumberOf50ulTips = StrIVal(o_int_NumberOf50ulTips);
// }} ""
// {{ 4 1 0 "336621ab_05c1_47f2_b9b3cfc875ff61ff" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOf300ulTips = arr_SubStrings.ElementAt( 2 -1);
// }} ""
// {{{ 5 1 0 "9b2d57ad_191b_4f29_b230fee6d97a1226" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_NumberOf300ulTips = StrIVal(o_int_NumberOf300ulTips);
// }} ""
// {{ 6 1 0 "50591251_1aa0_4b16_b9b2b481fffa0803" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOf300ulMPHTips = arr_SubStrings.ElementAt( 3 -1);
// }} ""
// {{{ 7 1 0 "d5fadf86_f2d4_4852_98cc6cfb2aa00f5c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_NumberOf300ulMPHTips = StrIVal(o_int_NumberOf300ulMPHTips);
// }} ""
// {{ 8 1 0 "e27a3ed4_4457_4b1f_afef080ea33fdab0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOf1000ulTips = arr_SubStrings.ElementAt( 4 -1);
// }} ""
// {{{ 9 1 0 "a7b1dd55_9ff8_46bd_8b17749c468b1461" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_NumberOf1000ulTips = StrIVal(o_int_NumberOf1000ulTips);
// }} ""
// {{{ 10 1 0 "671d0e7f_51d5_4682_be3270e4888df21a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{{ 5 "ExtractNumberOfTipsFromString" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Stefan.Golas$$valid=0$$time=2025-09-05 14:13$$checksum=0a545f4c$$length=091$$