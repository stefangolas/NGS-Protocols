// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLTrcLib.hsl"
#include "HSLSeqLib.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace SEQUENCEINARRAYTOOLS {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
private function Abstract(  ) void ;
function ConcatArraySequences( sequence & arrFinalSequences[], sequence & arrToConcatenate[] ) void ;
function Remove_Sequence_from_Array( variable i_index_of_element_to_remove, sequence & iArrOfInterest[] ) void ;
function SequenceFromArray( variable & i_arr_lab_Id[], variable & i_arr_pos_Id[], sequence & o_seq_template ) void ;
function SequenceFromArray_LabIDFromTemplateSeq( sequence & i_seqTemplate, variable & i_arr_pos_Id[], sequence & o_seq_template ) void ;
function Trace_Arr_of_Sequences( sequence & i_arr_seq[] ) void ;
function Update_Sequence_in_Array( sequence & i_arr[], sequence & i_value_seq, variable i_index ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "Abstract" "Begin"
private function Abstract(  ) void {
// }} ""
// {{ 5 "Abstract" "InitLocals"
// }} ""
// {{{ 5 "Abstract" "End"
}
// }} ""
// {{{ 5 "Remove_Sequence_from_Array" "Begin"
function Remove_Sequence_from_Array( variable i_index_of_element_to_remove, sequence & iArrOfInterest[] ) void {
// }} ""
private sequence newArrOfInterest[];
private variable size;
private variable loopCounter1;
private sequence newValue;
// {{ 5 "Remove_Sequence_from_Array" "InitLocals"
// }} ""
// {{ 7 1 0 "35681864_20b6_4e88_934b515e234896f8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
newArrOfInterest.SetSize(0);
// }} ""
// {{ 8 1 0 "352dd7d4_c8ea_4cbd_9c16552a46575e5a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
size=iArrOfInterest.GetSize();
// }} ""
// {{ 9 1 0 "b7cb7ec0_f55e_4c00_b68e4478d566cf39" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < size;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 10 1 0 "b6ecf90a_bcbe_4967_b14763b6c02cf44f" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
newValue=iArrOfInterest.GetAt(loopCounter1-1);
// }} ""
// {{ 11 1 0 "8baa5f5f_f343_4063_9e31161271f0f8e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (loopCounter1 <= i_index_of_element_to_remove)
{
// }} ""
// {{ 12 1 0 "8baa5f5f_f343_4063_9e31161271f0f8e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 13 1 0 "51f9d562_efd7_40e2_aa31b2e1bb1c717f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
newArrOfInterest.AddAsLast(newValue);
// }} ""
// {{ 14 1 0 "8baa5f5f_f343_4063_9e31161271f0f8e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 15 1 0 "b7cb7ec0_f55e_4c00_b68e4478d566cf39" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 16 1 0 "db6b2075_4c9c_4933_8763269f908508f9" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
iArrOfInterest=newArrOfInterest;
// }} ""
// {{{ 5 "Remove_Sequence_from_Array" "End"
}
// }} ""
// {{{ 5 "Trace_Arr_of_Sequences" "Begin"
function Trace_Arr_of_Sequences( sequence & i_arr_seq[] ) void {
// }} ""
private variable arr_seq_index;
private variable total_num_seq;
private sequence next_seq;
// {{ 5 "Trace_Arr_of_Sequences" "InitLocals"
// }} ""
// {{ 33 1 0 "1b291afc_0276_408e_89fe1d92e9c45829" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
total_num_seq=i_arr_seq.GetSize();
// }} ""
// {{ 34 1 0 "53a37c4f_aa08_4f88_a5587a9e8c091d93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_num_seq == 0)
{
// }} ""
// {{{ 35 1 0 "c096de84_d483_4163_9c4541117099993c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Empty array of sequences"), Translate(""));
// }} ""
// {{ 36 1 0 "53a37c4f_aa08_4f88_a5587a9e8c091d93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 37 1 0 "eb204ff1_5f7c_42df_8febcfae1cc33f52" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(arr_seq_index = 0; arr_seq_index < total_num_seq;)
{
arr_seq_index = arr_seq_index + 1;
// }} ""
// {{ 38 1 0 "c3c52087_6c06_42dd_ace26ecba9e4c094" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
next_seq=i_arr_seq.GetAt(arr_seq_index-1);
// }} ""
// {{{ 39 1 0 "1286fd3e_9ee0_4a67_b055efd0c9dccc08" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("________Sequence at index: "), arr_seq_index);
// }} ""
// {{{ 40 1 0 "6b8f4c3e_4b90_468c_bedc1d56c191ce96" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(next_seq);
// }} ""
// {{ 41 1 0 "eb204ff1_5f7c_42df_8febcfae1cc33f52" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 42 1 0 "53a37c4f_aa08_4f88_a5587a9e8c091d93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 5 "Trace_Arr_of_Sequences" "End"
}
// }} ""
// {{{ 5 "Update_Sequence_in_Array" "Begin"
function Update_Sequence_in_Array( sequence & i_arr[], sequence & i_value_seq, variable i_index ) void {
// }} ""
private sequence new_arr[];
private variable loopCounter24;
private variable size1;
private sequence current_value1;
// {{ 5 "Update_Sequence_in_Array" "InitLocals"
// }} ""
// {{ 44 1 0 "c9b688ce_49bc_4eab_b335d45049f13c48" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
new_arr.SetSize(0);
// }} ""
// {{ 45 1 0 "d65bd574_6291_4e75_9d25e25a756ee286" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
size1=i_arr.GetSize();
// }} ""
// {{ 46 1 0 "37f31a98_9fe8_431a_93776fd95304899d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter24 = 0; loopCounter24 < size1;)
{
loopCounter24 = loopCounter24 + 1;
// }} ""
// {{ 47 1 0 "38a3ffb7_abfe_4838_a7becda9615822b8" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
current_value1=i_arr.GetAt(loopCounter24-1);
// }} ""
// {{ 48 1 0 "786972ce_68ca_4b50_991790d3f0f4ef2f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (loopCounter24 == i_index)
{
// }} ""
// {{ 49 1 0 "87c0c1b7_2b3b_423d_badf9afca225a0a2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
new_arr.AddAsLast(i_value_seq);
// }} ""
// {{ 50 1 0 "786972ce_68ca_4b50_991790d3f0f4ef2f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 51 1 0 "bbdb8a5b_a702_4f04_a012c57f0ed87441" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
new_arr.AddAsLast(current_value1);
// }} ""
// {{ 52 1 0 "786972ce_68ca_4b50_991790d3f0f4ef2f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 53 1 0 "37f31a98_9fe8_431a_93776fd95304899d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 54 1 0 "817a4f6a_e5a3_4877_8e72015c279ded60" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
i_arr=new_arr;
// }} ""
// {{{ 5 "Update_Sequence_in_Array" "End"
}
// }} ""
// {{{ 5 "ConcatArraySequences" "Begin"
function ConcatArraySequences( sequence & arrFinalSequences[], sequence & arrToConcatenate[] ) void {
// }} ""
private variable sizeArray;
private variable loopCounter39;
// {{ 5 "ConcatArraySequences" "InitLocals"
// }} ""
// {{ 2 1 0 "57cb3528_7ec0_4307_8d518368d836d157" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
sizeArray=arrToConcatenate.GetSize();
// }} ""
// {{ 3 1 0 "7ac78347_874e_40e6_b63ee302bd520e48" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter39 = 0; loopCounter39 < sizeArray;)
{
loopCounter39 = loopCounter39 + 1;
// }} ""
// {{ 4 1 0 "5b83b3ba_6ce2_4dd4_ac6ccd1019258c88" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arrFinalSequences.AddAsLast(arrToConcatenate.ElementAt( loopCounter39 -1));
// }} ""
// {{ 5 1 0 "7ac78347_874e_40e6_b63ee302bd520e48" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "ConcatArraySequences" "End"
}
// }} ""
// {{{ 5 "SequenceFromArray" "Begin"
function SequenceFromArray( variable & i_arr_lab_Id[], variable & i_arr_pos_Id[], sequence & o_seq_template ) void {
// }} ""
private variable total_elements;
private variable loopCounter4;
// {{ 5 "SequenceFromArray" "InitLocals"
{ sequence __temp; o_seq_template = __temp; }
// }} ""
// {{ 18 1 0 "68254587_8a74_49c7_80f40aff4c54fc54" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
total_elements=i_arr_lab_Id.GetSize();
// }} ""
// {{{ 19 1 0 "f4e5f3c4_35af_4593_abc9b91a02f59294" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_seq_template);
// }} ""
// {{ 20 1 0 "50a78969_cbd2_4f98_9625d4165686ae83" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < total_elements;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{{ 21 1 0 "7acce792_f4e6_45d4_ab3014564399898f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_template, i_arr_lab_Id.ElementAt( loopCounter4 -1), i_arr_pos_Id.ElementAt( loopCounter4 -1));
// }} ""
// {{ 22 1 0 "50a78969_cbd2_4f98_9625d4165686ae83" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 23 1 0 "2379cc51_e2ca_475f_a77ea230d8d93055" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_template.SetCurrentPosition(1);
// }} ""
// {{{ 5 "SequenceFromArray" "End"
}
// }} ""
// {{{ 5 "SequenceFromArray_LabIDFromTemplateSeq" "Begin"
function SequenceFromArray_LabIDFromTemplateSeq( sequence & i_seqTemplate, variable & i_arr_pos_Id[], sequence & o_seq_template ) void {
// }} ""
private variable strTempLabID;
private variable total_elements;
private variable loopCounter4;
// {{ 5 "SequenceFromArray_LabIDFromTemplateSeq" "InitLocals"
{ sequence __temp; o_seq_template = __temp; }
// }} ""
// {{{ 25 1 0 "97021376_9711_469c_9faee475861c423f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strTempLabID = SeqGetLabwareId(i_seqTemplate);
// }} ""
// {{ 26 1 0 "ae1427ae_68fe_458e_9c9d989724c26c68" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
total_elements=i_arr_pos_Id.GetSize();
// }} ""
// {{{ 27 1 0 "72e77f7c_4496_44da_89ccac6eeeba95ed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(o_seq_template);
// }} ""
// {{ 28 1 0 "990c032c_48c5_410a_afed3e6fda444a31" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < total_elements;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{{ 29 1 0 "38d1c92c_7a8f_49c3_a68e437856ed2251" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_template, strTempLabID, i_arr_pos_Id.ElementAt( loopCounter4 -1));
// }} ""
// {{ 30 1 0 "990c032c_48c5_410a_afed3e6fda444a31" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 31 1 0 "b8ad4933_faa5_426d_87342196e858f8b1" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_template.SetCurrentPosition(1);
// }} ""
// {{{ 5 "SequenceFromArray_LabIDFromTemplateSeq" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Administrator$$valid=0$$time=2019-01-17 09:42$$checksum=ab30cba8$$length=092$$