// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLDevLib.hsl"
#include "HSLStrLib.hsl"
#include "HSLML_STARLib.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace TIP_PRESENT_CHECK_5ML_1ML {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function Check_Tips_Present_1ml( device & ML_STAR, variable & ChannelPatternWithTips_1ml, variable NumberOfChannels_1ml ) variable ;
function Check_Tips_Present_5ml( device & ML_STAR, variable & ChannelPatternWithTips_5ml, variable NumberOfChannels_5ml ) variable ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslFalse);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 1);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "Check_Tips_Present_1ml" "Begin"
function Check_Tips_Present_1ml( device & ML_STAR, variable & ChannelPatternWithTips_1ml, variable NumberOfChannels_1ml ) variable {
// }} ""
private variable isTipThere;
private variable channelIndex;
private variable simulationCheck;
private variable firmwareReturn;
private variable firmwareCommand;
private variable tipsArePresent_1ml;
// {{ 5 "Check_Tips_Present_1ml" "InitLocals"
ChannelPatternWithTips_1ml = 0;
// }} ""
// {{ 1 1 0 "794bcea1_6223_411e_bde8fc23222cbcca" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 2 1 0 "860a97d5_fe0b_4805_b14dd72f67bcd3b4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
simulationCheck = HSLML_STAR::IsSimulatorMode(ML_STAR);
// }} ""
// {{ 3 1 0 "0e43d944_fb79_4e79_ab13c88d6a92af2a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tipsArePresent_1ml = 0;
// }} ""
// {{ 4 1 0 "cfbe5d43_825a_4dd5_b1282e38762a8a95" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ChannelPatternWithTips_1ml = Translate("");
// }} ""
// {{ 5 1 0 "fa0f23f5_d88e_4c90_be4a80579f487703" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (simulationCheck == 0)
{
// }} ""
// {{ 6 1 0 "8c0353e0_3be1_4a62_b0c652bb61a25c0d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 7 1 0 "217dc7e3_6cbf_4e42_b787970ad27846f9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channelIndex = 0; channelIndex < NumberOfChannels_1ml;)
{
channelIndex = channelIndex + 1;
// }} ""
// {{{ 8 1 0 "b73e2638_b53d_4654_98ba1b1be9a39236" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
firmwareCommand = StrConcat4(Translate("P"), channelIndex, Translate("RW"), Translate(""));
// }} ""
// {{ 9 1 0 "19c8c60f_82f3_4ebf_9f3ffdba01e8f8eb" "ML_STAR:{1FB5DA01-3ACB-11d4-AE1F-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._1FB5DA01_3ACB_11d4_AE1F_0004ACB1DCB2("19c8c60f_82f3_4ebf_9f3ffdba01e8f8eb"); // FirmwareCommand
	firmwareReturn = arrRetValues[3];
}
// }} ""
// {{ 10 1 0 "e1e8bc12_0fd5_4896_9eac9dbe237e8d79" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 11 1 0 "94b221ac_1e56_404d_860a69eedcd5f960" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
isTipThere = StrMid(firmwareReturn, 5, 1);
// }} ""
// {{ 12 1 0 "17231caf_bb8f_4962_9b52405f5e0bdcf3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (isTipThere == "1")
{
// }} ""
// {{ 13 1 0 "806e5234_9023_4f3b_ae2b8f18c370f812" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 14 1 0 "4b6f6084_b367_43bf_aa7425dcdab77d4f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tipsArePresent_1ml = 1;
// }} ""
// {{ 15 1 0 "17231caf_bb8f_4962_9b52405f5e0bdcf3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 16 1 0 "8971f6ad_46ec_43ff_95b20f5d2fb959c7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 17 1 0 "c83fa3c3_3ec3_46be_9b8af26b62b418c4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ChannelPatternWithTips_1ml = StrConcat2(ChannelPatternWithTips_1ml, isTipThere);
// }} ""
// {{ 18 1 0 "217dc7e3_6cbf_4e42_b787970ad27846f9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 19 1 0 "fa0f23f5_d88e_4c90_be4a80579f487703" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 20 1 0 "6e898f74_f0be_4fb0_93f2fa11a762fbdc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 21 1 0 "21413d9d_f665_4a7e_908a415199f9b524" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channelIndex = 0; channelIndex < NumberOfChannels_1ml;)
{
channelIndex = channelIndex + 1;
// }} ""
// {{{ 22 1 0 "13971a8d_2357_41ac_8fea07e50fbce0e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ChannelPatternWithTips_1ml = StrConcat2(ChannelPatternWithTips_1ml, Translate("0"));
// }} ""
// {{ 23 1 0 "21413d9d_f665_4a7e_908a415199f9b524" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 24 1 0 "fa0f23f5_d88e_4c90_be4a80579f487703" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 25 1 0 "8472a7d4_89ed_41b2_9ea2ed9049884b86" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (tipsArePresent_1ml);
// }} ""
// {{{ 5 "Check_Tips_Present_1ml" "End"
}
// }} ""
// {{{ 5 "Check_Tips_Present_5ml" "Begin"
function Check_Tips_Present_5ml( device & ML_STAR, variable & ChannelPatternWithTips_5ml, variable NumberOfChannels_5ml ) variable {
// }} ""
private variable isTipThere;
private variable channelIndex;
private variable simulationCheck;
private variable firmwareReturn;
private variable firmwareCommand;
private variable tipsArePresent_5ml;
// {{ 5 "Check_Tips_Present_5ml" "InitLocals"
ChannelPatternWithTips_5ml = 0;
// }} ""
// {{ 27 1 0 "b89bdec8_14e2_4954_adcda3bf18a9a2fa" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 28 1 0 "6d63e40f_ee69_41ff_86f7906b4e06af24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
simulationCheck = HSLML_STAR::IsSimulatorMode(ML_STAR);
// }} ""
// {{ 29 1 0 "7d8dea00_5770_4bdd_8c4ebbe5fa34a72a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tipsArePresent_5ml = 0;
// }} ""
// {{ 30 1 0 "ee5bbc7d_d29f_40be_87f9581dfc35cbc0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ChannelPatternWithTips_5ml = Translate("");
// }} ""
// {{ 31 1 0 "af571140_82a2_42d0_9adf0039601690da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (simulationCheck == 0)
{
// }} ""
// {{ 32 1 0 "d1ab8a23_344f_43cf_ae5b561906351092" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 33 1 0 "019c6aa9_4e39_4255_ac3a1578d55ba9db" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channelIndex = 0; channelIndex < NumberOfChannels_5ml;)
{
channelIndex = channelIndex + 1;
// }} ""
// {{{ 34 1 0 "85beb50a_1084_45c1_be2d34a1a69ea5c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
firmwareCommand = StrConcat4(Translate("L"), channelIndex, Translate("RW"), Translate(""));
// }} ""
// {{ 35 1 0 "e7f2aec8_86db_47d1_b50dedfb883ed7d6" "ML_STAR:{1FB5DA01-3ACB-11d4-AE1F-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._1FB5DA01_3ACB_11d4_AE1F_0004ACB1DCB2("e7f2aec8_86db_47d1_b50dedfb883ed7d6"); // FirmwareCommand
	firmwareReturn = arrRetValues[3];
}
// }} ""
// {{ 36 1 0 "add5e6cb_4d5a_4063_a199f3d036ef4a0e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 37 1 0 "0711e7b7_9b6c_4543_8917597118e1eae3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
isTipThere = StrMid(firmwareReturn, 6, 1);
// }} ""
// {{ 38 1 0 "c78406d3_47a0_4950_be93542400c8bda0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (isTipThere == "1")
{
// }} ""
// {{ 39 1 0 "422873fc_5f71_4027_b74f4a6199ca1cb3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 40 1 0 "2b8646ad_8e65_4e4a_a378f4a9c4444660" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tipsArePresent_5ml = 1;
// }} ""
// {{ 41 1 0 "c78406d3_47a0_4950_be93542400c8bda0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 42 1 0 "dc6dfbb1_0cfc_4ffa_a25995c8cd9aaec6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 43 1 0 "03d1264d_9bed_4b0f_a939e1ba48482d2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ChannelPatternWithTips_5ml = StrConcat2(ChannelPatternWithTips_5ml, isTipThere);
// }} ""
// {{ 44 1 0 "019c6aa9_4e39_4255_ac3a1578d55ba9db" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 45 1 0 "af571140_82a2_42d0_9adf0039601690da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 46 1 0 "0f54e204_3488_4be3_a2145fbaa475a621" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 47 1 0 "bc80d749_1602_44d1_9a25a091da478124" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channelIndex = 0; channelIndex < NumberOfChannels_5ml;)
{
channelIndex = channelIndex + 1;
// }} ""
// {{{ 48 1 0 "6ade3177_d562_4914_abf33d1474f2216a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ChannelPatternWithTips_5ml = StrConcat2(ChannelPatternWithTips_5ml, Translate("0"));
// }} ""
// {{ 49 1 0 "bc80d749_1602_44d1_9a25a091da478124" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 50 1 0 "af571140_82a2_42d0_9adf0039601690da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 51 1 0 "b57b9e86_d76e_44d3_84bd215a8206856e" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (tipsArePresent_5ml);
// }} ""
// {{{ 5 "Check_Tips_Present_5ml" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Windows10$$valid=0$$time=2023-06-06 09:23$$checksum=21b00419$$length=086$$