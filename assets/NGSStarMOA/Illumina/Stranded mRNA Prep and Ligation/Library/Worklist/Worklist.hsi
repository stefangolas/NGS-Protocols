// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLSeqLib.hsl"
#include "HSLStrLib.hsl"
#include "HSLUtilLib2.hsl"
#include "HSLTrcLib.hsl"
#include "HSLMappingReport.hsl"
#include "HSLDevLib.hsl"
#include "HSLUtilLib.hsl"
#include "VectorCustomDialogs\\VectorCustomDialogs.hsl"
#include "HSLAppsLib.hsl"
#include "HSLMthLib.hsl"
#include "HSLTimLib.hsl"
#include "FileHandling_HSLFiLibEx\\HSLFilLibEx.hsl"
#include "HSLExtensions\\Array.hsl"
#include "ASWStandard\\ASWGlobal\\ASWGlobal.hsl"
#include "HSLArrLib.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace WORKLIST {
// }} ""
variable t_int_NumberOfTargetsFromFile;
variable t_arr_NumberOfSamplePerPool[];
variable t_arr_SourceWellID[];
variable t_arr_Disctint_Pool_Well[];
variable t_arr_Filtered_Source_Well_Concentration[];
variable t_int_NumberOfSamplesFromFile;
variable t_arr_TargetWellPositions[];
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function A_WorkList_Read( device & i_MLSTAR, variable i_hdl_InputWorklist, variable i_bln_SetConcentrationFilterOnWorklist, variable i_flt_MinimumConcentration, variable i_flt_MaximumConcentration, sequence i_seq_SourcePlate, sequence & o_seq_SourceAsp, sequence i_seq_TargetPlate, sequence & o_seq_TargetDisp, variable & o_int_NumberOfSamplesFromFile, variable & o_int_NumberOfTargetsFromFile, variable & o_arr_SourceWellPositions[], variable & o_arr_TargetWellPositionsDistinct[] ) void ;
function B_IntermediateNormalisation( device & i_ML_STAR, variable i_hdl_InputWorklist, variable i_flt_SourceVolume, variable i_flt_IntermediateVolume, variable i_flt_DestinationVolume, variable i_flt_DestinationYield, sequence i_seq_IntermediateLabware, sequence & o_seq_IntermediateDispSequence, variable & i_arr_SourceWellID[], variable & o_arr_IntermediateWellIDs[], variable & o_arr_VolumesSourceToIntermediate[], variable & o_arr_VolumesDiluentToIntermediate[] ) void ;
function B_NormaliseOnPooling( device & i_MLSTAR, variable i_hdl_InputWorklist, variable i_flt_TargetVolume, variable i_flt_TargetYield, variable & i_arr_SourceWellID[], variable & i_arr_TargetWellID[], variable & o_arr_VolumeSourceArray[], variable & o_arr_VolumeDiluentArray[], variable & o_arr_TargetWellIDs[] ) void ;
function C_Adapter1( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_AdapterTubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_AdapterAsp, sequence & o_seq_AdapterDisp, variable & o_arr_AdapterDistinct[], variable & o_arr_AdapterFrequency[], variable i_bln_UsingMPH, variable & o_str_PlateBacodeUDP ) void ;
function C_Adapter2( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_Adapter1TubesOrPlate, sequence i_seq_Adapter2TubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_Adapter1Asp, sequence & o_seq_Adapter2Asp, sequence & o_seq_AdapterDisp, variable & o_arr_Adapter1Distinct[], variable & o_arr_Adapter2Distinct[], variable & o_arr_Adapter1Frequency[], variable & o_arr_Adapter2Frequency[] ) void ;
function C_SamplePrep( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], variable i_bln_FilterSampleType, variable i_str_SampleType, variable i_str_SamplePrep, sequence i_seq_SourceWells, sequence i_seq_TargetWells, sequence & o_seq_SourceWells_SamplePrep, sequence & o_seq_TargetWell_SamplePrep, variable & o_arr_TargetArray_SamplePrep[], variable & o_arr_SourceArray_SamplePrep[], variable & o_int_NumberOfSampleTypeSamples, variable & o_int_NumberOfSamplePrepSamples ) void ;
function C_SampleType( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], variable i_str_SampleType, sequence i_seq_SourceWells, sequence i_seq_TargetWells, sequence & o_seq_SourceWells_SampleType, sequence & o_seq_TargetWell_SampleType, variable & o_arr_TargetArray_SampleType[], variable & o_arr_SourceArray_SampleType[], variable & o_int_NumberOfSampleTypeSamples ) void ;
function C_UMI_Plate( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_AdapterTubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_AdapterAsp, sequence & o_seq_AdapterDisp, variable & o_arr_AdapterDistinct[], variable & o_arr_AdapterFrequency[], variable i_bln_UsingMPH ) void ;
function D_FixedVolumePoolingCalc( variable i_flt_VolumePerSample, variable & o_arr_fltVolumeOfPools[] ) void ;
function D_PoolingArrays( variable & o_arr_intNumberOfSamplesPerPool[], variable & o_int_NumberOfPools ) void ;
private function Lookup( variable & array[], variable item ) variable ;
private function SortOneSequenceAndOneArrayForChannels( sequence & sequence_for_sorting, variable & array[], device & ML_STAR ) void ;
private function SortTwoSequencesAndOneArrayForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array[], device & ML_STAR ) void ;
private function SortTwoSequencesAndTwoArraysForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array_volume[], variable & array_2[], device & ML_STAR ) void ;
private function SortTwoSequencesAndTwoStringArraysForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array_volume[], variable & array_2[], device & ML_STAR ) void ;
private function _version(  ) void ;
private function get_distinct_from_array( variable & i_arr[], variable & o_arr[] ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 0);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "A_WorkList_Read" "Begin"
function A_WorkList_Read( device & i_MLSTAR, variable i_hdl_InputWorklist, variable i_bln_SetConcentrationFilterOnWorklist, variable i_flt_MinimumConcentration, variable i_flt_MaximumConcentration, sequence i_seq_SourcePlate, sequence & o_seq_SourceAsp, sequence i_seq_TargetPlate, sequence & o_seq_TargetDisp, variable & o_int_NumberOfSamplesFromFile, variable & o_int_NumberOfTargetsFromFile, variable & o_arr_SourceWellPositions[], variable & o_arr_TargetWellPositionsDistinct[] ) void {
// }} ""
private variable file1_Source_Well;
private variable l_str_DummyLabwareId_Asp;
private variable l_flt_massPerSample;
private variable l_flt_volumePerSample;
private variable l_int_NumberOfSamples;
private variable file1_Target_Well;
private variable l_str_SQLSentence;
private variable file1_Source_SampleID;
private variable loopCounter1;
private variable l_int_NumberOfDistinctPoolWells;
private variable loopCounter2;
private variable l_str_DummyLabwareId_DiluentDisp;
private variable loopCounter3;
private variable l_str_DummyLabwareId_Disp;
private variable l_str_PoolWell_Id;
private file file1;
private sequence l_seq_TargetDisp;
private variable l_arr_TargetWellPositions[];
private variable file1_Source_Concentration;
// {{ 5 "A_WorkList_Read" "InitLocals"
{ sequence __temp; o_seq_SourceAsp = __temp; }
{ sequence __temp; o_seq_TargetDisp = __temp; }
o_int_NumberOfSamplesFromFile = 0;
o_int_NumberOfTargetsFromFile = 0;
o_arr_SourceWellPositions.SetSize( 0);
o_arr_TargetWellPositionsDistinct.SetSize( 0);
// }} ""
// {{ 1 1 0 "7fa63a54_c572_4326_bda3d63d1db41b3f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: WORKLIST_READ STARTED\n************************************************************************************************************\n"));
// }} ""
// {{ 2 1 0 "5b9f9b8e_367d_4644_ac8e6a800c1b4468" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_massPerSample = 0.0;
// }} ""
// {{ 3 1 0 "39a8d0cf_9c46_43c0_ade67d0a7ab504e0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_volumePerSample = 0.0;
// }} ""
// {{{ 4 1 0 "c5fedd29_1d50_4157_9bc2640460a250d0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_DiluentDisp = SeqGetLabwareId(i_seq_TargetPlate);
// }} ""
// {{{ 5 1 0 "0418a7da_826d_433a_af4d8f7df54727c8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_Asp = SeqGetLabwareId(i_seq_SourcePlate);
// }} ""
// {{{ 6 1 0 "e581a16e_dc9a_4ca3_a1cb509ebdf26ee3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_Disp = SeqGetLabwareId(i_seq_TargetPlate);
// }} ""
// {{ 7 1 0 "dd1bd5fc_ddfa_476d_b14de2b3f9d397fb" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead, "Select distinct [Target_Well] from [Sheet1$]") )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 8 1 0 "6a1a7d12_6c8f_49eb_ab6be939beab4518" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
t_arr_Disctint_Pool_Well.SetSize(0);
// }} ""
// {{ 9 1 0 "21985a5b_15a9_487d_ad82679663370675" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
t_arr_Filtered_Source_Well_Concentration.SetSize(0);
// }} ""
// {{ 10 1 0 "ea83a677_5eb4_43e9_ae9b8a8b0697ea88" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 11 1 0 "46806548_a1c9_4d9b_b9f7d40549423dcb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 12 1 0 "f0edb8a8_bfd5_458c_92b8ff3d7745cd49" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 13 1 0 "e88753da_69ec_4177_b63bfbd561dea17d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 14 1 0 "e56707cd_b55a_4456_b7f31372b1ba20a5" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 15 1 0 "17cc8261_8b64_4fe2_a3d9fad2e687c60a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_Disctint_Pool_Well.AddAsLast(file1_Target_Well);
// }} ""
Trace("file1_Target_Well: ",file1_Target_Well);
// {{ 17 1 0 "e88753da_69ec_4177_b63bfbd561dea17d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 18 1 0 "b00002b5_d492_416e_a07c0416617c3c67" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 19 1 0 "b434248a_785e_41fd_89032e906e2b2839" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctPoolWells=t_arr_Disctint_Pool_Well.GetSize();
// }} ""
// {{ 20 1 0 "72449e11_d11d_484e_a0c9e323cf48f5ac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOfTargetsFromFile = l_int_NumberOfDistinctPoolWells;
// }} ""
// {{ 21 1 0 "19843e2c_a47e_4773_99aa0f56bb6cf9bc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_int_NumberOfTargetsFromFile = o_int_NumberOfTargetsFromFile;
// }} ""
// {{ 22 1 0 "f0edb8a8_bfd5_458c_92b8ff3d7745cd49" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 23 1 0 "eb2bb11e_cc06_4a72_a9c03ede12b0deb2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 24 1 0 "820fc818_bcc1_484e_b70948a3338dcd30" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
t_arr_NumberOfSamplePerPool.SetSize(0);
// }} ""
// {{ 25 1 0 "3e3d725a_0cae_43de_b5639579b968c1d5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
t_arr_SourceWellID.SetSize(0);
// }} ""
// {{ 26 1 0 "8d870781_49e7_4ead_808a89b03aa5461d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_TargetWellPositions.SetSize(0);
// }} ""
// {{ 27 1 0 "6b03bc69_1006_4e25_892fdb12d0c827b8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_SourceWellPositions.SetSize(0);
// }} ""
// {{ 28 1 0 "b43f17d9_22d7_4576_86317ae1af99db94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_SetConcentrationFilterOnWorklist == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 29 1 0 "624dead9_51af_4f8b_9a89f6719f21ccdc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctPoolWells;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 30 1 0 "7bc7ea62_eb09_4af4_a0de2e5c00905c52" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 31 1 0 "c5b4c000_91b8_4190_86e7d27443163ee0" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_PoolWell_Id=t_arr_Disctint_Pool_Well.GetAt(loopCounter2-1);
// }} ""
// {{{ 32 1 0 "84d7b8b6_ae97_464e_95243bda46eaf650" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Target_Well] = '"), l_str_PoolWell_Id, Translate("'"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 34 1 0 "0eeab13c_73e8_4130_a8149be3a3d89cca" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Source_Concentration", file1_Source_Concentration, hslFloat);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 35 1 0 "a952ca15_4f23_413f_8c54abc7645d90f6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 36 1 0 "a291bf6e_fdd0_4651_b3c91f6d45299dd3" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 37 1 0 "61f1af04_7770_4b73_9a622cf8228a8e80" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_Source_Concentration <= i_flt_MaximumConcentration)
{
// }} ""
// {{ 38 1 0 "14987b82_84f5_4670_9c5a257d230179eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_Source_Concentration >= i_flt_MinimumConcentration)
{
// }} ""
// {{ 39 1 0 "3f058106_022f_42f4_98cae338da473830" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{{ 40 1 0 "73eee193_0fa6_4085_b18206ebb2c360f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_SourceAsp, l_str_DummyLabwareId_Asp, file1_Source_Well);
// }} ""
// {{ 41 1 0 "891ca5da_482a_41a0_986cac45fe137c3a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_SourceWellID.AddAsLast(file1_Source_Well);
// }} ""
// {{{ 42 1 0 "4dd3211f_dac0_4905_9708cfc5b50fd466" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TargetDisp, l_str_DummyLabwareId_Disp, l_str_PoolWell_Id);
// }} ""
// {{{ 43 1 0 "34d71373_7231_40fb_951e6bb146774efb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(l_seq_TargetDisp, l_str_DummyLabwareId_Disp, l_str_PoolWell_Id);
// }} ""
// {{ 44 1 0 "7b896f69_3aa8_4867_a82a0a89193c6aa4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_SourceWellPositions.AddAsLast(file1_Source_Well);
// }} ""
// {{ 45 1 0 "454bc2d4_0a24_455f_83b879ab95b1e004" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_TargetWellPositions.AddAsLast(l_str_PoolWell_Id);
// }} ""
// {{ 46 1 0 "f6159639_5181_4b33_a358c7e5ffad87f1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_Filtered_Source_Well_Concentration.AddAsLast(file1_Source_Concentration);
// }} ""
// {{ 47 1 0 "14987b82_84f5_4670_9c5a257d230179eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 48 1 0 "61f1af04_7770_4b73_9a622cf8228a8e80" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 49 1 0 "a952ca15_4f23_413f_8c54abc7645d90f6" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 50 1 0 "0392e350_960a_4d8c_82938047fc21568b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_NumberOfSamplePerPool.AddAsLast(l_int_NumberOfSamples);
// }} ""
// {{ 51 1 0 "624dead9_51af_4f8b_9a89f6719f21ccdc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 52 1 0 "b43f17d9_22d7_4576_86317ae1af99db94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 53 1 0 "e93d06d0_bddc_43e0_9245e7da9163ef10" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctPoolWells;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 54 1 0 "19ef1467_1b05_4222_b283e5687eef0b88" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 55 1 0 "b994a159_2db0_4c58_9dbb18fc7da5eeb2" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_PoolWell_Id=t_arr_Disctint_Pool_Well.GetAt(loopCounter2-1);
// }} ""
// {{{ 56 1 0 "f8e12f9c_07fb_4808_895d899c305cc308" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Target_Well] = '"), l_str_PoolWell_Id, Translate("'"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 58 1 0 "1f5df137_121b_4575_bd156751d4cf7e09" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 59 1 0 "5f106a16_ac67_421a_aca82ac03e2c5070" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 60 1 0 "9d5f8de4_5816_4baf_a353d4b5a0c02879" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 61 1 0 "9cacdc62_bced_45a8_a0be4453d06a7aba" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{{ 62 1 0 "8380e39d_73de_4934_8e3040639bbd04b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_SourceAsp, l_str_DummyLabwareId_Asp, file1_Source_Well);
// }} ""
// {{ 63 1 0 "d7adca97_b890_4b35_95f07e137cb3f3a4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_SourceWellID.AddAsLast(file1_Source_Well);
// }} ""
// {{{ 64 1 0 "dffbe6d4_0dfd_4f37_8cac4c56014c3af1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TargetDisp, l_str_DummyLabwareId_Disp, l_str_PoolWell_Id);
// }} ""
// {{{ 65 1 0 "c597d359_c133_4bd9_b1b3062aee3f9959" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(l_seq_TargetDisp, l_str_DummyLabwareId_Disp, l_str_PoolWell_Id);
// }} ""
// {{ 66 1 0 "7d2ea306_a774_4ede_a3d1618ca4526b3b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_SourceWellPositions.AddAsLast(file1_Source_Well);
// }} ""
// {{ 67 1 0 "8ca1fe7c_0289_4327_8653a077c87b3205" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_TargetWellPositions.AddAsLast(l_str_PoolWell_Id);
// }} ""
// {{ 68 1 0 "5f106a16_ac67_421a_aca82ac03e2c5070" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 69 1 0 "2a325160_1f1b_40b7_bd3ea8737729c6d5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
t_arr_NumberOfSamplePerPool.AddAsLast(l_int_NumberOfSamples);
// }} ""
// {{ 70 1 0 "e93d06d0_bddc_43e0_9245e7da9163ef10" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 71 1 0 "b43f17d9_22d7_4576_86317ae1af99db94" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 72 1 0 "1cba4e57_64d7_412d_9614193f24d6357b" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 73 1 0 "d7fe2565_7516_4f1b_b613b743b860ca2a" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_SourceAsp.SetCurrentPosition(1);
// }} ""
// {{ 74 1 0 "f9fbf2a5_b5db_4c08_bc7144afde24270f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_TargetDisp.SetCurrentPosition(1);
// }} ""
// {{{ 75 1 0 "9608f3f2_8ce0_4861_af474cf2ee3f6277" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_SourceAsp);
// }} ""
// {{{ 76 1 0 "4247fe1f_766a_4f0e_b148b771d9a307f3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_TargetDisp);
// }} ""
// {{{ 77 1 0 "9c575264_ef9b_454a_b7ce0ec4b32c32fc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_int_NumberOfSamplesFromFile = SeqGetTotal(o_seq_SourceAsp);
// }} ""
// {{ 78 1 0 "cfacaf5b_febb_43de_9d7fe7c0026c19ae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_int_NumberOfSamplesFromFile = o_int_NumberOfSamplesFromFile;
// }} ""
// {{{ 79 1 0 "ec9ca768_f276_43d0_b044c94c52ccc239" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("t_arr_NumberOfSamplePerPool: "), t_arr_NumberOfSamplePerPool);
// }} ""
// {{ 80 1 0 "eb2bb11e_cc06_4a72_a9c03ede12b0deb2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 81 1 0 "46806548_a1c9_4d9b_b9f7d40549423dcb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 82 1 0 "6feed6a6_e90e_41ef_850b665b2d3f42d3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    Samples\n************************************************************************************************************\n"));
// }} ""
// {{{ 83 1 0 "bd6fd543_b5bf_4121_abd8a52270f9a5af" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_SourceAsp);
// }} ""
// {{{ 84 1 0 "d4b6353c_046b_4673_b4b144cbda8892ae" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("o_arr_SampleWellPositions: "), o_arr_SourceWellPositions);
// }} ""
// {{ 85 1 0 "a0e4eee1_7a77_4f5a_ad31af401615b68c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    Targets\n************************************************************************************************************\n"));
// }} ""
// {{{ 86 1 0 "9577d491_06bc_49b0_ae365cd502e9ff2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_TargetDisp);
// }} ""
// {{ 87 1 0 "813e0f3a_e67f_46da_84d1c55d4dfb8406" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    REARRAGANGIN ARRAYS AND SEQUENCES\n************************************************************************************************************\n"));
// }} ""
// {{{ 88 1 0 "fcfc2a56_d25e_4fd3_ba9e80690b602815" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SortTwoSequencesAndTwoStringArraysForChannels(o_seq_TargetDisp, o_seq_SourceAsp, l_arr_TargetWellPositions, o_arr_SourceWellPositions, i_MLSTAR);
// }} ""
// {{{ 89 1 0 "2f225553_583f_4a9d_8a163474af8004d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_SourceAsp);
// }} ""
// {{{ 90 1 0 "ccac9202_4868_4985_99ffa627f05d02ec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("o_arr_SampleWellPositions: "), o_arr_SourceWellPositions);
// }} ""
// {{{ 91 1 0 "09c577ce_17f0_4e11_b614826994a84d84" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_TargetDisp);
// }} ""
// {{{ 92 1 0 "5d770f08_5eae_4b7a_ac1d5eee7a9033be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_TargetWellPositions: "), l_arr_TargetWellPositions);
// }} ""
// {{ 93 1 0 "d898fe0d_e25f_4c08_8f21a83147a1d97b" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
t_arr_TargetWellPositions=l_arr_TargetWellPositions;
// }} ""
// {{{ 94 1 0 "39362dc1_9067_43ca_b308f17f1dfa44ba" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_TargetWellPositions, o_arr_TargetWellPositionsDistinct);
// }} ""
// {{{ 95 1 0 "337d49cf_a49b_4cd7_9dfc951c63b4e7d0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("o_arr_TargetWellPositionsDistinct: "), o_arr_TargetWellPositionsDistinct);
// }} ""
// {{ 96 1 0 "14a6505f_e5d4_4026_8c8f5512cdc9b23e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: WORKLIST_READ COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "A_WorkList_Read" "End"
}
// }} ""
// {{{ 5 "SortTwoSequencesAndTwoArraysForChannels" "Begin"
private function SortTwoSequencesAndTwoArraysForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array_volume[], variable & array_2[], device & ML_STAR ) void {
// }} ""
private variable Unique_y_coordinate;
private variable lookup_return;
private variable deltaY;
private variable LoopsNum;
private variable disp_labid;
private variable volume2;
private variable sql_statement;
private variable asp_angle;
private variable seq_sort_file2;
private variable asp_pos_id;
private variable asp_labid;
private variable disp_posid;
private variable volume;
private variable array_size;
private variable loopCounter1;
private variable loopCounter2;
private variable Unique_x_coordinate;
private variable seq_sort_file;
private variable loopCounter3;
private variable asp_x_coord;
private variable asp_y_coord;
private variable asp_z_coord;
private variable loopCounter4;
private variable loopCounter5;
private variable loopCounter6;
private file seq_sort;
private file seq_sort2;
private variable arr_valuesycoord[];
private variable arr_valuesdestposid[];
private variable arr_valuesvol2[];
private variable arr_valuesLabID[];
private variable arr_valuesprocessed[];
private variable unique_x_coordinates[];
private variable arr_valuesvol[];
private variable arr_valuespdestlabid[];
private variable arr_valuesPosID[];
// {{ 5 "SortTwoSequencesAndTwoArraysForChannels" "InitLocals"
// }} ""
// {{ 1090 1 0 "cc4afb4d_8bb3_425b_b7facab316feb6c3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1091 1 0 "012464ab_5d16_4ff3_8aa9a32a17ecd81d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1092 1 0 "b818d461_7b53_4718_b17975fa1391fc3d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file = "C:\\temp\\dummy.xls";
// }} ""
// {{ 1093 1 0 "703a1e69_a899_4e39_b781a86c79079f9f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file2 = "C:\\temp\\dummy2.xls";
// }} ""
// {{ 1094 1 0 "13011d3c_41fd_45e8_8c7227b0c606f423" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1095 1 0 "b6a7f85f_9240_47a0_856bd023ab2fc2b9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 1096 1 0 "4e005ef6_b6bb_4f95_ae45a68d292df1af" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 1097 1 0 "cc4afb4d_8bb3_425b_b7facab316feb6c3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1098 1 0 "1678940a_1e8f_47b9_9ef4cdf8f006c172" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1099 1 0 "cd29a83a_bddc_406f_b2aa68aa15b77660" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1100 1 0 "55b23d16_5856_4809_b6b354b748379771" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslFloat);
seq_sort.AddField("volume2", volume2, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1101 1 0 "f9a2c2de_721b_44fb_b3d0d5c625b8444d" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 1102 1 0 "d9035e1a_0325_41c4_ab8f426849d7f111" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 1103 1 0 "8354f804_c702_4385_bb64eb52b7e31d1a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (sequence_for_sorting.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, sequence_for_sorting, 1);
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 1104 1 0 "1a83d267_b830_4e53_90af7cb72de96bb6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1105 1 0 "336344a4_c957_4500_b60f1d158455504d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_labid = SeqGetLabwareId(sequence_for_sorting);
// }} ""
// {{{ 1106 1 0 "d8d765b4_3235_4f90_8f457fae87a3bf23" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_pos_id = SeqGetPositionId(sequence_for_sorting);
// }} ""
// {{{ 1107 1 0 "d35ee86f_6e1e_43fb_a294064ada939f5a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, asp_labid, asp_pos_id, asp_x_coord, asp_y_coord, asp_z_coord, asp_angle);
// }} ""
// {{{ 1108 1 0 "e8723e4e_967c_4731_be6de097da19ed53" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_labid = SeqGetLabwareId(secondary_seq);
// }} ""
// {{{ 1109 1 0 "49885c91_83eb_47bf_898a215e78cc9717" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_posid = SeqGetPositionId(secondary_seq);
// }} ""
// {{ 1110 1 0 "2c95a904_d15c_4ed1_902c67b3eb701120" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=array_volume.GetAt(loopCounter1-1);
// }} ""
// {{ 1111 1 0 "a31a2c34_e1d7_435f_a47f4cd147c63e4d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume2=array_2.GetAt(loopCounter1-1);
// }} ""
// {{ 1112 1 0 "d0d4be7c_fc0f_417d_af32f11bfd2000c4" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.WriteRecord() )
{
    MECC::RaiseRuntimeError(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
// }} ""
// {{{ 1113 1 0 "b1d8c151_d344_45b8_81ed43cc2a6ec0ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(sequence_for_sorting, 1);
// }} ""
// {{{ 1114 1 0 "4ee4a077_8181_4471_a22d6bc61ed5dc01" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(secondary_seq, 1);
// }} ""
// {{ 1115 1 0 "8354f804_c702_4385_bb64eb52b7e31d1a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (sequence_for_sorting.GetCurrentPosition() > 0 && sequence_for_sorting.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
sequence_for_sorting.SetMax(sequence_for_sorting.GetTotal());
sequence_for_sorting.SetCurrentPosition(1);
}
// }} ""
// {{ 1116 1 0 "e1fae887_7190_4f7f_aa1796805aca1929" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeError(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1117 1 0 "1678940a_1e8f_47b9_9ef4cdf8f006c172" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1118 1 0 "93648bc3_47b5_4d07_b9ba45cadc4bfbea" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1119 1 0 "fa7245cc_1ea0_4f55_a24e0f9e2275dc4e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
sql_statement = "SELECT * FROM sheet1 ORDER BY  asp_x_coord ASC, asp_y_coord DESC";
// }} ""
// {{ 1120 1 0 "4a4bfd94_e248_4bd1_b3fb57781ad372fe" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslFloat);
seq_sort.AddField("volume2", volume2, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1121 1 0 "7a6f4f95_2641_450e_98d8edbec57b45ab" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslFloat);
seq_sort2.AddField("volume2", volume2, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1122 1 0 "16d0e464_e751_4f20_95456132baa5d245" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = 0;
// }} ""
// {{ 1123 1 0 "5ed94839_4682_40ad_87a878d89e3a4833" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
unique_x_coordinates.SetSize(0);
// }} ""
// {{ 1124 1 0 "fd03d820_9b92_464c_8778e41951e9d07f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter5 = 0;
while (
   (seq_sort.Eof() == 0)
)
{
loopCounter5 = loopCounter5 + 1;
// }} ""
// {{ 1125 1 0 "64d3942d_ace2_4257_a0b18614d03b085d" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1126 1 0 "b2f15a93_9c43_401f_956e2823410a8d76" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (asp_x_coord != Unique_x_coordinate)
{
// }} ""
// {{ 1127 1 0 "6bdf21c2_9d7d_4222_a3a620bc1acf624a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
unique_x_coordinates.AddAsLast(asp_x_coord);
// }} ""
// {{ 1128 1 0 "24fb1c98_6c35_4c00_b515cdc6ed38bcf7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = asp_x_coord;
// }} ""
// {{ 1129 1 0 "b2f15a93_9c43_401f_956e2823410a8d76" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1130 1 0 "9848ef92_236c_4cf1_be9be08189bc746b" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1131 1 0 "fd03d820_9b92_464c_8778e41951e9d07f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1132 1 0 "9c3e32f7_3378_4ffc_bd84330e34a41221" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1133 1 0 "ab6c97bd_8f9d_45df_8cbff83ec831f3f7" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1134 1 0 "93648bc3_47b5_4d07_b9ba45cadc4bfbea" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1135 1 0 "ee064dea_84b3_489a_a37390067082fa67" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1136 1 0 "0ed454ce_3e87_40fd_8df9aae4ff4175f9" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
array_size=unique_x_coordinates.GetSize();
// }} ""
// {{ 1137 1 0 "24922919_6327_4b40_9cab5277b20ccaaf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1138 1 0 "42b8edf7_5d8a_4ed7_94e8b6d8a7b68590" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(sequence_for_sorting);
// }} ""
// {{{ 1139 1 0 "5e909b92_df19_47b3_9f1160b7db5489b8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(secondary_seq);
// }} ""
// {{ 1140 1 0 "ec01b06e_d733_4ebb_afc452eb0f8c44c1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_volume.SetSize(0);
// }} ""
// {{ 1141 1 0 "ed3f981e_2203_45d1_a8038e51e0baf622" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_2.SetSize(0);
// }} ""
// {{ 1142 1 0 "c23f39bb_ad02_4346_bcde4f49f601bb16" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < array_size;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 1143 1 0 "c71f31f2_6373_46ce_9cd45a79c0d61ea3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesLabID.SetSize(0);
// }} ""
// {{ 1144 1 0 "663a2e62_e0d9_46e6_90a1dc5d7657e0bf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesPosID.SetSize(0);
// }} ""
// {{ 1145 1 0 "17db07bf_7288_4c47_910c6dbc44fbbfaf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesycoord.SetSize(0);
// }} ""
// {{ 1146 1 0 "87b3d4b2_9b8d_488f_a738b494c79f22b2" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol.SetSize(0);
// }} ""
// {{ 1147 1 0 "52df9546_31b9_4024_8432e87d9614a19f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol2.SetSize(0);
// }} ""
// {{ 1148 1 0 "5beca38a_ea24_41cb_81237817390e5197" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesprocessed.SetSize(0);
// }} ""
// {{ 1149 1 0 "ca37ec20_89a6_455c_9368d2a39d1013f8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuespdestlabid.SetSize(0);
// }} ""
// {{ 1150 1 0 "1b0bec76_90a7_4db8_8c220a5c8e30d29a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesdestposid.SetSize(0);
// }} ""
// {{ 1151 1 0 "8217dfdd_0660_4593_a88c1eed74c7d189" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_x_coord=unique_x_coordinates.GetAt(loopCounter2-1);
// }} ""
// {{{ 1152 1 0 "8362d1dc_4ee1_47a9_a9c5cf128d856843" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sql_statement = StrConcat4(Translate("SELECT * FROM [sheet1$] WHERE [asp_X_coord] = "), asp_x_coord, Translate(""), Translate(""));
// }} ""
// {{ 1153 1 0 "b8c3d7a4_3dfe_4c43_9dfa11b1f26162ab" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1154 1 0 "21ddf6ce_8d69_450b_b52e4049fca5eab8" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslFloat);
seq_sort2.AddField("volume2", volume2, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1155 1 0 "0ece9a7f_e5d3_46e0_8bb2714fb67e212c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (seq_sort2.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 1156 1 0 "a2d6302c_e4bb_4815_9e163b2698b0fa6c" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1157 1 0 "cb316b58_d2cb_4bc2_97a9c70b09e2521a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesLabID.AddAsLast(asp_labid);
// }} ""
// {{ 1158 1 0 "89433ec2_26e3_4e34_9646a0db6ba83698" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesPosID.AddAsLast(asp_pos_id);
// }} ""
// {{ 1159 1 0 "9f074135_8083_454f_99cbe0a6058199c2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesycoord.AddAsLast(asp_y_coord);
// }} ""
// {{ 1160 1 0 "a2f5dab3_8f05_4b47_af06bed1178bf8ab" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol.AddAsLast(volume);
// }} ""
// {{ 1161 1 0 "0b551876_2bcf_4d79_91f71498efc226a9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol2.AddAsLast(volume2);
// }} ""
// {{ 1162 1 0 "f4e60b95_e702_4450_bec53be88a5890ec" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.AddAsLast(0);
// }} ""
// {{ 1163 1 0 "290660c0_00cc_4be5_b6f8283af75b556a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuespdestlabid.AddAsLast(disp_labid);
// }} ""
// {{ 1164 1 0 "50c3f3f7_148e_4d82_82d5676be27a5932" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesdestposid.AddAsLast(disp_posid);
// }} ""
// {{ 1165 1 0 "0ece9a7f_e5d3_46e0_8bb2714fb67e212c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1166 1 0 "1970e5f5_971c_4ea4_b6c6ced6895cea72" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter6 = 0;
while (1 == 1)
{
loopCounter6 = loopCounter6 + 1;
// }} ""
// {{ 1167 1 0 "0c70cf1a_577f_42aa_bdadd9b8aae4c68b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1168 1 0 "06cf2530_51a4_4040_baf6b790aedd6422" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = Lookup(arr_valuesprocessed, 0);
// }} ""
// {{ 1169 1 0 "0dd44407_7181_4012_b14237d0e573bdff" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 1170 1 0 "b7865aed_4ff3_48e8_a4a33c5feedd2c3f" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1171 1 0 "0dd44407_7181_4012_b14237d0e573bdff" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1172 1 0 "4c8a06ec_0f3f_41a4_9f86db68ebabe76d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = 10000000;
// }} ""
// {{ 1173 1 0 "08d4e713_7781_46a5_bd750f5f0f5884ae" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
LoopsNum=arr_valuesLabID.GetSize();
// }} ""
// {{ 1174 1 0 "c62433b3_2162_491f_9d9f1afcddb29940" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < LoopsNum;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{ 1175 1 0 "8c873694_6009_4d0a_93cd12c42e45b223" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (arr_valuesprocessed.ElementAt( loopCounter4 -1) == 0)
{
// }} ""
// {{ 1176 1 0 "2356e3e6_917d_4bfb_8911a16e556e8b97" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_y_coord=arr_valuesycoord.GetAt(loopCounter4-1);
// }} ""
// {{ 1177 1 0 "1346907b_eb92_4cfe_9aeec38501dd0763" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
deltaY = Unique_y_coordinate - asp_y_coord;
// }} ""
// {{ 1178 1 0 "d79a9890_542a_4e24_a24eb4bd174e31a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (deltaY >= 9)
{
// }} ""
// {{ 1179 1 0 "24599f16_c310_4733_8ad312faddb48025" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_labid=arr_valuesLabID.GetAt(loopCounter4-1);
// }} ""
// {{ 1180 1 0 "fae1c905_2e7f_49a9_b9c87cab3c3a531a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_pos_id=arr_valuesPosID.GetAt(loopCounter4-1);
// }} ""
// {{ 1181 1 0 "37940403_6755_494a_8090a58f08abddc6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_labid=arr_valuespdestlabid.GetAt(loopCounter4-1);
// }} ""
// {{ 1182 1 0 "15ae5110_a296_4165_9bda2a7150f4793c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_posid=arr_valuesdestposid.GetAt(loopCounter4-1);
// }} ""
// {{ 1183 1 0 "e9c10954_6912_4cf9_95e0cce3c1fcf769" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=arr_valuesvol.GetAt(loopCounter4-1);
// }} ""
// {{ 1184 1 0 "32b240e6_32f8_467c_a7216d7361e75b6a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume2=arr_valuesvol2.GetAt(loopCounter4-1);
// }} ""
// {{{ 1185 1 0 "2734111a_b5fb_45e6_93d96146fa1a7df8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(sequence_for_sorting, asp_labid, asp_pos_id);
// }} ""
// {{{ 1186 1 0 "7e06bc50_6676_46ca_b4c7307d8080deea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(secondary_seq, disp_labid, disp_posid);
// }} ""
// {{ 1187 1 0 "84354a9c_c41e_48a7_9df84b92e4747704" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = asp_y_coord;
// }} ""
// {{ 1188 1 0 "655560dd_7b4c_4e1c_a94c0184071293ca" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_volume.AddAsLast(volume);
// }} ""
// {{ 1189 1 0 "075d4d6a_5442_4c13_b527bff5d7154f73" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_2.AddAsLast(volume2);
// }} ""
// {{ 1190 1 0 "8283e3fa_70a8_48ea_924bf56381a88704" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.SetAt(loopCounter4-1, 1);
// }} ""
// {{ 1191 1 0 "d79a9890_542a_4e24_a24eb4bd174e31a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1192 1 0 "8c873694_6009_4d0a_93cd12c42e45b223" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1193 1 0 "c62433b3_2162_491f_9d9f1afcddb29940" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1194 1 0 "1970e5f5_971c_4ea4_b6c6ced6895cea72" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1195 1 0 "f881250f_42c0_4ef3_ae7f6cf30d011e07" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1196 1 0 "c23f39bb_ad02_4346_bcde4f49f601bb16" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1197 1 0 "2c8f77d8_b517_489b_8408689a1b903108" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1198 1 0 "3739416a_672e_4f52_a25e182615b4c1f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 1199 1 0 "06f0ca74_e4fa_47ea_8a5c2c9c8c156d18" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 1200 1 0 "abde61c9_faae_489c_85bce9b6bc5d385f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1201 1 0 "5d9f4942_6527_494a_acd327f14aa828d8" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 1202 1 0 "dcde6f05_82c7_4a39_87a1b5a0e3ecea7f" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 1203 1 0 "ee064dea_84b3_489a_a37390067082fa67" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SortTwoSequencesAndTwoArraysForChannels" "End"
}
// }} ""
// {{{ 5 "SortOneSequenceAndOneArrayForChannels" "Begin"
private function SortOneSequenceAndOneArrayForChannels( sequence & sequence_for_sorting, variable & array[], device & ML_STAR ) void {
// }} ""
private variable Unique_y_coordinate;
private variable lookup_return;
private variable deltaY;
private variable LoopsNum;
private variable asp_angle;
private variable sql_statement;
private variable seq_sort_file2;
private variable asp_pos_id;
private variable asp_labid;
private variable volume;
private variable array_size;
private variable loopCounter1;
private variable Unique_x_coordinate;
private variable loopCounter2;
private variable seq_sort_file;
private variable asp_y_coord;
private variable loopCounter3;
private variable asp_x_coord;
private variable asp_z_coord;
private variable loopCounter4;
private variable loopCounter5;
private variable loopCounter6;
private file seq_sort;
private file seq_sort2;
private variable arr_valuesycoord[];
private variable arr_valuesLabID[];
private variable arr_valuesprocessed[];
private variable unique_x_coordinates[];
private variable arr_valuesvol[];
private variable arr_valuesPosID[];
// {{ 5 "SortOneSequenceAndOneArrayForChannels" "InitLocals"
// }} ""
// {{ 885 1 0 "d8190c1d_a271_4e10_8fe849e00b016edb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 886 1 0 "2ca24929_215f_4c3c_a1bb487377f8bce3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 887 1 0 "0dcd70fe_8a0c_46c7_a546934d378adb50" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file = "C:\\temp\\dummy.xls";
// }} ""
// {{ 888 1 0 "cefbbd55_835b_41f5_a7fecee8a040f41c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file2 = "C:\\temp\\dummy2.xls";
// }} ""
// {{ 889 1 0 "8d2e7e71_f98e_4012_a1e519f7da447131" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 890 1 0 "661d1c01_cc21_4545_b399a963cda94387" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 891 1 0 "99ffc15c_bf08_4fe9_ae9a43656f6e9a31" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 892 1 0 "d8190c1d_a271_4e10_8fe849e00b016edb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 893 1 0 "632325ac_d59d_4557_a42e5fb8f4d4cca2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 894 1 0 "6bb5e149_5b4b_4db4_a192f1501f37c4c1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 895 1 0 "54012a9e_0f4c_42ad_95c6008ed90f6469" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 896 1 0 "a709133c_468e_4bb1_b2072e38cabc7582" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 897 1 0 "8e418c90_74af_46c9_a2588394b81d45a3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (sequence_for_sorting.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, sequence_for_sorting, 1);
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 898 1 0 "9d5f2224_2015_4e3e_aa82301bb1d2848b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 899 1 0 "f1d75753_7eb9_40f5_82cc1e6768e903de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_labid = SeqGetLabwareId(sequence_for_sorting);
// }} ""
// {{{ 900 1 0 "18c9b98d_4832_446f_a68361f160967ac3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_pos_id = SeqGetPositionId(sequence_for_sorting);
// }} ""
// {{{ 901 1 0 "5716168c_c987_4c07_87127f30eca492ea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, asp_labid, asp_pos_id, asp_x_coord, asp_y_coord, asp_z_coord, asp_angle);
// }} ""
// {{ 902 1 0 "e8d97b88_9009_4c0a_b10352ef161b79c7" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=array.GetAt(loopCounter1-1);
// }} ""
// {{ 903 1 0 "9e51e798_c0ec_4050_a40cd4a6844c69ca" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.WriteRecord() )
{
    MECC::RaiseRuntimeError(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
// }} ""
// {{{ 904 1 0 "a8527aa0_edf2_4c49_a07a5b605fedec11" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(sequence_for_sorting, 1);
// }} ""
// {{ 905 1 0 "8e418c90_74af_46c9_a2588394b81d45a3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (sequence_for_sorting.GetCurrentPosition() > 0 && sequence_for_sorting.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
sequence_for_sorting.SetMax(sequence_for_sorting.GetTotal());
sequence_for_sorting.SetCurrentPosition(1);
}
// }} ""
// {{ 906 1 0 "a54218ba_4a9a_49b7_897317141d5fdd89" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeError(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 907 1 0 "632325ac_d59d_4557_a42e5fb8f4d4cca2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 908 1 0 "4945f531_45bd_4eda_aec1f801255125aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 909 1 0 "52ee9686_5170_4df5_b5f97bae72a30718" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
sql_statement = "SELECT * FROM sheet1 ORDER BY  asp_x_coord ASC, asp_y_coord DESC";
// }} ""
// {{ 910 1 0 "30d8d392_efd0_4d39_a5a78ffd4af4b7a0" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 911 1 0 "baf0b844_e53c_44ae_ab892d6388d92a49" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 912 1 0 "b87908ac_75b3_481c_8c676c8781c07321" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = 0;
// }} ""
// {{ 913 1 0 "5f270852_230a_4246_88741ff2eaeb5c91" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
unique_x_coordinates.SetSize(0);
// }} ""
// {{ 914 1 0 "15596196_e469_4858_a471a6bedaba9503" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter5 = 0;
while (
   (seq_sort.Eof() == 0)
)
{
loopCounter5 = loopCounter5 + 1;
// }} ""
// {{ 915 1 0 "e72c55ca_b9d6_4b3c_bf0cfa28562c360f" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 916 1 0 "89d5c881_e20f_473f_bb536f065b28a60b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (asp_x_coord != Unique_x_coordinate)
{
// }} ""
// {{ 917 1 0 "99a3722c_9d89_4108_83e45c71d08af4a1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
unique_x_coordinates.AddAsLast(asp_x_coord);
// }} ""
// {{ 918 1 0 "2b9bd113_f990_4628_b6cc1bf45103d3ae" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = asp_x_coord;
// }} ""
// {{ 919 1 0 "89d5c881_e20f_473f_bb536f065b28a60b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 920 1 0 "28109f0c_9c7a_4428_b7c4fe29bfbdb1bd" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 921 1 0 "15596196_e469_4858_a471a6bedaba9503" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 922 1 0 "4f2ee526_d162_4427_b1eb70625ae4f96e" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 923 1 0 "72d796b1_5841_4733_b0548f62e224d5db" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 924 1 0 "4945f531_45bd_4eda_aec1f801255125aa" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 925 1 0 "2e2e9d40_9380_429e_8cf126d75facc8ed" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 926 1 0 "3ebac891_fc15_4213_ac401953cd6b2cfc" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
array_size=unique_x_coordinates.GetSize();
// }} ""
// {{ 927 1 0 "d12792cc_745c_4961_8652837253d9b302" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 928 1 0 "3f95f22e_8217_4723_80e1cf0350784e37" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(sequence_for_sorting);
// }} ""
// {{ 929 1 0 "cf1e2c57_8e09_4f25_abc8eeb63ce4ff57" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array.SetSize(0);
// }} ""
// {{ 930 1 0 "46fbf479_665c_43c9_8aaf187888a3bff7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < array_size;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 931 1 0 "d922b5f2_ac06_4926_903a972e5f3df6de" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesLabID.SetSize(0);
// }} ""
// {{ 932 1 0 "6723de42_1640_43b2_b0758adc8a5969ee" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesPosID.SetSize(0);
// }} ""
// {{ 933 1 0 "08546a31_99bf_4105_8c487242c820bd02" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesycoord.SetSize(0);
// }} ""
// {{ 934 1 0 "d3d7eb16_b020_45f4_9f7eaa9740a6585c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol.SetSize(0);
// }} ""
// {{ 935 1 0 "84f835c4_2d3e_439a_ad419e7b6b638066" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesprocessed.SetSize(0);
// }} ""
// {{ 936 1 0 "e6f2bb6a_3ca8_4118_b37165940998050e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_x_coord=unique_x_coordinates.GetAt(loopCounter2-1);
// }} ""
// {{{ 937 1 0 "7519203e_f7f0_4564_abbfae2508b68735" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sql_statement = StrConcat4(Translate("SELECT * FROM [sheet1$] WHERE [asp_X_coord] = "), asp_x_coord, Translate(""), Translate(""));
// }} ""
// {{ 938 1 0 "8441fe9f_fc35_4914_b0d4940a631a9cb6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 939 1 0 "6223049f_5b93_4431_9fa7ef66f6c966e1" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 940 1 0 "b022a4e5_610a_4298_8f67c4c60056b01e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (seq_sort2.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 941 1 0 "ec38f144_db18_4b2e_9196decd47fbd715" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 942 1 0 "0c7f3de9_15a4_497e_9f44320655a3adba" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesLabID.AddAsLast(asp_labid);
// }} ""
// {{ 943 1 0 "1bbb557a_e033_43dd_b4a31ef45f6e5f5b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesPosID.AddAsLast(asp_pos_id);
// }} ""
// {{ 944 1 0 "c85e042c_f8a2_4e6d_b852ed09deeb6f37" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesycoord.AddAsLast(asp_y_coord);
// }} ""
// {{ 945 1 0 "8505d555_9f1f_4aab_bc23bdfab5ae4a9a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol.AddAsLast(volume);
// }} ""
// {{ 946 1 0 "ccc55108_6ab0_4b2e_96dd2852e0f37537" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.AddAsLast(0);
// }} ""
// {{ 947 1 0 "b022a4e5_610a_4298_8f67c4c60056b01e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 948 1 0 "db2f94ac_9afa_45a2_8f483e7491026630" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter6 = 0;
while (1 == 1)
{
loopCounter6 = loopCounter6 + 1;
// }} ""
// {{ 949 1 0 "59b39632_bf84_473c_a6fdeeac0772b0d4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 950 1 0 "735f05b6_49aa_463b_9e23e9987c3863e9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = Lookup(arr_valuesprocessed, 0);
// }} ""
// {{ 951 1 0 "cf64d7d7_f4ad_49f2_9166e002d6c061e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 952 1 0 "4d16e97a_4025_4bcf_aeda1327e93f2c57" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 953 1 0 "cf64d7d7_f4ad_49f2_9166e002d6c061e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 954 1 0 "a6c17136_3354_46f8_8e6cfdbf3e2d350b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = 10000000;
// }} ""
// {{ 955 1 0 "34651719_6e1e_4002_b9caf5474a1db18c" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
LoopsNum=arr_valuesLabID.GetSize();
// }} ""
// {{ 956 1 0 "e8b78371_b554_413f_93cc5716236c4a8a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < LoopsNum;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{ 957 1 0 "8b17eab4_b2ef_41a6_baed4379e17994c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (arr_valuesprocessed.ElementAt( loopCounter4 -1) == 0)
{
// }} ""
// {{ 958 1 0 "7a51165a_2c80_4f46_b780d4d24231b3f0" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_y_coord=arr_valuesycoord.GetAt(loopCounter4-1);
// }} ""
// {{ 959 1 0 "9c758585_2d13_4b6c_aee67d5fe842f310" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
deltaY = Unique_y_coordinate - asp_y_coord;
// }} ""
// {{ 960 1 0 "e9ef75d4_91c1_4b34_98b9d5098c8dfcea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (deltaY >= 9)
{
// }} ""
// {{ 961 1 0 "f9749314_a4ab_4118_9843eab82ee3b202" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_labid=arr_valuesLabID.GetAt(loopCounter4-1);
// }} ""
// {{ 962 1 0 "a7fa1f53_7fc6_428a_b6bf8d7786b8ee58" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_pos_id=arr_valuesPosID.GetAt(loopCounter4-1);
// }} ""
// {{ 963 1 0 "ec2793ae_4b11_4e33_9e361d7e363ac933" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=arr_valuesvol.GetAt(loopCounter4-1);
// }} ""
// {{{ 964 1 0 "23680b6e_b328_4447_ab9cdea6274d51d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(sequence_for_sorting, asp_labid, asp_pos_id);
// }} ""
// {{ 965 1 0 "51edcab3_0760_4816_ba809bcb936de269" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = asp_y_coord;
// }} ""
// {{ 966 1 0 "735c0080_d81a_4eb0_8d0a5ff3f911b299" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array.AddAsLast(volume);
// }} ""
// {{ 967 1 0 "4100b817_2834_4054_8b2ccb411c956290" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.SetAt(loopCounter4-1, 1);
// }} ""
// {{ 968 1 0 "e9ef75d4_91c1_4b34_98b9d5098c8dfcea" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 969 1 0 "8b17eab4_b2ef_41a6_baed4379e17994c9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 970 1 0 "e8b78371_b554_413f_93cc5716236c4a8a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 971 1 0 "db2f94ac_9afa_45a2_8f483e7491026630" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 972 1 0 "f4c403b7_2116_4032_9eac0fe04fdaa7a8" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 973 1 0 "46fbf479_665c_43c9_8aaf187888a3bff7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 974 1 0 "58553160_cfe9_40fd_b87387e350446fdc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 975 1 0 "a8345659_9dda_446e_a856507253843dfb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 976 1 0 "e4fac7c9_0cd9_42f0_b40dce424525ab6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 977 1 0 "9f8cec7f_1338_43f0_83f1455edbf1ace0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 978 1 0 "6ba57b94_1cfd_4699_a2f7cd632e1fc892" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 979 1 0 "2e2e9d40_9380_429e_8cf126d75facc8ed" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SortOneSequenceAndOneArrayForChannels" "End"
}
// }} ""
// {{{ 5 "SortTwoSequencesAndOneArrayForChannels" "Begin"
private function SortTwoSequencesAndOneArrayForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array[], device & ML_STAR ) void {
// }} ""
private variable Unique_y_coordinate;
private variable lookup_return;
private variable deltaY;
private variable LoopsNum;
private variable disp_labid;
private variable asp_angle;
private variable sql_statement;
private variable seq_sort_file2;
private variable asp_pos_id;
private variable asp_labid;
private variable disp_posid;
private variable volume;
private variable array_size;
private variable loopCounter1;
private variable loopCounter2;
private variable Unique_x_coordinate;
private variable seq_sort_file;
private variable loopCounter3;
private variable asp_x_coord;
private variable asp_y_coord;
private variable asp_z_coord;
private variable loopCounter4;
private variable loopCounter5;
private variable loopCounter6;
private file seq_sort;
private file seq_sort2;
private variable arr_valuesycoord[];
private variable arr_valuesdestposid[];
private variable arr_valuesLabID[];
private variable arr_valuesprocessed[];
private variable unique_x_coordinates[];
private variable arr_valuesvol[];
private variable arr_valuespdestlabid[];
private variable arr_valuesPosID[];
// {{ 5 "SortTwoSequencesAndOneArrayForChannels" "InitLocals"
// }} ""
// {{ 981 1 0 "613ff2f2_2a8b_4dd4_b3e59737f39ca7da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 982 1 0 "ec907f1e_557f_48b0_a39a840f5991adf3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 983 1 0 "710894e3_8e8a_4664_95b217924e988a07" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file = "C:\\temp\\dummy.xls";
// }} ""
// {{ 984 1 0 "088eb281_d513_416e_8cead9a98bcd715a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file2 = "C:\\temp\\dummy2.xls";
// }} ""
// {{ 985 1 0 "7b9bd8c0_caba_470a_bbb4fa94d05ecf8f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 986 1 0 "6cd12b46_e031_42a1_8105b1562bfafb01" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 987 1 0 "b4edb840_814e_4b68_97d7c6c4770ddc3e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 988 1 0 "613ff2f2_2a8b_4dd4_b3e59737f39ca7da" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 989 1 0 "694f5857_bf4e_47b5_9850796eea3d6811" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 990 1 0 "38fa5319_927c_4eb9_a44fa5bb85e550df" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 991 1 0 "89a32ecf_5e1d_47c6_beba5d6fb2005c88" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 992 1 0 "a8d6dc18_e169_43a5_a76ee202f3ae6960" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 993 1 0 "2423bb13_dd5d_4a06_a730b77bb0a74d9d" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 994 1 0 "e19562d5_ede5_4df1_86bb7afc663a6d88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (sequence_for_sorting.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, sequence_for_sorting, 1);
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 995 1 0 "4976926a_8c01_48d6_aee9cf3c05f84ab1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 996 1 0 "716dbf5d_877b_48dc_ba323b48fe2fbd5b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_labid = SeqGetLabwareId(sequence_for_sorting);
// }} ""
// {{{ 997 1 0 "898a54fd_fdd4_4dbc_9573de5517823f46" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_pos_id = SeqGetPositionId(sequence_for_sorting);
// }} ""
// {{{ 998 1 0 "33bbd3c2_dfda_4e6b_96b38240e8cfab7e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, asp_labid, asp_pos_id, asp_x_coord, asp_y_coord, asp_z_coord, asp_angle);
// }} ""
// {{{ 999 1 0 "f4221bc6_d234_4eca_945009dcd4782ed9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_labid = SeqGetLabwareId(secondary_seq);
// }} ""
// {{{ 1000 1 0 "84b4134c_dd1a_4d35_bb6a634b9dcfe37c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_posid = SeqGetPositionId(secondary_seq);
// }} ""
// {{ 1001 1 0 "e0588db3_6669_4ed4_b46351d55bb96d9f" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=array.GetAt(loopCounter1-1);
// }} ""
// {{ 1002 1 0 "1e0b31e6_bbef_4e5c_9754fbbdf8ef5f19" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.WriteRecord() )
{
    MECC::RaiseRuntimeError(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
// }} ""
// {{{ 1003 1 0 "7f21f6d5_b28f_4bb9_a9d6af55930642bd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(sequence_for_sorting, 1);
// }} ""
// {{{ 1004 1 0 "d9842cbb_e8bd_492f_974480ecb56a2d13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(secondary_seq, 1);
// }} ""
// {{ 1005 1 0 "e19562d5_ede5_4df1_86bb7afc663a6d88" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (sequence_for_sorting.GetCurrentPosition() > 0 && sequence_for_sorting.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
sequence_for_sorting.SetMax(sequence_for_sorting.GetTotal());
sequence_for_sorting.SetCurrentPosition(1);
}
// }} ""
// {{ 1006 1 0 "9fde1e2d_56c4_4ff8_bcfdd298de535fb2" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeError(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1007 1 0 "694f5857_bf4e_47b5_9850796eea3d6811" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1008 1 0 "62ce94a6_f4db_461f_a31f4f61369f0b54" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1009 1 0 "f3ede69b_e3dd_4247_ba10d98dc6a20a39" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
sql_statement = "SELECT * FROM sheet1 ORDER BY  asp_x_coord ASC, asp_y_coord DESC";
// }} ""
// {{ 1010 1 0 "5d0f3c58_a7cf_4612_9d1f30bb84be542a" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1011 1 0 "21de17d5_256e_40c4_99b5519e03fbb285" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1012 1 0 "19d8f8cf_b9f2_4aa7_af80bbdc3d322049" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = 0;
// }} ""
// {{ 1013 1 0 "e4126dd5_d521_4128_a1d859d52dff3b75" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
unique_x_coordinates.SetSize(0);
// }} ""
// {{ 1014 1 0 "16187741_4de6_4c05_94a26ffe5e7929a9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter5 = 0;
while (
   (seq_sort.Eof() == 0)
)
{
loopCounter5 = loopCounter5 + 1;
// }} ""
// {{ 1015 1 0 "06c7809a_d2a2_4583_b72e18b6032f74ff" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1016 1 0 "7c3f534f_14d8_4ae0_a85fa6583a24e1e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (asp_x_coord != Unique_x_coordinate)
{
// }} ""
// {{ 1017 1 0 "d31945d0_a262_4ad7_9de60f3656e7fcd1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
unique_x_coordinates.AddAsLast(asp_x_coord);
// }} ""
// {{ 1018 1 0 "00dc7e67_d9aa_445f_9ac4fcdd54381216" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = asp_x_coord;
// }} ""
// {{ 1019 1 0 "7c3f534f_14d8_4ae0_a85fa6583a24e1e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1020 1 0 "7443e703_cc00_4bb2_974c00cc9bb14c9c" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1021 1 0 "16187741_4de6_4c05_94a26ffe5e7929a9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1022 1 0 "5f8738a3_1e71_42ff_9f74cede909728af" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1023 1 0 "e0480a7c_5d17_495d_befd6934f95d0b12" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1024 1 0 "62ce94a6_f4db_461f_a31f4f61369f0b54" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1025 1 0 "42212544_16dd_4bf1_a1bddfc7876f3e31" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1026 1 0 "d59c5111_01de_4b65_b186820cd057a760" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
array_size=unique_x_coordinates.GetSize();
// }} ""
// {{ 1027 1 0 "73c9a823_ed18_4d21_baa9f869cc68cb14" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1028 1 0 "179bf4b6_80ca_495f_9ba3e32180fe9931" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(sequence_for_sorting);
// }} ""
// {{{ 1029 1 0 "b9dfc1bb_571a_4b65_876ea2036cbd1160" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(secondary_seq);
// }} ""
// {{ 1030 1 0 "d1e3f0da_a90e_444b_a39084167bf99014" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array.SetSize(0);
// }} ""
// {{ 1031 1 0 "4de6de13_feeb_4b53_b569439d66d761a5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < array_size;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 1032 1 0 "5c58cb9b_74e3_4f88_8e050823c79ac4f5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesLabID.SetSize(0);
// }} ""
// {{ 1033 1 0 "a21877e0_96ba_49fc_9ab28798790f979e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesPosID.SetSize(0);
// }} ""
// {{ 1034 1 0 "3f0a81bc_7b8b_4908_97cc987418d4be05" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesycoord.SetSize(0);
// }} ""
// {{ 1035 1 0 "753bee53_f172_45e4_8dafefe1f0930357" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol.SetSize(0);
// }} ""
// {{ 1036 1 0 "b401905d_fc26_41dc_a995d2b2dfe61f24" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesprocessed.SetSize(0);
// }} ""
// {{ 1037 1 0 "5208573c_6196_41b7_b9cc0ae19aee4842" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuespdestlabid.SetSize(0);
// }} ""
// {{ 1038 1 0 "95434f0b_9893_4578_815d075750414a3f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesdestposid.SetSize(0);
// }} ""
// {{ 1039 1 0 "87368f81_8141_424d_a76c705bb34dff63" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_x_coord=unique_x_coordinates.GetAt(loopCounter2-1);
// }} ""
// {{{ 1040 1 0 "b5103db1_7816_4b24_8416e2ae382ca371" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sql_statement = StrConcat4(Translate("SELECT * FROM [sheet1$] WHERE [asp_X_coord] = "), asp_x_coord, Translate(""), Translate(""));
// }} ""
// {{ 1041 1 0 "3c5217f3_7013_4e8f_84d22645d4dfaaf8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1042 1 0 "c27d3e73_a287_47a1_af852a03409eec4d" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1043 1 0 "df9750a8_4364_44ea_b1ace4aa810dc124" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (seq_sort2.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 1044 1 0 "7c7aa39d_609a_4640_9eac928b793a9e23" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1045 1 0 "be6effb7_e2d0_4ee7_87aa7b01a1d16e6b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesLabID.AddAsLast(asp_labid);
// }} ""
// {{ 1046 1 0 "f82573b9_fb93_4131_adb6f031264b2c99" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesPosID.AddAsLast(asp_pos_id);
// }} ""
// {{ 1047 1 0 "15110559_5dcf_47ee_ba8a2b1da49dfd5c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesycoord.AddAsLast(asp_y_coord);
// }} ""
// {{ 1048 1 0 "54b1b1c9_2c67_48f9_89f41cabaef946cd" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol.AddAsLast(volume);
// }} ""
// {{ 1049 1 0 "4505688e_3ef9_4233_b89119221d0ebd02" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.AddAsLast(0);
// }} ""
// {{ 1050 1 0 "0af2baed_68a7_491f_a863393b0d2821f7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuespdestlabid.AddAsLast(disp_labid);
// }} ""
// {{ 1051 1 0 "9bfa3dd9_127c_4f5b_8fcc983e7072aa25" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesdestposid.AddAsLast(disp_posid);
// }} ""
// {{ 1052 1 0 "df9750a8_4364_44ea_b1ace4aa810dc124" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1053 1 0 "2fbaa563_33df_4ba7_b4f185d162575204" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter6 = 0;
while (1 == 1)
{
loopCounter6 = loopCounter6 + 1;
// }} ""
// {{ 1054 1 0 "9cd66bf4_a816_4ed2_b5e4ad9a17e31c00" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1055 1 0 "19f9bd00_53ac_41ca_8631f475715f0ab3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = Lookup(arr_valuesprocessed, 0);
// }} ""
// {{ 1056 1 0 "78f4d880_a51e_451a_897978fc7b8d540c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 1057 1 0 "9507d3ce_8294_4674_863721d80b098610" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1058 1 0 "78f4d880_a51e_451a_897978fc7b8d540c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1059 1 0 "b7423706_2d28_4955_917485c9a5daf7b3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = 10000000;
// }} ""
// {{ 1060 1 0 "d0d256db_90b0_4ec5_83f5ad564fe6ea17" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
LoopsNum=arr_valuesLabID.GetSize();
// }} ""
// {{ 1061 1 0 "f778b090_f065_43a9_9b55e32a7c557f3d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < LoopsNum;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{ 1062 1 0 "166e973d_c097_4695_a890128ec915a005" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (arr_valuesprocessed.ElementAt( loopCounter4 -1) == 0)
{
// }} ""
// {{ 1063 1 0 "76881323_1c2b_4a29_a18229d5acf42593" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_y_coord=arr_valuesycoord.GetAt(loopCounter4-1);
// }} ""
// {{ 1064 1 0 "78ae1143_6d3f_423c_a015a0c58a8f73cc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
deltaY = Unique_y_coordinate - asp_y_coord;
// }} ""
// {{ 1065 1 0 "f00c0d39_8767_497e_8c50ec1f6a97ffc6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (deltaY >= 9)
{
// }} ""
// {{ 1066 1 0 "4fc9ff34_fd25_4707_a7528b8bef11e983" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_labid=arr_valuesLabID.GetAt(loopCounter4-1);
// }} ""
// {{ 1067 1 0 "fbd23937_cbbf_45eb_8b33e758e6ef3665" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_pos_id=arr_valuesPosID.GetAt(loopCounter4-1);
// }} ""
// {{ 1068 1 0 "40b51019_63a4_4fcd_83ecb1fc9e393bc3" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_labid=arr_valuespdestlabid.GetAt(loopCounter4-1);
// }} ""
// {{ 1069 1 0 "aad1722f_bbd8_4a97_8bed5546e64a831c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_posid=arr_valuesdestposid.GetAt(loopCounter4-1);
// }} ""
// {{ 1070 1 0 "83f34f10_3068_4645_836d8c95fb1d7b32" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=arr_valuesvol.GetAt(loopCounter4-1);
// }} ""
// {{{ 1071 1 0 "62e85dbb_84c7_4c25_aa444c4a2d0851e4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(sequence_for_sorting, asp_labid, asp_pos_id);
// }} ""
// {{{ 1072 1 0 "579cdd38_75c7_4054_a5131ef7450f3b1f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(secondary_seq, disp_labid, disp_posid);
// }} ""
// {{ 1073 1 0 "4f3df0c3_4df1_4873_897222e0ee761367" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = asp_y_coord;
// }} ""
// {{ 1074 1 0 "81b2cae2_13cb_425a_8fa7cf5b6a43de77" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array.AddAsLast(volume);
// }} ""
// {{ 1075 1 0 "a84d28fb_7860_40ba_99dd4c3145fbdf46" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.SetAt(loopCounter4-1, 1);
// }} ""
// {{ 1076 1 0 "f00c0d39_8767_497e_8c50ec1f6a97ffc6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1077 1 0 "166e973d_c097_4695_a890128ec915a005" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1078 1 0 "f778b090_f065_43a9_9b55e32a7c557f3d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1079 1 0 "2fbaa563_33df_4ba7_b4f185d162575204" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1080 1 0 "f0e20fc9_2829_481a_869d361af0f955ae" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1081 1 0 "4de6de13_feeb_4b53_b569439d66d761a5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1082 1 0 "63a278a1_6be3_45a5_b257f53881620701" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1083 1 0 "606a04e8_501a_42ac_92000e68507aecb8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 1084 1 0 "3b8e97d7_966c_43f7_b24fc2f3a8127a1f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 1085 1 0 "611540a9_f2d3_47f3_b873af6b8f15797c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1086 1 0 "baea7b2a_0893_4432_bce6cdad213bd282" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 1087 1 0 "99e07ea0_8d50_4b3d_a57f32051c539976" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 1088 1 0 "42212544_16dd_4bf1_a1bddfc7876f3e31" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SortTwoSequencesAndOneArrayForChannels" "End"
}
// }} ""
// {{{ 5 "D_FixedVolumePoolingCalc" "Begin"
function D_FixedVolumePoolingCalc( variable i_flt_VolumePerSample, variable & o_arr_fltVolumeOfPools[] ) void {
// }} ""
private variable l_intNumberOfSamplesForCurrentPool;
private variable loopCounter1;
private variable l_fltVolumeOfCurrentPool;
private variable l_strDescription;
// {{ 5 "D_FixedVolumePoolingCalc" "InitLocals"
// }} ""
// {{ 857 1 0 "b177896d_7b59_47d6_b992264813448b39" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("**********************************************************************************************************************************************\n                    WORKLIST:: FIXED SAMPLE VOLUME VARIABLE SAMPLE NUMBER POOLING   STARTED\n**********************************************************************************************************************************************\n"));
// }} ""
// {{ 858 1 0 "ab4d70da_5c20_4efd_b2bc024962491683" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_fltVolumeOfPools.SetSize(0);
// }} ""
// {{ 859 1 0 "9a25d4bc_215a_47d7_979a6b938abf78c0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < t_int_NumberOfTargetsFromFile;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 860 1 0 "70dfdcf5_264d_4082_943dc885d9636bf3" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_intNumberOfSamplesForCurrentPool=t_arr_NumberOfSamplePerPool.GetAt(loopCounter1-1);
// }} ""
// {{ 861 1 0 "2ae118d7_9a70_4f3a_82787e82516d8dfd" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltVolumeOfCurrentPool = l_intNumberOfSamplesForCurrentPool * i_flt_VolumePerSample;
// }} ""
// {{ 862 1 0 "e9d19c0a_6c5c_41bd_b263e93d4e841f45" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_fltVolumeOfPools.AddAsLast(l_fltVolumeOfCurrentPool);
// }} ""
// {{ 863 1 0 "9a25d4bc_215a_47d7_979a6b938abf78c0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 864 1 0 "6fb7fb67_f867_4a47_9c5475d79b089a16" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDescription = StrConcat12(Translate("Target Wells and their resepective Total Volumes following the pooling of variable number of samples."), Translate(" Adding a fixed volume of "), i_flt_VolumePerSample, Translate("uL of each sample into the pool"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 865 1 0 "e1a8c980_dba2_4f8b_b85215870e2697d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(l_strDescription, t_arr_Disctint_Pool_Well, o_arr_fltVolumeOfPools);
// }} ""
// {{ 866 1 0 "3383ea4e_fc79_4682_a913ad945b1850b2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("**********************************************************************************************************************************************\n                    WORKLIST:: FIXED SAMPLE VOLUME VARIABLE SAMPLE NUMBER POOLING   COMPLETED\n**********************************************************************************************************************************************\n"));
// }} ""
// {{{ 5 "D_FixedVolumePoolingCalc" "End"
}
// }} ""
// {{{ 5 "Lookup" "Begin"
private function Lookup( variable & array[], variable item ) variable {
// }} ""
private variable index;
private variable lookupreturn;
// {{ 5 "Lookup" "InitLocals"
// }} ""
// {{{ 877 1 0 "b5d72335_6153_407f_974c32b94ca43b6e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
lookupreturn = Util::Lookup(array, item, index);
// }} ""
// {{ 878 1 0 "d80ac7b6_a555_4748_976cb8f61fbfd498" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookupreturn > 0)
{
// }} ""
// {{ 879 1 0 "18c34db6_f5ea_403d_abdd74f6cac79e6e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
index = index + 1;
// }} ""
// {{{ 880 1 0 "c26b01c6_8203_459b_b2a55fe01c9c6826" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (index);
// }} ""
// {{ 881 1 0 "d80ac7b6_a555_4748_976cb8f61fbfd498" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 882 1 0 "837512a4_1373_4dd7_ba377c17e3051a0d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (0);
// }} ""
// {{ 883 1 0 "d80ac7b6_a555_4748_976cb8f61fbfd498" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 5 "Lookup" "End"
}
// }} ""
// {{{ 5 "get_distinct_from_array" "Begin"
private function get_distinct_from_array( variable & i_arr[], variable & o_arr[] ) void {
// }} ""
private variable arr_counter;
private variable rtn_index_arr;
private variable next_item;
private variable size_i_arr;
// {{ 5 "get_distinct_from_array" "InitLocals"
o_arr.SetSize( 0);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1322 1 0 "f26e28af_8a6a_4a92_a7caffd2ccfac84f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("----------- get Distinct function  ----i_arr "), i_arr);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 1323 1 0 "0c315ca6_f1ef_43c2_887db7748be6981b" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
size_i_arr=i_arr.GetSize();
// }} ""
// {{ 1324 1 0 "d9c43978_dfc2_4306_84d50459786fe50d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(arr_counter = 0; arr_counter < size_i_arr;)
{
arr_counter = arr_counter + 1;
// }} ""
// {{ 1325 1 0 "d9bb64c5_2ee0_4a92_a3615282a2e4bf0c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
next_item=i_arr.GetAt(arr_counter-1);
// }} ""
// {{{ 1326 1 0 "193854fe_bf23_4c79_8c1ce362686b53d8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
rtn_index_arr = Lookup(o_arr, next_item);
// }} ""
// {{ 1327 1 0 "7bb9acfe_a945_46ee_a586d57397eed85b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (rtn_index_arr == 0)
{
// }} ""
// {{ 1328 1 0 "f38cd5cc_5ea4_4483_8b9b13ea3ca11a86" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr.AddAsLast(next_item);
// }} ""
// {{ 1329 1 0 "7bb9acfe_a945_46ee_a586d57397eed85b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1330 1 0 "d9c43978_dfc2_4306_84d50459786fe50d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 1331 1 0 "019b97be_a492_419c_8d4c8a98fb29e243" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate(" ---------- o_arr"), o_arr);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 5 "get_distinct_from_array" "End"
}
// }} ""
// {{{ 5 "B_NormaliseOnPooling" "Begin"
function B_NormaliseOnPooling( device & i_MLSTAR, variable i_hdl_InputWorklist, variable i_flt_TargetVolume, variable i_flt_TargetYield, variable & i_arr_SourceWellID[], variable & i_arr_TargetWellID[], variable & o_arr_VolumeSourceArray[], variable & o_arr_VolumeDiluentArray[], variable & o_arr_TargetWellIDs[] ) void {
// }} ""
private variable file1_Source_Well;
private variable l_flt_massPerSample;
private variable l_int_ReturnLookUp;
private variable l_flt_volumePerSample;
private variable l_int_ReturnLookUp2;
private variable file1_Target_Well;
private variable file1_Source_SampleID;
private variable l_int_CurrentNumberOfSamplesThisPool;
private variable loopCounter3;
private file file1;
private variable l_flt_TotalVolumeSourceCurrentTarget;
private variable l_intSampleVolumeIndex;
private variable l_intSourceVolumeIndex;
private variable l_flt_VolumeCurrentSourceSample;
private variable loopCounter1;
private variable loopCounter2;
private variable l_flt_VolumeCurrentTargetDiluent;
private variable o_arr_AllTargetWellIDs[];
private variable l_str_ErrorMessage;
private variable file1_Source_Concentration;
// {{ 5 "B_NormaliseOnPooling" "InitLocals"
// }} ""
// {{ 237 1 0 "03ee6506_ab7e_4a08_a7967e81dce617aa" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: NORMALISE ON POOLING   STARTED\n************************************************************************************************************\n"));
// }} ""
// {{ 238 1 0 "b477921d_773d_4742_9cf35754e5f51312" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AllTargetWellIDs.SetSize(0);
// }} ""
// {{ 239 1 0 "f52d8a77_0e5d_439a_a660f8cccf2f8892" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Source_Concentration", file1_Source_Concentration, hslFloat);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslAppend) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 240 1 0 "c13ef76f_9654_4070_a8dae931df88df4c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 241 1 0 "0117b888_32e0_461e_98b4a2b4590551af" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 242 1 0 "955a5cd0_1e29_4eeb_887e8973ba4cd67d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 243 1 0 "bdc8013d_295c_4933_918beb63df59eb12" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 244 1 0 "ba56a537_56f9_4614_b1e069989f8ee897" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 245 1 0 "a2ec0d6b_c01d_4e06_b44fca7e8ca2d172" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 246 1 0 "13a07bab_0219_4c4e_902125025c9d7d36" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp2 = Lookup(i_arr_TargetWellID, file1_Target_Well);
// }} ""
// {{ 247 1 0 "4e304266_5c9d_42e3_a732ad16b57c40af" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 248 1 0 "4a98de7a_854b_4bc8_8fc15a7163418caa" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentNumberOfSamplesThisPool=t_arr_NumberOfSamplePerPool.GetAt(l_int_ReturnLookUp2-1);
// }} ""
// {{ 249 1 0 "fd23af0f_13d7_4f7c_b7a9156695028604" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_massPerSample = i_flt_TargetYield / (l_int_CurrentNumberOfSamplesThisPool * 1.0);
// }} ""
// {{ 250 1 0 "2fd4ca6c_674b_448b_bc1b33d7acd235d8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_volumePerSample = l_flt_massPerSample / (file1_Source_Concentration * 1.0);
// }} ""
// {{ 251 1 0 "1017a407_1934_4551_9633ee009f5806ee" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_flt_volumePerSample < 1)
{
// }} ""
// {{{ 252 1 0 "6bc06703_5a00_42d7_a6499929a85f829e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(Translate("The [NormaliseOnPooling] submethod has encountered an error. "), Translate("The sample concentration for sample "), file1_Source_Well, Translate(" is too high given the number of samples, and the target yield set."), Translate("\nThe current settings would result in pipetting "), l_flt_volumePerSample, Translate("uL. As this is below 1uL the method will now abort"), Translate(""));
// }} ""
// {{{ 253 1 0 "50313111_9e31_463a_99150290c475df22" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 254 1 0 "e2660831_17f9_42ec_9defb9d203218620" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ErrorDialog(Translate("Normalisation Error"), 0, 0, 0, 0, 0, l_str_ErrorMessage, Translate("Please check your worklist and/or input settings. The method will now abort."));
// }} ""
// {{{ 255 1 0 "201f120f_d9fa_4442_adf50c8522eb0aa2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{ 256 1 0 "edd80ed0_6f45_4554_9c806a5f1d5bcb78" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 257 1 0 "1017a407_1934_4551_9633ee009f5806ee" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 258 1 0 "78a22bc6_f15a_4e9d_9d2b23d7207c62d1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumeSourceArray.AddAsLast(l_flt_volumePerSample);
// }} ""
// {{ 259 1 0 "6975970a_9e1c_4002_bcc50d7aa985119c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_TargetWellIDs.AddAsLast(file1_Target_Well);
// }} ""
// {{ 260 1 0 "ba56a537_56f9_4614_b1e069989f8ee897" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 261 1 0 "c13ef76f_9654_4070_a8dae931df88df4c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 262 1 0 "718e8647_8e59_4e70_8b2ca8971f0ffd32" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_3(Translate(" Arrays of Sample Well ID, it's respective Target Well ID, and the volume of Sample added to the Target: "), i_arr_SourceWellID, o_arr_TargetWellIDs, o_arr_VolumeSourceArray);
// }} ""
// {{ 263 1 0 "a48c0344_11c4_4741_b291e0412bdd3293" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intSourceVolumeIndex = 0;
// }} ""
// {{ 264 1 0 "2b18cc80_9fe3_43e7_9b804febbf0d1f81" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < t_int_NumberOfTargetsFromFile;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 265 1 0 "cc076926_4167_4014_b90855e4323771d9" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentNumberOfSamplesThisPool=t_arr_NumberOfSamplePerPool.GetAt(l_int_ReturnLookUp2-1);
// }} ""
// {{ 266 1 0 "cda55910_b77e_4881_bdec2f6ea01af6ac" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_CurrentNumberOfSamplesThisPool;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 267 1 0 "0af3c66b_0beb_4dd3_a04451e5ff06dae5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intSourceVolumeIndex = l_intSampleVolumeIndex + 1;
// }} ""
// {{ 268 1 0 "2cbd9ab5_1870_4848_a8c7a4b2f28d1503" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_flt_VolumeCurrentSourceSample=o_arr_VolumeSourceArray.GetAt(l_intSourceVolumeIndex-1);
// }} ""
// {{ 269 1 0 "eaa950ae_461d_4ce5_965475e56c31514a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_TotalVolumeSourceCurrentTarget = l_flt_TotalVolumeSourceCurrentTarget + l_flt_VolumeCurrentSourceSample;
// }} ""
// {{ 270 1 0 "cda55910_b77e_4881_bdec2f6ea01af6ac" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 271 1 0 "0d8470f7_0c99_4612_9894f494da72b93e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_VolumeCurrentTargetDiluent = i_flt_TargetVolume - l_flt_TotalVolumeSourceCurrentTarget;
// }} ""
// {{ 272 1 0 "74f961f8_49c0_4817_9f581c24427e8004" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumeDiluentArray.AddAsLast(l_flt_VolumeCurrentTargetDiluent);
// }} ""
// {{ 273 1 0 "e40c91f4_97b6_4728_bf7675885e9626ed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_flt_VolumeCurrentTargetDiluent < 1)
{
// }} ""
// {{{ 274 1 0 "cf6f3450_d52e_48c8_9e3003d22f05807e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(Translate("The [NormaliseOnPooling] submethod has encountered an error. "), Translate("The diluent volume requests for "), i_arr_TargetWellID.ElementAt( loopCounter1 -1), Translate(" is "), l_flt_VolumeCurrentTargetDiluent, Translate("uL. As this is below 1uL the method will now abort."), Translate(""), Translate(""));
// }} ""
// {{{ 275 1 0 "73596a62_1685_45cc_961a98610d5d40fc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 276 1 0 "6ecded60_72e0_45d9_bdae746f351748cb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ErrorDialog(Translate("Normalisation Error"), 0, 0, 0, 0, 0, l_str_ErrorMessage, Translate("Please check your worklist and/or input settings. The method will now abort."));
// }} ""
// {{{ 277 1 0 "a7b88de0_f271_49f4_8abb56b6c464cabe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{ 278 1 0 "2d5af485_4751_4740_91df6ca4a2cd961f" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 279 1 0 "e40c91f4_97b6_4728_bf7675885e9626ed" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 280 1 0 "2b18cc80_9fe3_43e7_9b804febbf0d1f81" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 281 1 0 "48299b89_0461_4dcc_a19258cb24f5081c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_3(Translate(" Arrays of Target Well, Number of Source samples per Target, and Volume of Diluent for each Target: "), i_arr_TargetWellID, t_arr_NumberOfSamplePerPool, o_arr_VolumeDiluentArray);
// }} ""
// {{ 282 1 0 "ebe61bb5_0635_4e7f_8e8a8176b8d7a9e1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: NORMALISE ON POOLING   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "B_NormaliseOnPooling" "End"
}
// }} ""
// {{{ 5 "C_Adapter1" "Begin"
function C_Adapter1( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_AdapterTubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_AdapterAsp, sequence & o_seq_AdapterDisp, variable & o_arr_AdapterDistinct[], variable & o_arr_AdapterFrequency[], variable i_bln_UsingMPH, variable & o_str_PlateBacodeUDP ) void {
// }} ""
private variable file1_Source_Well;
private variable loopCounter8;
private variable l_int_NumberOfSamples;
private variable l_int_CurrentBarcodeThisPool;
private variable l_str_DummyLabwareId_BarcodeDisp;
private variable l_int_BarcodeCheckSize;
private variable l_int_NumberOfDistinctBarcodes;
private variable file1_Source_SampleID;
private variable l_int_NumberOfBarcodes;
private variable l_str_SQLSentence;
private variable loopCounter2;
private variable loopCounter3;
private variable l_str_DummyLabwareId_BarcodeAsp;
private variable l_str_Barcode;
private file file1;
private variable l_arr_Barcodes[];
private variable l_arr_BarcodeCheck[];
private variable l_arr_BarcodeCheckDistinct[];
private variable l_int_ReturnLookUp;
private variable l_intBarcodeIndex;
private variable file1_Adapter1;
private variable l_strErrorMessage;
private variable l_int_NumberOfAdapters;
private variable l_str_BarcodeTemp;
private variable l_arrTempBarcodes[];
private variable l_int_BarcodeTemp2;
private variable l_int_BarcodeTemp;
private variable l_bln_BarcodeTempSortCheck;
private variable l_int_NumberOfSamplesAdditional;
private variable l_int_NumberOfSamplesRemaining;
private variable l_str_WellID_MPH;
private variable l_int_NumberOfSamplesColumn;
private variable l_int_NumberOfSamplesSet;
private variable l_int_StartingBarcode;
private variable l_arr_BarcodeTempRemade[];
private variable l_arr_BarcodeTemp[];
private variable l_arr_BarcodeTempSorted[];
private variable l_int_SizeArrBarcodes;
private variable l_int_NumberOfUDPPlateBarcode;
private variable l_arr_PlateBarcodeDistinct[];
private variable file1_UDP_Plate;
private variable l_arr_Plate[];
// {{ 5 "C_Adapter1" "InitLocals"
{ sequence __temp; o_seq_AdapterAsp = __temp; }
{ sequence __temp; o_seq_AdapterDisp = __temp; }
o_arr_AdapterDistinct.SetSize( 0);
o_arr_AdapterFrequency.SetSize( 0);
o_str_PlateBacodeUDP = 0;
// }} ""
// {{ 284 1 0 "f2948912_9736_4436_9d67e547e5ed6919" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: ADAPTER1   STARTED\n************************************************************************************************************\n"));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 285 1 0 "9b6a8c5d_b4ba_4f7d_9eca2bb98fb75847" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_AdapterTubesOrPlate);
// }} ""
// {{{ 286 1 0 "559fd18b_1021_4624_80a9bffe5868bcdd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 287 1 0 "5cf8a8ae_9ff9_4ab7_8b1b2ccc02de4c0b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_BarcodeAsp = SeqGetLabwareId(i_seq_AdapterTubesOrPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 288 1 0 "44f4edd3_132d_45df_8c03c089c60ece4e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeAsp: "), l_str_DummyLabwareId_BarcodeAsp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 289 1 0 "160b2404_3ac2_4bfa_98563d6b6ae989b5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_BarcodeDisp = SeqGetLabwareId(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 290 1 0 "57ba0866_c5a8_49a5_9f8b9e73c2c84673" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeDisp: "), l_str_DummyLabwareId_BarcodeDisp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 291 1 0 "8f8e952b_86a6_46e5_840b0d89dca9c7b7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 292 1 0 "2d417ee0_0a66_46f9_b9b0c81787299543" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 293 1 0 "8fc0a826_2c71_4be2_8a3d60e557401509" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Plate.SetSize(0);
// }} ""
// {{ 294 1 0 "d271c15c_c868_482c_adef1f91e86c86f4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Barcodes.SetSize(0);
// }} ""
// {{ 295 1 0 "780ddc38_e5c4_4bb9_9cd8c7deac545666" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeCheckDistinct.SetSize(0);
// }} ""
// {{ 296 1 0 "724286f2_6239_4aaa_922d574cc4d28a35" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Adapter1", file1_Adapter1, hslString, 255);
file1.AddField("UDP_Plate", file1_UDP_Plate, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 297 1 0 "13288ec7_cf70_4c80_9294cd609ca818f4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 298 1 0 "ff5a6724_a883_4273_b81de7c20978ccf3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 299 1 0 "a2df77bc_2c64_4322_ae934dc0a2cbc071" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 300 1 0 "05d132ad_cf69_4858_a2414cb282b78de3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 301 1 0 "a9d15b52_6f57_4f59_a7abdd2bd3c607be" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 302 1 0 "4c747cab_19c1_4c63_a644b17f2bdeb2d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 303 1 0 "ee839e20_9a23_4c70_a764b44d19048d92" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{ 304 1 0 "17f19df4_9d4e_425e_a800e5fd3fdfbac3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Barcodes.AddAsLast(file1_Adapter1);
// }} ""
// {{ 305 1 0 "111d8997_bb1f_4547_979c589e7214af86" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Plate.AddAsLast(file1_UDP_Plate);
// }} ""
// {{{ 306 1 0 "5e697a51_e4a9_40dc_b55ded356e3c8e2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_AdapterAsp, l_str_DummyLabwareId_BarcodeAsp, file1_Adapter1);
// }} ""
// {{{ 307 1 0 "7f182633_0f49_4272_a0983e5e201432ca" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_AdapterDisp, l_str_DummyLabwareId_BarcodeDisp, file1_Source_Well);
// }} ""
// {{ 308 1 0 "4c747cab_19c1_4c63_a644b17f2bdeb2d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 309 1 0 "ff5a6724_a883_4273_b81de7c20978ccf3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 310 1 0 "0d30f0b3_7e2a_488a_ab6462f3fe88a629" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate(" Array of Samples and their resepective Adapters (1): "), i_arr_SourceWellID, l_arr_Barcodes);
// }} ""
// {{{ 311 1 0 "54b41719_736c_40d1_9cd4454247d45642" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_AdapterAsp);
// }} ""
// {{{ 312 1 0 "204c1e14_3e9f_42b9_bcb1bd77fe90605d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_AdapterDisp);
// }} ""
// {{{ 313 1 0 "df349472_bae6_4914_adf70d4daa4c098a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Plate, l_arr_PlateBarcodeDistinct);
// }} ""
// {{ 314 1 0 "1c8df507_8269_4741_8e9f23bd4fff24d8" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfUDPPlateBarcode=l_arr_PlateBarcodeDistinct.GetSize();
// }} ""
// {{{ 315 1 0 "eb0d0b3e_19bd_4183_b61beea774b93799" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_PlateBarcodeDistinct: "), l_arr_PlateBarcodeDistinct);
// }} ""
// {{ 316 1 0 "1b63177a_201a_4707_b8a648fc42e2be10" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_NumberOfUDPPlateBarcode != 1)
{
// }} ""
Trace ("Warning! Number of UDP plates barcode is more than 1: ", l_int_NumberOfUDPPlateBarcode);
// {{ 318 1 0 "1b63177a_201a_4707_b8a648fc42e2be10" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 319 1 0 "0ec856a5_b6a2_4ede_a28147e3208e8f8d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
o_str_PlateBacodeUDP=l_arr_PlateBarcodeDistinct.GetAt(1-1);
// }} ""
// {{ 320 1 0 "1b63177a_201a_4707_b8a648fc42e2be10" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 321 1 0 "2d417ee0_0a66_46f9_b9b0c81787299543" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 322 1 0 "2fb3553a_4a00_44e7_9fe5ffcdd503588c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UsingMPH == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 323 1 0 "ede9069c_063b_482b_9ba5d258fc08c57e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesRemaining = l_int_NumberOfSamples % 8;
// }} ""
// {{ 324 1 0 "0de46c8c_92de_48bd_8f252573771b5c86" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_NumberOfSamplesRemaining > 0)
{
// }} ""
// {{ 325 1 0 "79b8f6a0_bec0_4a91_b651e830ed32d757" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesAdditional = 8 - l_int_NumberOfSamplesRemaining;
// }} ""
// {{ 326 1 0 "64bdef4a_d2fd_4ddf_839de9925f65d2da" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesSet = l_int_NumberOfSamples + l_int_NumberOfSamplesAdditional;
// }} ""
// {{ 327 1 0 "0de46c8c_92de_48bd_8f252573771b5c86" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 328 1 0 "ae56e8ba_a03a_49b3_9041f0d8565fa9fa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesSet = l_int_NumberOfSamples;
// }} ""
// {{ 329 1 0 "0de46c8c_92de_48bd_8f252573771b5c86" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 330 1 0 "4000d91a_bddd_4f4e_bfb8722ee6bea34c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesColumn = l_int_NumberOfSamplesSet / (8 * 1.0);
// }} ""
// {{ 331 1 0 "a74de518_3a0e_4ad3_a9c64cc69f8d2978" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 332 1 0 "0010a218_ddcf_4de8_8ff9ac1658759cba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = 0;
// }} ""
// {{ 333 1 0 "7f610a09_5637_45c1_970a9bb8f4ce7a2a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTemp.SetSize(0);
// }} ""
// {{ 334 1 0 "339aee66_4a08_4aeb_a5d63966e3bc6591" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTempSorted.SetSize(0);
// }} ""
// {{ 335 1 0 "5b048b91_fed2_486c_9eb4baf2ff71f77e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTempRemade.SetSize(0);
// }} ""
// {{ 336 1 0 "1fe79e8b_ed47_422a_873f24f1c8e39b49" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_SizeArrBarcodes=l_arr_Barcodes.GetSize();
// }} ""
// {{ 337 1 0 "06978e84_2b30_4a68_8e02cbf59134507e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < l_int_SizeArrBarcodes;)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{ 338 1 0 "a673f52a_3835_467f_af464a7921131c30" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = l_intBarcodeIndex + 1;
// }} ""
// {{ 339 1 0 "2ede5d07_31bf_4806_9dce4f187cf00d53" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_BarcodeTemp=l_arr_Barcodes.GetAt(l_intBarcodeIndex-1);
// }} ""
// {{{ 340 1 0 "45285956_257c_48ea_a1c4f05caa7e0c6e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_int_BarcodeTemp2 = StrMid(l_int_BarcodeTemp, 1, 2);
// }} ""
// {{{ 341 1 0 "0268d39e_d239_49c0_9493ec390b718a30" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_int_BarcodeTemp2 = StrIVal(l_int_BarcodeTemp2);
// }} ""
// {{ 342 1 0 "13f5a278_36bf_4d6a_aa50ecdd75cd4120" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTemp.AddAsLast(l_int_BarcodeTemp2);
// }} ""
// {{ 343 1 0 "06978e84_2b30_4a68_8e02cbf59134507e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 344 1 0 "683ff505_98d9_4ec6_9e205d1f54ef9139" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arr_BarcodeTempSorted = HSLExtensions::Array::Sort(l_arr_BarcodeTemp, 1, l_bln_BarcodeTempSortCheck);
// }} ""
// {{ 345 1 0 "263aebf3_0a0e_4c12_b690cc581f8f9812" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_StartingBarcode=l_arr_BarcodeTempSorted.GetAt(1-1);
// }} ""
// {{ 346 1 0 "17ae1a0c_7e13_405b_89b8a67b3a3a1adb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < l_int_NumberOfSamplesColumn;)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{{ 347 1 0 "6734fec5_7788_4ae6_976b777e64d75da1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("A"), l_int_StartingBarcode);
// }} ""
// {{ 348 1 0 "1a217458_ff47_4ef6_891d04d32d972ca1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 349 1 0 "abbac0a3_a76c_4227_b194ee32210f21cf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("B"), l_int_StartingBarcode);
// }} ""
// {{ 350 1 0 "77670552_bdd2_4b38_acdf31d3f467507a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 351 1 0 "261b4e5e_120e_4f0a_b62d00dd9f20ab5a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("C"), l_int_StartingBarcode);
// }} ""
// {{ 352 1 0 "6dbf9aee_2c13_45b9_83bddc303494debe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 353 1 0 "ad633b75_202f_41b5_95c8f6954fd7606e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("D"), l_int_StartingBarcode);
// }} ""
// {{ 354 1 0 "a556e1f8_1f7d_412b_a33816bba2e87329" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 355 1 0 "801fe5d0_66f6_4f41_b01e664919fd85b4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("E"), l_int_StartingBarcode);
// }} ""
// {{ 356 1 0 "f3247042_c747_46d5_baf6ce676f817246" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 357 1 0 "5da1fbe1_f06a_43b3_9a6557f8e9b1d3ad" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("F"), l_int_StartingBarcode);
// }} ""
// {{ 358 1 0 "9eaf85b8_7621_4402_b06552ec34f24ccd" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 359 1 0 "32c9ad58_77e7_4430_9f23c01687ca2ddf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("G"), l_int_StartingBarcode);
// }} ""
// {{ 360 1 0 "9e12589a_4fa6_4798_a5772b0884d9342b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 361 1 0 "3d409c16_3c9b_40e7_9f5c5b6b899bbc41" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("H"), l_int_StartingBarcode);
// }} ""
// {{ 362 1 0 "5783240a_ca1b_4619_8b950dccea1cb6d6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{ 363 1 0 "f2a3e587_bafe_41b1_bdbb8c61d738c2ad" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_StartingBarcode = l_int_StartingBarcode + 1;
// }} ""
// {{ 364 1 0 "17ae1a0c_7e13_405b_89b8a67b3a3a1adb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 365 1 0 "0c507e45_a5ce_498b_a2f42a5e69241272" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeTempSorted: "), l_arr_BarcodeTempSorted);
// }} ""
// {{{ 366 1 0 "78d12718_527b_4c9d_bd97d7064205d6ea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeTempRemade: "), l_arr_BarcodeTempRemade);
// }} ""
// {{ 367 1 0 "a74de518_3a0e_4ad3_a9c64cc69f8d2978" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 368 1 0 "f56edf1d_2aec_42f8_8eaebb7ed06e846e" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
l_arr_Barcodes=l_arr_BarcodeTempRemade;
// }} ""
// {{ 369 1 0 "2fb3553a_4a00_44e7_9fe5ffcdd503588c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 370 1 0 "d9fb3083_c257_4448_9c62fbc84fb1b9b0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 371 1 0 "9a0c499c_16c8_4801_ac1b5b6c72cb4bb0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = 0;
// }} ""
// {{ 372 1 0 "a77ce6e2_a089_4eee_bb03143e2ee99344" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < t_int_NumberOfTargetsFromFile;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 373 1 0 "c77bbc8d_f8ac_4f83_bb05ddbb4064c54c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeCheck.SetSize(0);
// }} ""
// {{ 374 1 0 "a9fa6ba9_07b3_4a04_b2e87ddc84224ad3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < t_arr_NumberOfSamplePerPool.ElementAt( loopCounter2 -1);)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{ 375 1 0 "a866ac67_6e26_4753_815daee0030ee13f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = l_intBarcodeIndex + 1;
// }} ""
// {{ 376 1 0 "ac62f148_0b32_4e54_b58b395ae3d1be53" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentBarcodeThisPool=l_arr_Barcodes.GetAt(l_intBarcodeIndex-1);
// }} ""
// {{ 377 1 0 "638a8ac6_7d04_4581_a39ba5a1aded5444" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeCheck.AddAsLast(l_int_CurrentBarcodeThisPool);
// }} ""
// {{ 378 1 0 "a9fa6ba9_07b3_4a04_b2e87ddc84224ad3" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 379 1 0 "46824096_39d5_4d8d_b9e83076ea3514c1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_BarcodeCheck, l_arr_BarcodeCheckDistinct);
// }} ""
// {{{ 380 1 0 "91b10f79_0706_4f34_83523e32c4288846" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeCheckDistinct: "), l_arr_BarcodeCheckDistinct);
// }} ""
// {{{ 381 1 0 "3ac0d7b3_12ac_4c97_99411c2f8c4fed96" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeCheck: "), l_arr_BarcodeCheck);
// }} ""
// {{ 382 1 0 "90a953b4_0d28_4fe8_839c87a739371cf4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctBarcodes=l_arr_BarcodeCheckDistinct.GetSize();
// }} ""
// {{ 383 1 0 "ee2dd8cc_fa0c_487f_aa8f34b8f80697dc" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_BarcodeCheckSize=l_arr_BarcodeCheck.GetSize();
// }} ""
// {{ 384 1 0 "6bac64f3_02bc_412b_9766cc5e9e903045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_NumberOfDistinctBarcodes != l_int_BarcodeCheckSize)
{
// }} ""
// {{{ 385 1 0 "ccd974d9_56bb_4ae1_98f7f2d531925418" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strErrorMessage = StrConcat4(Translate("There is a identical adapters/indexes/barcodes used for  target well "), t_arr_TargetWellPositions.ElementAt( l_intBarcodeIndex -1), Translate("\nPlease correct the worklist before attempting to run the method again."), Translate("\n\n The method will now ABORT."));
// }} ""
// {{{ 386 1 0 "e63dff0b_8245_4362_9f063c731ab4de4b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 387 1 0 "d3c1686d_10d0_4353_b80594680f5ef69e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ErrorDialog(Translate("Adapter Worklist Error"), 0, 0, 0, 0, 0, l_strErrorMessage, Translate(""));
// }} ""
// {{{ 388 1 0 "4fe3f894_817a_457d_b29d74c0b3e173d2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{ 389 1 0 "05a14345_4898_497d_919df6bc6ef5f9f4" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 390 1 0 "6bac64f3_02bc_412b_9766cc5e9e903045" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 391 1 0 "a8d4d044_616d_4e0b_b274b42843776e17" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 392 1 0 "a77ce6e2_a089_4eee_bb03143e2ee99344" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 393 1 0 "d9fb3083_c257_4448_9c62fbc84fb1b9b0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 394 1 0 "828fa175_3b3a_45d0_86d05e50b7b09530" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 395 1 0 "69373fc4_60d7_4840_9d91c96c77650581" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AdapterDistinct.SetSize(0);
// }} ""
// {{ 396 1 0 "f11f3393_9310_429f_9d838306d0fe84b4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AdapterFrequency.SetSize(0);
// }} ""
// {{{ 397 1 0 "22640790_93cf_40a2_84d54c2cd5afdafb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Barcodes, o_arr_AdapterDistinct);
// }} ""
// {{ 398 1 0 "eee865f1_5886_489c_b577250f70fa2866" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctBarcodes=o_arr_AdapterDistinct.GetSize();
// }} ""
// {{ 399 1 0 "1fd87e08_d672_4938_96849a55e559926e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 400 1 0 "fdc2b232_2261_469d_80e69737afb41f0c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctBarcodes;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 401 1 0 "6f9317b8_c218_4d7a_83544ee335fb8902" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 402 1 0 "e65bbe32_7108_4f77_922725b36e7af9c8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = 1;
// }} ""
// {{ 403 1 0 "9a716747_8023_494f_95d1bc95d40513bd" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Barcode=o_arr_AdapterDistinct.GetAt(loopCounter2-1);
// }} ""
// {{{ 404 1 0 "cd6b3ab1_8524_474f_b581cbbc5afa5d60" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Adapter1] = "), l_str_Barcode, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 406 1 0 "0c4e92e7_b87e_4b82_ae9088128afc3ee0" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.SetExtendedProperties( "IMEX=1");
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Adapter1", file1_Adapter1, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslAppend, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 407 1 0 "860f84bd_90ce_4366_92b4c64955125e36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 408 1 0 "4ce34379_4ecd_439a_903e08ad4d642729" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 409 1 0 "4e9e6ff9_2f0d_46f3_8cf6fe29a7fc78b5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 410 1 0 "9477bb56_95ea_4a41_9d930ca3681c5547" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, l_str_Barcode);
// }} ""
// {{ 411 1 0 "035c90a9_4a14_4050_92429b34193d04f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 412 1 0 "aa9a0243_bf6d_448b_b7777c3ceab88ee0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = l_int_NumberOfBarcodes + 1;
// }} ""
// {{ 413 1 0 "035c90a9_4a14_4050_92429b34193d04f6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 414 1 0 "860f84bd_90ce_4366_92b4c64955125e36" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 415 1 0 "c1447206_0a61_405b_afc51ad7fc0c5ea5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_AdapterFrequency.AddAsLast(l_int_NumberOfBarcodes);
// }} ""
// {{ 416 1 0 "702388de_e5d4_4d41_a7391797eed60698" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 417 1 0 "fdc2b232_2261_469d_80e69737afb41f0c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 418 1 0 "c2b6ede0_6d76_43f9_92ad0cadeaef3814" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 419 1 0 "b6b0e868_4027_4e79_be5174d84c7501fa" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfAdapters=l_arr_Barcodes.GetSize();
// }} ""
// {{ 420 1 0 "0a546809_24e8_4bea_b2ee324e85741ab3" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
l_arrTempBarcodes=l_arr_Barcodes;
// }} ""
// {{ 421 1 0 "9672efca_42ab_4537_8ed7e333fa40b08b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctBarcodes;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 422 1 0 "8a742d96_4e3b_43e8_b84cbdd5210668a7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = 0;
// }} ""
// {{ 423 1 0 "ad0f7e66_278f_4ffd_a004a8e9495eab58" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Barcode=o_arr_AdapterDistinct.GetAt(loopCounter2-1);
// }} ""
// {{ 424 1 0 "0121fb83_c078_44ed_9ec4b361c905eda5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter3 = 0; loopCounter3 < l_int_NumberOfAdapters;)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 425 1 0 "5cb8c66b_1ad8_4a64_90b23aa7cb3f26a1" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_BarcodeTemp=l_arrTempBarcodes.GetAt(loopCounter3-1);
// }} ""
// {{ 426 1 0 "3cbbb76f_bb27_469d_b622df665480d13d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 427 1 0 "88a64af6_247e_4505_8f41c13bb8e58170" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_str_Barcode == l_str_BarcodeTemp)
{
// }} ""
// {{ 428 1 0 "f31194b3_56ff_41b7_9d9ac2908eac7a5a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrTempBarcodes.SetAt(loopCounter3-1, Translate("Clear"));
// }} ""
// {{ 429 1 0 "0c98d31c_6258_42d3_9bec2dec5ec89df8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = l_int_NumberOfBarcodes + 1;
// }} ""
// {{ 430 1 0 "88a64af6_247e_4505_8f41c13bb8e58170" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 431 1 0 "0121fb83_c078_44ed_9ec4b361c905eda5" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 432 1 0 "65d45953_b314_4063_ae30190900fef236" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_AdapterFrequency.AddAsLast(l_int_NumberOfBarcodes);
// }} ""
// {{ 433 1 0 "9672efca_42ab_4537_8ed7e333fa40b08b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 434 1 0 "a2a407a1_20a2_4c0a_90858a6c433ed26e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_str_BarcodeTemp: "), l_arrTempBarcodes);
// }} ""
// {{{ 435 1 0 "0e1b7321_f58d_4f7a_895379667d002178" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("Output Array of Barcodes and their Frequency of Use : "), o_arr_AdapterDistinct, o_arr_AdapterFrequency);
// }} ""
// {{ 436 1 0 "828fa175_3b3a_45d0_86d05e50b7b09530" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 437 1 0 "bc28f980_59fb_40c1_ab47c54943bc2428" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_AdapterAsp);
// }} ""
// {{{ 438 1 0 "e05ee02a_350a_4269_ac425a27ac08a134" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_AdapterDisp);
// }} ""
// {{ 439 1 0 "92e3e12a_d541_459e_83b93c07a201c491" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: ADAPTER1   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "C_Adapter1" "End"
}
// }} ""
// {{{ 5 "_version" "Begin"
private function _version(  ) void {
// }} ""
// {{ 5 "_version" "InitLocals"
// }} ""
// {{ 1320 1 0 "e46bdc59_b1ef_4a33_ad90c688450f73cf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 5 "_version" "End"
}
// }} ""
// {{{ 5 "SortTwoSequencesAndTwoStringArraysForChannels" "Begin"
private function SortTwoSequencesAndTwoStringArraysForChannels( sequence & sequence_for_sorting, sequence & secondary_seq, variable & array_volume[], variable & array_2[], device & ML_STAR ) void {
// }} ""
private variable Unique_y_coordinate;
private variable deltaY;
private variable lookup_return;
private variable LoopsNum;
private variable volume2;
private variable disp_labid;
private variable sql_statement;
private variable asp_angle;
private variable seq_sort_file2;
private variable asp_pos_id;
private variable asp_labid;
private variable volume;
private variable disp_posid;
private variable array_size;
private variable loopCounter1;
private variable seq_sort_file;
private variable loopCounter2;
private variable Unique_x_coordinate;
private variable loopCounter3;
private variable asp_x_coord;
private variable asp_y_coord;
private variable asp_z_coord;
private variable loopCounter4;
private variable loopCounter5;
private variable loopCounter6;
private file seq_sort;
private file seq_sort2;
private variable arr_valuesycoord[];
private variable arr_valuesdestposid[];
private variable arr_valuesvol2[];
private variable arr_valuesLabID[];
private variable arr_valuesprocessed[];
private variable unique_x_coordinates[];
private variable arr_valuesvol[];
private variable arr_valuespdestlabid[];
private variable arr_valuesPosID[];
// {{ 5 "SortTwoSequencesAndTwoStringArraysForChannels" "InitLocals"
// }} ""
// {{ 1205 1 0 "38ea650f_29ef_4d0d_b8e5c6d6382dc8f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1206 1 0 "e70645a1_9b2f_476e_b97cd7ac2e500140" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1207 1 0 "9dcc9215_ee40_4831_a2f616f48852c81c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file = "C:\\temp\\dummy.xls";
// }} ""
// {{ 1208 1 0 "306d7517_8d5a_4811_8cf24040def46648" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
seq_sort_file2 = "C:\\temp\\dummy2.xls";
// }} ""
// {{ 1209 1 0 "64962d9a_eb78_42b9_8eae391b27d3ace6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1210 1 0 "4b663e64_89e7_46b7_8b9a2395f4be7512" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 1211 1 0 "cb41bc07_791f_4f1e_8b00e20f1d20a33b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 1212 1 0 "38ea650f_29ef_4d0d_b8e5c6d6382dc8f6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1213 1 0 "feb6ef0f_df81_4fe4_a006c3f90dcb8e9c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1214 1 0 "1095868f_48f6_4da1_80112747ee447ba6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1215 1 0 "6a2211b8_a2e4_449e_ace1fe87deccf57f" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
seq_sort.AddField("volume2", volume2, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1216 1 0 "3de912ba_205c_4e32_84a0855a4edc7003" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 1217 1 0 "e14ed685_d4e8_4d24_bd4e5b0ca21fdf2e" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 1218 1 0 "64060033_50f6_4800_82a8797c9e132661" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (sequence_for_sorting.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, sequence_for_sorting, 1);
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 1219 1 0 "ecd81272_68f3_49fb_9988f633182f9946" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1220 1 0 "9d2a01c2_3a92_46ca_a619e37ff886edf8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_labid = SeqGetLabwareId(sequence_for_sorting);
// }} ""
// {{{ 1221 1 0 "99b935d6_0a26_478c_a5d519582976896d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
asp_pos_id = SeqGetPositionId(sequence_for_sorting);
// }} ""
// {{{ 1222 1 0 "bce7798b_5990_4b97_96d5ec3a29f9b605" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetLabwarePositionEx(ML_STAR, asp_labid, asp_pos_id, asp_x_coord, asp_y_coord, asp_z_coord, asp_angle);
// }} ""
// {{{ 1223 1 0 "89b29ca4_c9b0_4e46_a7208710e3d3442c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_labid = SeqGetLabwareId(secondary_seq);
// }} ""
// {{{ 1224 1 0 "52465c0e_07d8_479e_a303311d9d231781" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
disp_posid = SeqGetPositionId(secondary_seq);
// }} ""
// {{ 1225 1 0 "4e14a748_462b_4bf4_a4eaee3f7ccd3c4c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=array_volume.GetAt(loopCounter1-1);
// }} ""
// {{ 1226 1 0 "ff05ef19_ff87_443b_b0b46523277e2479" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume2=array_2.GetAt(loopCounter1-1);
// }} ""
// {{ 1227 1 0 "145edf90_873c_43b7_a26d2d3e5a66dd46" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.WriteRecord() )
{
    MECC::RaiseRuntimeError(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
// }} ""
// {{{ 1228 1 0 "26ed4ee0_e9dc_4be1_a49efa31a9e79b21" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(sequence_for_sorting, 1);
// }} ""
// {{{ 1229 1 0 "086b8f7d_bcc2_4765_a78a551493c8211f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(secondary_seq, 1);
// }} ""
// {{ 1230 1 0 "64060033_50f6_4800_82a8797c9e132661" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (sequence_for_sorting.GetCurrentPosition() > 0 && sequence_for_sorting.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
sequence_for_sorting.SetMax(sequence_for_sorting.GetTotal());
sequence_for_sorting.SetCurrentPosition(1);
}
// }} ""
// {{ 1231 1 0 "da7a4846_4e98_471a_bd8e1e33f66d844b" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeError(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1232 1 0 "feb6ef0f_df81_4fe4_a006c3f90dcb8e9c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1233 1 0 "62dfb2f2_64e1_44a3_907930aa8ba96240" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1234 1 0 "7d61c354_7703_4db4_acd34595da89b69f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
sql_statement = "SELECT * FROM sheet1 ORDER BY  asp_x_coord ASC, asp_y_coord DESC";
// }} ""
// {{ 1235 1 0 "d8cdac8c_b97d_47b5_9692062172268287" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort.AddField("asp_angle", asp_angle, hslFloat);
seq_sort.AddField("volume", volume, hslString, 255);
seq_sort.AddField("volume2", volume2, hslString, 255);
seq_sort.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort.Open(seq_sort_file + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file, "HxMetEdCompCmd");
}
// }} ""
// {{ 1236 1 0 "6ef05d60_ac6a_4814_84258de9776f010c" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
seq_sort2.AddField("volume2", volume2, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1237 1 0 "fa60eb31_ffb8_428b_b2ab1d1a723e8672" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = 0;
// }} ""
// {{ 1238 1 0 "231b3b82_2c3f_47f7_b01dc6c93f5113af" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
unique_x_coordinates.SetSize(0);
// }} ""
// {{ 1239 1 0 "ff76d087_62c0_4470_9da782ee5883b24a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter5 = 0;
while (
   (seq_sort.Eof() == 0)
)
{
loopCounter5 = loopCounter5 + 1;
// }} ""
// {{ 1240 1 0 "07cb408b_dd73_4a78_999cd31cc55aeff5" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1241 1 0 "900b5289_5329_4919_90369e8262f398e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (asp_x_coord != Unique_x_coordinate)
{
// }} ""
// {{ 1242 1 0 "94935781_b309_48ad_88cc8db775c5555a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
unique_x_coordinates.AddAsLast(asp_x_coord);
// }} ""
// {{ 1243 1 0 "16f10bd0_1a31_49d3_adc7a7be6610bb2e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_x_coordinate = asp_x_coord;
// }} ""
// {{ 1244 1 0 "900b5289_5329_4919_90369e8262f398e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1245 1 0 "290c1c66_dc10_4212_92a925576a54bd79" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1246 1 0 "ff76d087_62c0_4470_9da782ee5883b24a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1247 1 0 "5ff84f47_0a17_4a04_aa3f1dcd1e77c2d5" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort.RemoveFields();
// }} ""
// {{ 1248 1 0 "79efd858_dea0_4473_8e980284172563c5" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1249 1 0 "62dfb2f2_64e1_44a3_907930aa8ba96240" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1250 1 0 "cf5ab112_641b_4839_94f43d1c971bba97" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 1251 1 0 "5e16e472_6793_4249_8d8439cbcfd98c5a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
array_size=unique_x_coordinates.GetSize();
// }} ""
// {{ 1252 1 0 "e407ecb7_6023_4027_b6fc134d45b91c94" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1253 1 0 "a1772e89_281f_44b1_b810274dfc78ae5d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(sequence_for_sorting);
// }} ""
// {{{ 1254 1 0 "8569c113_8869_4d05_a9b818e6df86206d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(secondary_seq);
// }} ""
// {{ 1255 1 0 "b66de1c2_4575_41ff_9c06ae47f6a0851c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_volume.SetSize(0);
// }} ""
// {{ 1256 1 0 "0fad0c4c_60e6_4273_ab15b096a4261167" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_2.SetSize(0);
// }} ""
// {{ 1257 1 0 "faddd3dd_0b0d_4126_b0f347c10cbf7714" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < array_size;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 1258 1 0 "e4215ea2_f955_481f_af4d89be0f0644fc" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesLabID.SetSize(0);
// }} ""
// {{ 1259 1 0 "e245c7b2_8413_4f84_8dcdeab0a848fba8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesPosID.SetSize(0);
// }} ""
// {{ 1260 1 0 "13b43d74_71bb_4755_ba8ba941699686f1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesycoord.SetSize(0);
// }} ""
// {{ 1261 1 0 "206eaf62_1b98_47df_887c977a17c0c120" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol.SetSize(0);
// }} ""
// {{ 1262 1 0 "49a3a175_4367_462d_a565449e3bc32f8a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesvol2.SetSize(0);
// }} ""
// {{ 1263 1 0 "f133c062_0fb2_4742_9fd61485b6ef1416" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesprocessed.SetSize(0);
// }} ""
// {{ 1264 1 0 "44efac66_c056_43c8_97f999a1ac1d8a78" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuespdestlabid.SetSize(0);
// }} ""
// {{ 1265 1 0 "248fa5f4_002b_45a0_b0fe2129237fb601" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
arr_valuesdestposid.SetSize(0);
// }} ""
// {{ 1266 1 0 "b4172637_0f57_4af4_ad4f237a0b9c48f6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_x_coord=unique_x_coordinates.GetAt(loopCounter2-1);
// }} ""
// {{{ 1267 1 0 "ba7da5e2_db67_4a94_be17ed5bfcbffa5c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
sql_statement = StrConcat4(Translate("SELECT * FROM [sheet1$] WHERE [asp_X_coord] = "), asp_x_coord, Translate(""), Translate(""));
// }} ""
// {{ 1268 1 0 "8c707f70_1ed4_45d7_b25db482aaae8366" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1269 1 0 "93d4fba9_7932_40ff_a50627ef3c165a71" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
seq_sort2.AddField("asp_lab_id", asp_labid, hslString, 255);
seq_sort2.AddField("asp_pos_id", asp_pos_id, hslString, 255);
seq_sort2.AddField("asp_x_coord", asp_x_coord, hslFloat);
seq_sort2.AddField("asp_y_coord", asp_y_coord, hslFloat);
seq_sort2.AddField("asp_z_coord", asp_z_coord, hslFloat);
seq_sort2.AddField("asp_angle", asp_angle, hslFloat);
seq_sort2.AddField("volume", volume, hslString, 255);
seq_sort2.AddField("volume2", volume2, hslString, 255);
seq_sort2.AddField("disp_lab_id", disp_labid, hslString, 255);
seq_sort2.AddField("disp_pos_id", disp_posid, hslString, 255);
if( 0 == seq_sort2.Open(seq_sort_file2 + " " + "sheet1$", hslRead, sql_statement) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, seq_sort_file2, "HxMetEdCompCmd");
}
// }} ""
// {{ 1270 1 0 "25e82fcf_c556_4803_8a5e3aec387026c4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (seq_sort2.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 1271 1 0 "a61599ce_5ad5_4c82_8cbb66f03ff267b0" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == seq_sort2.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 1272 1 0 "2796e561_7b27_4add_bea20a86dae29b4a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesLabID.AddAsLast(asp_labid);
// }} ""
// {{ 1273 1 0 "32ff29d0_a9d4_4f36_870ce8839bc65673" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesPosID.AddAsLast(asp_pos_id);
// }} ""
// {{ 1274 1 0 "310aed4b_dcbc_4052_b7ea61192a02a99c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesycoord.AddAsLast(asp_y_coord);
// }} ""
// {{ 1275 1 0 "62c47a45_cc50_489e_9f881ad20e09b57a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol.AddAsLast(volume);
// }} ""
// {{ 1276 1 0 "91d9e5ff_9e2d_44b4_bee0db96861b6193" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesvol2.AddAsLast(volume2);
// }} ""
// {{ 1277 1 0 "a2ac1031_73f0_4722_80ff8dc38eda0f97" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.AddAsLast(0);
// }} ""
// {{ 1278 1 0 "29791ab8_46f9_4b55_871704a831b8e70e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuespdestlabid.AddAsLast(disp_labid);
// }} ""
// {{ 1279 1 0 "d8f0be88_183b_424c_9022aafdf0ee1cdd" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesdestposid.AddAsLast(disp_posid);
// }} ""
// {{ 1280 1 0 "25e82fcf_c556_4803_8a5e3aec387026c4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1281 1 0 "08e35192_5518_4803_8db4ba3bc2507cd4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter6 = 0;
while (1 == 1)
{
loopCounter6 = loopCounter6 + 1;
// }} ""
// {{ 1282 1 0 "4171f881_864c_4cdf_8b079546bdce40df" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1283 1 0 "2fe45aa8_dd6a_4894_80a49c8535b257ef" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = Lookup(arr_valuesprocessed, 0);
// }} ""
// {{ 1284 1 0 "1c0f0565_1724_42cf_b687cebd1f16e290" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 1285 1 0 "3b33a5ea_d6c5_4270_ab7c6730f0935101" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 1286 1 0 "1c0f0565_1724_42cf_b687cebd1f16e290" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1287 1 0 "ba658402_41ec_48af_8240c681e31064aa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = 10000000;
// }} ""
// {{ 1288 1 0 "d649bc9d_1a81_49da_8af6e6a6187be59e" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
LoopsNum=arr_valuesLabID.GetSize();
// }} ""
// {{ 1289 1 0 "11fe3010_d908_45b2_8c0648fdef8d110f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter4 = 0; loopCounter4 < LoopsNum;)
{
loopCounter4 = loopCounter4 + 1;
// }} ""
// {{ 1290 1 0 "addc2baa_4ef2_4e92_83961089215fff50" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (arr_valuesprocessed.ElementAt( loopCounter4 -1) == 0)
{
// }} ""
// {{ 1291 1 0 "a7f4bb33_b294_4d7a_829bbead6093174b" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_y_coord=arr_valuesycoord.GetAt(loopCounter4-1);
// }} ""
// {{ 1292 1 0 "d9751c11_0cb3_4468_917695a9db0e1620" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
deltaY = Unique_y_coordinate - asp_y_coord;
// }} ""
// {{ 1293 1 0 "df31c788_19e5_490a_a573c8a082d34e1d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (deltaY >= 9)
{
// }} ""
// {{ 1294 1 0 "15acf1dc_6156_4fff_bf2aa25f90db47a9" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_labid=arr_valuesLabID.GetAt(loopCounter4-1);
// }} ""
// {{ 1295 1 0 "d402421b_cc46_4456_a8d55bf1bb2745c1" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
asp_pos_id=arr_valuesPosID.GetAt(loopCounter4-1);
// }} ""
// {{ 1296 1 0 "0c309f17_4e16_4c0a_acbf03a9c75fbc31" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_labid=arr_valuespdestlabid.GetAt(loopCounter4-1);
// }} ""
// {{ 1297 1 0 "d6c0cd28_b990_4a8a_b1b38ec1a8e44cf5" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
disp_posid=arr_valuesdestposid.GetAt(loopCounter4-1);
// }} ""
// {{ 1298 1 0 "c1c966e4_2c06_40c8_b91dd76c9006e2ea" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume=arr_valuesvol.GetAt(loopCounter4-1);
// }} ""
// {{ 1299 1 0 "2478d821_839f_4345_91fad0ea92c6dd4e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
volume2=arr_valuesvol2.GetAt(loopCounter4-1);
// }} ""
// {{{ 1300 1 0 "333b6737_b224_4b63_b19b6232afcc6db4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(sequence_for_sorting, asp_labid, asp_pos_id);
// }} ""
// {{{ 1301 1 0 "1787b727_e871_4d71_af88d56b5c1a670f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(secondary_seq, disp_labid, disp_posid);
// }} ""
// {{ 1302 1 0 "2920b1ac_55a5_4930_bd2232cb5e88ee6a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Unique_y_coordinate = asp_y_coord;
// }} ""
// {{ 1303 1 0 "a3baa6d8_7c78_4c3c_9461aa157926836d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_volume.AddAsLast(volume);
// }} ""
// {{ 1304 1 0 "3d4b4bc3_4b84_4661_9ea00bebb7b07b49" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_2.AddAsLast(volume2);
// }} ""
// {{ 1305 1 0 "055cd6fc_2183_41d0_83b27b2e73943be5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
arr_valuesprocessed.SetAt(loopCounter4-1, 1);
// }} ""
// {{ 1306 1 0 "df31c788_19e5_490a_a573c8a082d34e1d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1307 1 0 "addc2baa_4ef2_4e92_83961089215fff50" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 1308 1 0 "11fe3010_d908_45b2_8c0648fdef8d110f" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1309 1 0 "08e35192_5518_4803_8db4ba3bc2507cd4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1310 1 0 "cbaf6895_c385_4cdd_93e3af3a669c49dd" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != seq_sort2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
seq_sort2.RemoveFields();
// }} ""
// {{ 1311 1 0 "faddd3dd_0b0d_4126_b0f347c10cbf7714" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 1312 1 0 "665f5a32_0799_4d65_8239ab0bea38f05d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 1313 1 0 "95a3c331_7441_4233_acf63e0be39e5199" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file);
// }} ""
// {{{ 1314 1 0 "b34abe85_dfd8_4628_92dad74e101c6cd7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLMapReport::DeleteFile(seq_sort_file2);
// }} ""
// {{ 1315 1 0 "2e67fc86_c9dd_4f99_83512c5dba5e675b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 1316 1 0 "a94c0d88_9198_4e2c_bf52fd4e4ad07a68" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
sequence_for_sorting.SetCurrentPosition(1);
// }} ""
// {{ 1317 1 0 "b0534b6b_27b3_414a_9604a77dd8b81207" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
secondary_seq.SetCurrentPosition(1);
// }} ""
// {{ 1318 1 0 "cf5ab112_641b_4839_94f43d1c971bba97" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "SortTwoSequencesAndTwoStringArraysForChannels" "End"
}
// }} ""
// {{{ 5 "C_SampleType" "Begin"
function C_SampleType( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], variable i_str_SampleType, sequence i_seq_SourceWells, sequence i_seq_TargetWells, sequence & o_seq_SourceWells_SampleType, sequence & o_seq_TargetWell_SampleType, variable & o_arr_TargetArray_SampleType[], variable & o_arr_SourceArray_SampleType[], variable & o_int_NumberOfSampleTypeSamples ) void {
// }} ""
private variable file1_Source_Well;
private variable l_int_ReturnLookUp;
private variable l_int_NumberOfSamples;
private variable file1_Source_SampleID;
private variable loopCounter3;
private file file1;
private variable file1_SampleType;
private variable l_strMessage;
private variable file1_Target_Well;
private variable l_arr_SampleID[];
private variable l_str_DummyLabwareId_SampleWells;
private variable l_str_DummyLabwareId_TargetWells;
// {{ 5 "C_SampleType" "InitLocals"
{ sequence __temp; o_seq_SourceWells_SampleType = __temp; }
{ sequence __temp; o_seq_TargetWell_SampleType = __temp; }
o_arr_TargetArray_SampleType.SetSize( 0);
o_arr_SourceArray_SampleType.SetSize( 0);
o_int_NumberOfSampleTypeSamples = 0;
// }} ""
// {{ 674 1 0 "7222a03d_ef09_48ef_bb22d8d6ef4398c8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: SAMPLE TYPE   STARTED\n************************************************************************************************************\n"));
// }} ""
// {{{ 675 1 0 "a4bb9cbe_ce2f_4cce_b160e0ee449a5abf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("*******************************************************************************"), Translate("\n\nSearching Worklist for "), i_str_SampleType, Translate("\n\n*******************************************************************************"));
// }} ""
// {{{ 676 1 0 "82407af2_1010_4ef4_ae054a9f1eff7b13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_SampleWells = SeqGetLabwareId(i_seq_SourceWells);
// }} ""
// {{{ 677 1 0 "437f809d_6f17_4554_970a2e9a53ab7631" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_TargetWells = SeqGetLabwareId(i_seq_TargetWells);
// }} ""
// {{ 678 1 0 "0b52d776_6511_41af_b68b500a6c69593f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 679 1 0 "e8e27b30_aa0a_4552_86028931a017866b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 680 1 0 "773e8325_7247_45b6_bd43dc0714ede608" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_SampleID.SetSize(0);
// }} ""
// {{ 681 1 0 "8a005533_11bc_42db_b2eaa4ed4d0c7815" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Sample_Type", file1_SampleType, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 682 1 0 "7129b2be_dfe4_47fd_b64e52766c9e5cce" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 683 1 0 "a53043ab_b3eb_43b7_b26c71d8ba4742f2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 684 1 0 "fbe4ffef_274c_4a45_bd0509ee14338981" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 685 1 0 "ae12b546_e2aa_42c2_878b38db842689bf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 686 1 0 "a544f503_453b_46f5_b4decc59cdd32ae5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 687 1 0 "4b6db0b2_07a4_40b9_a3d75d2c7b554026" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 688 1 0 "8fc86f03_bf73_4732_b53ecd493ab264eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_SampleType == i_str_SampleType)
{
// }} ""
// {{ 689 1 0 "e5b0f308_9be2_4f78_874ce280d2175b65" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{ 690 1 0 "6a3f721d_76e5_4369_b938e55cd6fde575" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_SampleID.AddAsLast(file1_Source_SampleID);
// }} ""
// {{ 691 1 0 "bd097d8c_cee4_4d82_a1ca5ec18e120235" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_SourceArray_SampleType.AddAsLast(file1_Source_Well);
// }} ""
// {{ 692 1 0 "de47a480_719a_41cd_aab6583a2651edaf" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_TargetArray_SampleType.AddAsLast(file1_Target_Well);
// }} ""
// {{{ 693 1 0 "cb8b661e_ed0f_4931_9b5e82810d825449" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_SourceWells_SampleType, l_str_DummyLabwareId_SampleWells, file1_Source_Well);
// }} ""
// {{{ 694 1 0 "516748c3_8174_486a_82a59d3315b989eb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TargetWell_SampleType, l_str_DummyLabwareId_TargetWells, file1_Target_Well);
// }} ""
// {{ 695 1 0 "8fc86f03_bf73_4732_b53ecd493ab264eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 696 1 0 "4b6db0b2_07a4_40b9_a3d75d2c7b554026" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 697 1 0 "a53043ab_b3eb_43b7_b26c71d8ba4742f2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 698 1 0 "e0a58667_3a43_4abf_a0c8a9ce27b1f94c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOfSampleTypeSamples = l_int_NumberOfSamples;
// }} ""
// {{{ 699 1 0 "7452ee19_6361_4d81_990f2517f640af5c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Number of Sample Type:"), l_int_NumberOfSamples);
// }} ""
// {{{ 700 1 0 "b31a1515_fb92_47a9_984d19a09bb7563b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_SourceWells_SampleType);
// }} ""
// {{{ 701 1 0 "dbf6d701_f1e0_48f6_851be14692b0941b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_TargetWell_SampleType);
// }} ""
// {{ 702 1 0 "bbeb32a6_5291_42f1_8957251bb0539f9c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 703 1 0 "c2112a4d_1fac_491b_8da419939a7d90a3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SortTwoSequencesAndTwoStringArraysForChannels(o_seq_TargetWell_SampleType, o_seq_SourceWells_SampleType, o_arr_TargetArray_SampleType, o_arr_SourceArray_SampleType, i_MLSTAR);
// }} ""
// {{{ 704 1 0 "a07279a1_5ca6_4fe4_912b5eda68727ad3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessage = StrConcat4(Translate("Arrays of Sample ID, Source Well IDs, and Target Well IDs for all samples which contain "), i_str_SampleType, Translate(": "), Translate(""));
// }} ""
// {{{ 705 1 0 "a538de10_29fc_4542_8c8e58e6b039bc4f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_3(l_strMessage, l_arr_SampleID, o_arr_SourceArray_SampleType, o_arr_TargetArray_SampleType);
// }} ""
// {{ 706 1 0 "e8e27b30_aa0a_4552_86028931a017866b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 707 1 0 "3348162d_080b_409c_8a5c6bc9a9b86bc7" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 708 1 0 "bf6693a9_f74b_4eb7_a731da8f8d8e4e88" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: SAMPLE_TYPE   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "C_SampleType" "End"
}
// }} ""
// {{{ 5 "C_SamplePrep" "Begin"
function C_SamplePrep( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], variable i_bln_FilterSampleType, variable i_str_SampleType, variable i_str_SamplePrep, sequence i_seq_SourceWells, sequence i_seq_TargetWells, sequence & o_seq_SourceWells_SamplePrep, sequence & o_seq_TargetWell_SamplePrep, variable & o_arr_TargetArray_SamplePrep[], variable & o_arr_SourceArray_SamplePrep[], variable & o_int_NumberOfSampleTypeSamples, variable & o_int_NumberOfSamplePrepSamples ) void {
// }} ""
private variable file1_Sample_Prep;
private variable file1_Source_Well;
private variable l_int_ReturnLookUp;
private variable l_strMessage;
private variable file1_SampleType;
private variable l_str_DummyLabwareId_SampleWells;
private variable file1_Target_Well;
private variable file1_Source_SampleID;
private variable l_str_DummyLabwareId_TargetWells;
private variable loopCounter3;
private file file1;
private variable l_arr_SampleID[];
private variable l_int_NumberOfSamplesPrep;
private variable l_int_NumberOfSamplesType;
// {{ 5 "C_SamplePrep" "InitLocals"
{ sequence __temp; o_seq_SourceWells_SamplePrep = __temp; }
{ sequence __temp; o_seq_TargetWell_SamplePrep = __temp; }
o_arr_TargetArray_SamplePrep.SetSize( 0);
o_arr_SourceArray_SamplePrep.SetSize( 0);
o_int_NumberOfSampleTypeSamples = 0;
o_int_NumberOfSamplePrepSamples = 0;
// }} ""
// {{ 615 1 0 "97e16905_0502_446b_a39009b3e24e7337" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: SAMPLE PREP   STARTED\n************************************************************************************************************\n"));
// }} ""
// {{{ 616 1 0 "c8a3e9f9_b5c4_4678_ab347289cbde0fc6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("*******************************************************************************"), Translate("\n\nSearching Worklist for "), i_str_SamplePrep, Translate("\n\n*******************************************************************************"));
// }} ""
// {{{ 617 1 0 "93325e9e_2468_4fb5_96f7458199c2ed62" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_SampleWells = SeqGetLabwareId(i_seq_SourceWells);
// }} ""
// {{{ 618 1 0 "7056f117_18b0_4924_93438b660893a321" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_TargetWells = SeqGetLabwareId(i_seq_TargetWells);
// }} ""
// {{ 619 1 0 "e3fc1294_86db_4548_9f2d41e883207a24" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 620 1 0 "f796bcaa_4cce_45b0_ab074bc292067f30" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 621 1 0 "3dd13c60_01c0_43c0_8e9bcb5603070607" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_SampleID.SetSize(0);
// }} ""
// {{ 622 1 0 "ce869045_7ed3_4930_9faf2017c34cb3f8" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Sample_Type", file1_SampleType, hslString, 255);
file1.AddField("Sample_Prep", file1_Sample_Prep, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 623 1 0 "aa23c14d_58d2_49fa_82f2d4585cf78e2c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesType = 0;
// }} ""
// {{ 624 1 0 "0deb241f_bc1e_4b96_a868cc937696277d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesPrep = 0;
// }} ""
// {{ 625 1 0 "78a5f954_9264_45b4_ba5eae441c831ba0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 626 1 0 "5f00092d_6a35_4cc2_8934e85a2a7c6c54" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 627 1 0 "cc078885_734d_4cc0_a6174078f56ba2ff" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 628 1 0 "588a9fdf_3e2b_412f_bfc83aae2bfadec7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 629 1 0 "03e5a48f_d19c_4745_814ba4c8492afc30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 630 1 0 "60936a82_5bdd_4c22_9e9385982a993982" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_FilterSampleType == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 631 1 0 "ab4b5632_03cd_4822_91cf20db67a2432f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_SampleType == i_str_SampleType)
{
// }} ""
// {{ 632 1 0 "06ca6dc2_89d7_4018_a481a2d5eb158cda" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesType = l_int_NumberOfSamplesType + 1;
// }} ""
// {{ 633 1 0 "ac89596e_b8f0_4179_a96350dcc8c02383" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_Sample_Prep == i_str_SamplePrep)
{
// }} ""
// {{ 634 1 0 "3cdd82db_3b5b_448f_85916165d9aa6ff1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesPrep = l_int_NumberOfSamplesPrep + 1;
// }} ""
// {{ 635 1 0 "879d3d78_bd9d_42ec_8f0487541632da67" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_SampleID.AddAsLast(file1_Source_SampleID);
// }} ""
// {{ 636 1 0 "f6c4d371_f785_43a2_9bf763b0f9b5881f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_SourceArray_SamplePrep.AddAsLast(file1_Source_Well);
// }} ""
// {{ 637 1 0 "6519b8e2_9f11_415c_b52acef8e0c090f6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_TargetArray_SamplePrep.AddAsLast(file1_Target_Well);
// }} ""
// {{{ 638 1 0 "6fa4a122_d577_4935_9d43720bef574c29" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_SourceWells_SamplePrep, l_str_DummyLabwareId_SampleWells, file1_Source_Well);
// }} ""
// {{{ 639 1 0 "de30faef_73a2_458b_9da3aa749fa79498" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TargetWell_SamplePrep, l_str_DummyLabwareId_TargetWells, file1_Target_Well);
// }} ""
// {{ 640 1 0 "ac89596e_b8f0_4179_a96350dcc8c02383" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 641 1 0 "ab4b5632_03cd_4822_91cf20db67a2432f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 642 1 0 "60936a82_5bdd_4c22_9e9385982a993982" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 643 1 0 "2a0949a3_adcb_48d5_8504e692a076d983" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (file1_Sample_Prep == i_str_SamplePrep)
{
// }} ""
// {{ 644 1 0 "2a79bd6d_714b_4225_a8b77c1915d3a63c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesPrep = l_int_NumberOfSamplesPrep + 1;
// }} ""
// {{ 645 1 0 "5e84ea49_8d7a_4f55_a5ad0d1b3ec78c51" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_SampleID.AddAsLast(file1_Source_SampleID);
// }} ""
// {{ 646 1 0 "1cad4ea4_e337_4b95_8b0117f16f91f2f7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_SourceArray_SamplePrep.AddAsLast(file1_Source_Well);
// }} ""
// {{ 647 1 0 "3d7daa8d_2a9a_4ea4_81f83aadbe7e1ae7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_TargetArray_SamplePrep.AddAsLast(file1_Target_Well);
// }} ""
// {{{ 648 1 0 "afb5ec7a_7eb0_4704_b97cec13b3a16e36" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_SourceWells_SamplePrep, l_str_DummyLabwareId_SampleWells, file1_Source_Well);
// }} ""
// {{{ 649 1 0 "5b184a03_aa9b_4520_924e68bc77dcdc23" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_TargetWell_SamplePrep, l_str_DummyLabwareId_TargetWells, file1_Target_Well);
// }} ""
// {{ 650 1 0 "2a0949a3_adcb_48d5_8504e692a076d983" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 651 1 0 "60936a82_5bdd_4c22_9e9385982a993982" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 652 1 0 "03e5a48f_d19c_4745_814ba4c8492afc30" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 653 1 0 "78a5f954_9264_45b4_ba5eae441c831ba0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 654 1 0 "9cfa186e_9697_4bbf_a8fc618ce7a3160f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOfSampleTypeSamples = l_int_NumberOfSamplesType;
// }} ""
// {{{ 655 1 0 "037e5895_9766_4695_bed22214fd59bab8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("o_int_NumberOfSampleTypeSamples: "), o_int_NumberOfSampleTypeSamples);
// }} ""
// {{ 656 1 0 "ce45e7aa_ba17_4824_a94274eecbfc80f5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_int_NumberOfSamplePrepSamples = l_int_NumberOfSamplesPrep;
// }} ""
// {{{ 657 1 0 "f05f0014_c064_4ad1_ad08f315b080d9cd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("o_int_NumberOfSamplePrepSamples: "), o_int_NumberOfSamplePrepSamples);
// }} ""
// {{{ 658 1 0 "cf922931_1945_4804_8ade48347884a05d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_SourceWells_SamplePrep);
// }} ""
// {{{ 659 1 0 "9fc7e518_d8b5_416e_8c4e2e685d29505d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_TargetWell_SamplePrep);
// }} ""
// {{ 660 1 0 "f44846f7_7660_4f2a_a604283f4cad48a7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 661 1 0 "4451e6c7_6f63_4313_89189237ae0c73cb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SortTwoSequencesAndTwoStringArraysForChannels(o_seq_SourceWells_SamplePrep, o_seq_TargetWell_SamplePrep, o_arr_SourceArray_SamplePrep, o_arr_TargetArray_SamplePrep, i_MLSTAR);
// }} ""
// {{ 662 1 0 "8015b7a7_e89d_4b07_b022a5a3ccc565a4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_FilterSampleType == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 663 1 0 "08e788f5_6378_41c8_84ff66563241f531" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
StrConcat8(Translate("Arrays of Sample ID, Source Well IDs, and Target Well IDs for all samples which contain "), i_str_SampleType, Translate(" and "), i_str_SamplePrep, Translate(":"), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 664 1 0 "8015b7a7_e89d_4b07_b022a5a3ccc565a4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 665 1 0 "42c5d800_8aeb_4945_ad830324223b7297" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessage = StrConcat4(Translate("Arrays of Sample ID, Source Well IDs, and Target Well IDs for all samples which contain "), i_str_SamplePrep, Translate(": "), Translate(""));
// }} ""
// {{ 666 1 0 "8015b7a7_e89d_4b07_b022a5a3ccc565a4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 667 1 0 "5464cae6_1b73_4eaf_83855e158f102393" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate(""), l_strMessage);
// }} ""
// {{{ 668 1 0 "94b14993_0462_4a03_b5502abae260f238" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("****     SAMPLE ID    ****"), l_arr_SampleID);
// }} ""
// {{{ 669 1 0 "e03c6a22_a7f3_4eae_ae7a8b8f7f77254d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("****     SOURCE WELL ID    ****"), o_arr_SourceArray_SamplePrep);
// }} ""
// {{{ 670 1 0 "14b85790_5f69_4ea8_82bdb5a07656da83" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("****     TARGET WELL ID    ****"), o_arr_TargetArray_SamplePrep);
// }} ""
// {{ 671 1 0 "f796bcaa_4cce_45b0_ab074bc292067f30" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 672 1 0 "8d2abfa2_75a3_4c6c_baa8ffa2c8358fd5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: SAMPLE PREP   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "C_SamplePrep" "End"
}
// }} ""
// {{{ 5 "B_IntermediateNormalisation" "Begin"
function B_IntermediateNormalisation( device & i_ML_STAR, variable i_hdl_InputWorklist, variable i_flt_SourceVolume, variable i_flt_IntermediateVolume, variable i_flt_DestinationVolume, variable i_flt_DestinationYield, sequence i_seq_IntermediateLabware, sequence & o_seq_IntermediateDispSequence, variable & i_arr_SourceWellID[], variable & o_arr_IntermediateWellIDs[], variable & o_arr_VolumesSourceToIntermediate[], variable & o_arr_VolumesDiluentToIntermediate[] ) void {
// }} ""
private variable l_str_ErrorMessage;
private variable file1_Source_Well;
private variable l_flt_MinimumSourceConcentrationRounded;
private variable l_int_ReturnLookUp;
private variable l_IntermediateLabwareID;
private variable l_flt_IntermediateVolumeRounded;
private variable l_flt_IntermediateYield;
private variable l_flt_MinimumSourceConcentration;
private variable file1_Target_Well;
private variable l_flt_MaximumSourceConcentration;
private variable l_flt_DiluentVolume;
private variable file1_Source_SampleID;
private variable loopCounter3;
private variable l_rtn_Value;
private variable l_flt_SourceVolume;
private variable l_flt_DestinationYieldRounded;
private file file1;
private variable file1_Source_Concentration;
private variable l_flt_CalculatedSourceVolume;
private variable l_flt_CalculatedDiluentVolume;
private file file2;
private variable l_strOutputFilePath;
private variable l_strTime;
private variable l_strDate;
private variable l_strDiluentVolume;
private variable l_strSource_SampleID;
private variable l_strSource_Well;
private variable l_strSourceVolume;
private variable l_strCalculatedSourceVolume;
private variable l_strSource_Concentration;
private variable l_strTarget_Well;
private variable l_strCalculatedDiluentVolume;
private variable l_flt_MaximumSourceConcentrationRounded;
private variable l_flt_tempDestinationVolume;
private variable l_fltIntermediateC1V1;
private variable l_flt_TotalIntermediateYield;
private variable l_flt_MaxSourceVolume;
private variable l_flt_IntermediateConcentration;
// {{ 5 "B_IntermediateNormalisation" "InitLocals"
{ sequence __temp; o_seq_IntermediateDispSequence = __temp; }
o_arr_IntermediateWellIDs.SetSize( 0);
o_arr_VolumesSourceToIntermediate.SetSize( 0);
o_arr_VolumesDiluentToIntermediate.SetSize( 0);
// }} ""
// {{{ 98 1 0 "3eb4cc3e_ea1a_443b_9498d6b49672f975" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{ 99 1 0 "41a11512_741e_4ce5_ad6d004737bbe317" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: INTERMEDIATE NORMALISATION   STARTED\n************************************************************************************************************\n"));
// }} ""
// {{ 100 1 0 "be722aee_d0e4_4b0c_9a9754f70c65f7b1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_VolumesSourceToIntermediate.SetSize(0);
// }} ""
// {{ 101 1 0 "d3fd6550_6e41_4934_87883de8f224ce18" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_VolumesDiluentToIntermediate.SetSize(0);
// }} ""
// {{{ 102 1 0 "9ee1a6c5_9c35_46ef_a52b998def4bb08d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_IntermediateLabwareID = SeqGetLabwareId(i_seq_IntermediateLabware);
// }} ""
// {{{ 103 1 0 "f10ca308_cb1f_4fb5_be40d34c0f2f59d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDate = TimGetFormattedDate(Translate("%y_%m_%d"));
// }} ""
// {{{ 104 1 0 "aa170bdf_e5dd_472f_9a473ecfabf3a9b6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTime = TimGetFormattedTime(Translate("%H_%M_%S"));
// }} ""
// {{{ 105 1 0 "64bbfb21_81d6_497d_8b4e7ffbcc47b8e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strOutputFilePath = StrConcat8(Translate("C:\\Program Files (x86)\\HAMILTON\\LogFiles\\"), l_strDate, Translate("_"), l_strTime, Translate("_"), Translate("Normalization_Output_File"), Translate(".xls"), Translate(""));
// }} ""
// {{{ 106 1 0 "e8da2d55_15f5_4a2c_96586a7d24d2ba07" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Normalization Output File (l_strOutputFilePath): "), l_strOutputFilePath);
// }} ""
// {{ 107 1 0 "a147a9cc_b77a_4bcc_96bbcbe37ca3db29" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file2.AddField("Source_SampleID", l_strSource_SampleID, hslString, 255);
file2.AddField("Source_Well", l_strSource_Well, hslString, 255);
file2.AddField("Target_Well", l_strTarget_Well, hslString, 255);
file2.AddField("Source_Concentration", l_strSource_Concentration, hslString, 255);
file2.AddField("Calculated_SourceVolume", l_strCalculatedSourceVolume, hslString, 255);
file2.AddField("Used_SourceVolume", l_strSourceVolume, hslString, 255);
file2.AddField("Calculated_DiluentVolume", l_strCalculatedDiluentVolume, hslString, 255);
file2.AddField("Used_DiluentVolume", l_strDiluentVolume, hslString, 255);
if( 0 == file2.Open(l_strOutputFilePath + " " + "NormalizationReport", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, l_strOutputFilePath, "HxMetEdCompCmd");
}
// }} ""
// {{ 108 1 0 "088636ce_0818_42a5_ac423e8456acefc6" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file2.RemoveFields();
// }} ""
// {{ 109 1 0 "1153bae8_f88e_4ab5_be78f13bad0a0eb3" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file2.AddField("Source_SampleID", l_strSource_SampleID, hslString, 255);
file2.AddField("Source_Well", l_strSource_Well, hslString, 255);
file2.AddField("Target_Well", l_strTarget_Well, hslString, 255);
file2.AddField("Source_Concentration", l_strSource_Concentration, hslString, 255);
file2.AddField("Calculated_SourceVolume", l_strCalculatedSourceVolume, hslString, 255);
file2.AddField("Used_SourceVolume", l_strSourceVolume, hslString, 255);
file2.AddField("Calculated_DiluentVolume", l_strCalculatedDiluentVolume, hslString, 255);
file2.AddField("Used_DiluentVolume", l_strDiluentVolume, hslString, 255);
if( 0 == file2.Open(l_strOutputFilePath + " " + "NormalizationReport$", hslAppend) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, l_strOutputFilePath, "HxMetEdCompCmd");
}
// }} ""
// {{ 110 1 0 "b194e976_63ac_47f8_a85bbcb3d452d5a1" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Source_Concentration", file1_Source_Concentration, hslFloat);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 111 1 0 "210563d7_a520_425b_8730029b3a62bcb9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 112 1 0 "2d04a25b_d2fc_4d70_a7ff4802a44f7311" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 113 1 0 "c9b6ab15_927e_4ea6_9358ab1df353227d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 114 1 0 "8e794822_663d_4f88_b5b9a460e86aa551" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_IntermediateYield = i_flt_IntermediateVolume / (i_flt_DestinationVolume * 1.0);
// }} ""
// {{ 115 1 0 "9a5f8c7c_0e9b_4a6c_b6d94a219b80e943" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_IntermediateYield = l_flt_IntermediateYield * i_flt_DestinationYield;
// }} ""
// {{{ 116 1 0 "c025e4ce_b92f_4cab_a0a855a103b75fb8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_flt_IntermediateYield: "), l_flt_IntermediateYield);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 117 1 0 "3887ad63_9ac2_44a7_9b3a0ca246bafe2c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 118 1 0 "dfe4c16a_6b38_43fd_917409d70151b95e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 119 1 0 "42f0fc52_ac42_4699_b4c490dd27d37cf5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MaximumSourceConcentration = l_flt_IntermediateYield;
// }} ""
// {{ 120 1 0 "3887ad63_9ac2_44a7_9b3a0ca246bafe2c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 121 1 0 "b4ec51e1_ec89_4b91_b68bb32e422a50a7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 122 1 0 "ae00d24a_369f_4d8b_82ff3a97ef7181c9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 123 1 0 "d4a85ccf_94b2_42e4_bccabebba02dcaba" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MaximumSourceConcentration = l_flt_IntermediateYield / (2 * 1.0);
// }} ""
// {{ 124 1 0 "b4ec51e1_ec89_4b91_b68bb32e422a50a7" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 125 1 0 "2e992a42_f6db_4a0c_916fa3e144c73310" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_flt_MaximumSourceConcentration: "), l_flt_MaximumSourceConcentration);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 126 1 0 "36643ed2_2525_4611_bc4832b314cf0025" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 127 1 0 "456058df_05eb_4486_9e35beb275b0bb77" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 128 1 0 "b48ea244_14fe_4bb2_ac909877118edfb1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MinimumSourceConcentration = l_flt_IntermediateYield / (i_flt_DestinationVolume * 1.0);
// }} ""
// {{ 129 1 0 "36643ed2_2525_4611_bc4832b314cf0025" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 130 1 0 "57096d46_0a20_4334_b61d9bc0f44f8d2c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 131 1 0 "c507fc3a_b860_40e5_87f4f35a1e88170d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 132 1 0 "85d3f6bb_94d4_4d93_93522dfb8642eeea" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_tempDestinationVolume = i_flt_DestinationVolume / (2 * 1.0);
// }} ""
// {{ 133 1 0 "031a0993_c1fb_4a83_bb72d56a6663de76" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MinimumSourceConcentration = l_flt_IntermediateYield / (l_flt_tempDestinationVolume * 1.0);
// }} ""
// {{ 134 1 0 "57096d46_0a20_4334_b61d9bc0f44f8d2c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 135 1 0 "3fc0fcf0_3093_4429_ac1ac4b73df4008a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_flt_MinimumSourceConcentration: "), l_flt_MinimumSourceConcentration);
// }} ""
// {{ 136 1 0 "2d04a25b_d2fc_4d70_a7ff4802a44f7311" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 137 1 0 "d46a4c9d_8047_47dc_8d5ef0914a75b9b5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 138 1 0 "1f8b299c_0209_4bd5_bede7ff7a267943e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_IntermediateConcentration = i_flt_DestinationYield / (i_flt_DestinationVolume * 1.0);
// }} ""
// {{ 139 1 0 "d0df4647_8ac2_4c31_ae017ce69c3cd0e8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 140 1 0 "5f9f78e3_7d90_4e7d_aefddb6812df147e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_TotalIntermediateYield = l_flt_IntermediateConcentration * i_flt_IntermediateVolume;
// }} ""
// {{ 141 1 0 "c990f187_ee9a_41df_acc5370145e0e2c2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 142 1 0 "5329da29_9724_4fc9_9b81473bbf48a2a1" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 143 1 0 "33c834a1_b014_455f_a78fc48d83ffc035" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 144 1 0 "068ff925_41e0_47f1_85304895aafebd27" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 145 1 0 "33f716cc_3961_4f33_a45c933a5821a9d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 146 1 0 "df9574ca_a547_449e_beb7a7a6cbf0521f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 147 1 0 "db1c6fa8_be63_4e46_8492d9b6a0919d2f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_SourceVolume = l_flt_IntermediateYield / (file1_Source_Concentration * 1.0);
// }} ""
// {{{ 148 1 0 "983ee9a7_ccb0_4c02_9a4b8f0c3a9108e5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_SourceVolume = MthRound(l_flt_SourceVolume, 2);
// }} ""
// {{ 149 1 0 "6741bb05_84a1_4c2e_9fa47367b9dd77cb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_CalculatedSourceVolume = l_flt_SourceVolume;
// }} ""
// {{{ 150 1 0 "52ad2a30_240e_4992_99cd6489068fbe48" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strCalculatedSourceVolume = APPSLIB::StrConvertToString(l_flt_CalculatedSourceVolume);
// }} ""
// {{ 151 1 0 "3b0cc8e9_94dd_4a34_b73719b6b8d3f213" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 152 1 0 "5dd70006_ded5_4b3f_b358b5557eae7298" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_DiluentVolume = i_flt_IntermediateVolume - l_flt_SourceVolume;
// }} ""
// {{{ 153 1 0 "b6ba9b09_03ff_417c_9131bb9572020345" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_DiluentVolume = MthRound(l_flt_DiluentVolume, 2);
// }} ""
// {{ 154 1 0 "f02fbf67_da21_4551_ade298e01e5407bf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_CalculatedDiluentVolume = l_flt_DiluentVolume;
// }} ""
// {{{ 155 1 0 "980f0ca8_8060_49ad_9bd01420fc48cde4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strCalculatedDiluentVolume = APPSLIB::StrConvertToString(l_flt_CalculatedDiluentVolume);
// }} ""
// {{ 156 1 0 "e3b8d9bb_7818_4928_848ecd6c9929ba0e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 157 1 0 "f2f20088_b9a3_427a_a1110fbfff9cb003" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MaxSourceVolume = i_flt_IntermediateVolume - 2;
// }} ""
// {{ 158 1 0 "86087390_2ebb_4ea1_964234118b740c3b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltIntermediateC1V1 = i_flt_IntermediateVolume * l_flt_IntermediateConcentration;
// }} ""
// {{ 159 1 0 "f489180b_1a77_4a4b_88edc1d056226d5d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MaximumSourceConcentration = l_fltIntermediateC1V1 / (2 * 1.0);
// }} ""
// {{{ 160 1 0 "c7ab2a9a_36fb_4e3e_90e9da542e2c26e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_MaximumSourceConcentrationRounded = MthRound(l_flt_MaximumSourceConcentration, 2);
// }} ""
// {{ 161 1 0 "31a08fcc_ad4c_4aa2_aee5eecc5b8633f0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 162 1 0 "e60c73b1_e4e5_4e09_9540c0749ff81842" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_MinimumSourceConcentration = l_fltIntermediateC1V1 / (l_flt_MaxSourceVolume * 1.0);
// }} ""
// {{{ 163 1 0 "d77145a3_88fd_41f2_9bd55b710fdc02c4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_MinimumSourceConcentrationRounded = MthRound(l_flt_MinimumSourceConcentration, 2);
// }} ""
// {{{ 164 1 0 "2ba3505c_3961_4caf_8d64581f553838c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_DestinationYieldRounded = MthRound(i_flt_DestinationYield, 0);
// }} ""
// {{{ 165 1 0 "d2666b08_daf9_445f_be4f81d9ccd05e95" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_flt_IntermediateVolumeRounded = MthRound(i_flt_IntermediateVolume, 2);
// }} ""
// {{ 166 1 0 "5553e488_396d_4501_b037651ccb37ca43" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 167 1 0 "f25ca4ad_d16b_4023_b7cd9581996a5b0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_flt_SourceVolume < 2)
{
// }} ""
// {{{ 168 1 0 "9c09ea2c_e3b0_4d33_8e8575cfbdbae638" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(Translate("An error has occured during the Normalisation. \n \nThe user has input a Destination Yield of "), l_flt_DestinationYieldRounded, Translate("(x)g and an Intermediate Volume of "), l_flt_IntermediateVolumeRounded, Translate("uL. \n \nThese settings require that the maximum concentration of Source samples obtained from the input worklist must not be greater than "), l_flt_MaximumSourceConcentrationRounded, Translate("(x)g/uL. "), Translate("A Source concentration higher than the maximum permitted given the input settings has been detected."));
// }} ""
// {{{ 169 1 0 "9f4f4c8a_ee3a_4cb9_861e8af848a78b78" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(l_str_ErrorMessage, Translate("\n The sample affected is Source Well:"), file1_Source_Well, Translate("."), Translate(""), Translate("\n \nClick 'OK' to continue but taking the minimum volume (2uL) of this sample."), Translate(" Please be aware by selecting OK this sample will not be normalised to the same concentration as the other samples"), Translate("\n \nClick 'Cancel' to abort the method and review the input worklist"));
// }} ""
// {{{ 170 1 0 "cd5c351a_87dd_4925_89dc63e1a3c75051" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_rtn_Value = VectorCustomDialogs::MessageDialog(Translate("Worklist sample concentration error warning"), 0, 1, 0, 0, 0, l_str_ErrorMessage);
// }} ""
// {{{ 171 1 0 "bd0e444d_344c_48e5_80697ad30fde2924" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Concentration Warning dialogue closed with: "), l_rtn_Value);
// }} ""
// {{ 172 1 0 "296b1602_82c6_47f1_85d75a4c7ad69b59" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_rtn_Value == 1)
{
// }} ""
// {{ 173 1 0 "6b64fff8_fee7_4df5_96cc382dee3f19bb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_SourceVolume = 2.0;
// }} ""
// {{ 174 1 0 "0e7449f7_524b_4263_81c0ab867599bda6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_DiluentVolume = i_flt_IntermediateVolume - l_flt_SourceVolume;
// }} ""
// {{ 175 1 0 "a0f393f6_207b_4ca6_b26a9b8399d1ac59" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesSourceToIntermediate.AddAsLast(l_flt_SourceVolume);
// }} ""
// {{ 176 1 0 "0314f95c_159b_4389_97cd8777ff517f81" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesDiluentToIntermediate.AddAsLast(l_flt_DiluentVolume);
// }} ""
// {{{ 177 1 0 "d511ef00_f03a_4eb6_aa9239c0ba6e9cf0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_IntermediateDispSequence, l_IntermediateLabwareID, file1_Source_Well);
// }} ""
// {{ 178 1 0 "296b1602_82c6_47f1_85d75a4c7ad69b59" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 179 1 0 "82b52404_fe3d_427c_b876b2c28aacf180" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 180 1 0 "296b1602_82c6_47f1_85d75a4c7ad69b59" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 181 1 0 "f25ca4ad_d16b_4023_b7cd9581996a5b0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 182 1 0 "76f33cad_bab5_4544_8de6c69b747f28c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_flt_SourceVolume > l_flt_MaxSourceVolume)
{
// }} ""
// {{{ 183 1 0 "d3532580_bc6a_4c13_8287ee7c2ea07295" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(Translate("An error has occured during the Normalisation. \n \nThe user has input a Destination Yield of "), l_flt_DestinationYieldRounded, Translate("(x)g and an Intermediate Volume of "), l_flt_IntermediateVolumeRounded, Translate("uL. \n \nThese settings require that the minimum concentration of Source samples obtained from the input worklist must not be less than "), l_flt_MinimumSourceConcentrationRounded, Translate("(x)g/uL. "), Translate("A Source concentration lower than the minimum permitted given the input settings has been detected."));
// }} ""
// {{{ 184 1 0 "9301a808_a7d2_4381_b0c096149767f15f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_ErrorMessage = StrConcat8(l_str_ErrorMessage, Translate("\n The sample affected is Source Well:"), file1_Source_Well, Translate("."), Translate(""), Translate("\n \nClick 'OK' to continue but taking the maximum volume possible of this sample."), Translate(" Please be aware by selecting OK this sample will not be normalised to the same concentration as the other samples"), Translate("\n \nClick 'Cancel' to abort the method and review the input worklist"));
// }} ""
// {{{ 185 1 0 "f7227877_155f_40c7_934cd3226752d697" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_rtn_Value = VectorCustomDialogs::MessageDialog(Translate("Worklist sample concentration error warning"), 0, 1, 0, 0, 0, l_str_ErrorMessage);
// }} ""
// {{{ 186 1 0 "f72d2762_626f_4b59_9169869f8e878588" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Concentration Warning dialogue closed with: "), l_rtn_Value);
// }} ""
// {{ 187 1 0 "0cc96037_c2aa_46e2_a179b42b44104564" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_rtn_Value == 1)
{
// }} ""
// {{ 188 1 0 "1d7278cd_bb30_4821_bb005f1cdba9ba06" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_flt_IntermediateVolume > i_flt_SourceVolume)
{
// }} ""
// {{ 189 1 0 "5a61ee3a_972f_49d0_b2c18f1caee692e5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_SourceVolume = i_flt_SourceVolume;
// }} ""
// {{ 190 1 0 "9c7d02a9_cb07_4d39_86a967d4639a5b37" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_flt_DiluentVolume = i_flt_IntermediateVolume - i_flt_SourceVolume;
// }} ""
// {{ 191 1 0 "1d7278cd_bb30_4821_bb005f1cdba9ba06" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 192 1 0 "ed2dbb75_2ead_4e1e_930dcbc023ba234c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_SourceVolume = i_flt_IntermediateVolume;
// }} ""
// {{ 193 1 0 "0b7348bd_87cc_47f7_92568990716ed25d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_flt_DiluentVolume = 0;
// }} ""
// {{ 194 1 0 "1d7278cd_bb30_4821_bb005f1cdba9ba06" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 195 1 0 "c6628896_e659_4f40_984c7cea311f86df" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesSourceToIntermediate.AddAsLast(l_flt_SourceVolume);
// }} ""
// {{ 196 1 0 "d0043e3e_ac3d_4548_89a05375d1f8de29" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_flt_DiluentVolume > 0)
{
// }} ""
// {{ 197 1 0 "56e585dd_541f_470f_8a66ef4d404b8da8" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesDiluentToIntermediate.AddAsLast(l_flt_DiluentVolume);
// }} ""
// {{{ 198 1 0 "e581c332_0db5_4253_8a9a9b49f1aa8b30" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_IntermediateDispSequence, l_IntermediateLabwareID, file1_Source_Well);
// }} ""
// {{ 199 1 0 "d0043e3e_ac3d_4548_89a05375d1f8de29" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 200 1 0 "0cc96037_c2aa_46e2_a179b42b44104564" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 201 1 0 "b2cb24bd_522a_4e86_a0ea09e80398d22b" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 202 1 0 "0cc96037_c2aa_46e2_a179b42b44104564" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 203 1 0 "76f33cad_bab5_4544_8de6c69b747f28c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 204 1 0 "84d3a735_75ca_4995_86ce8fe9b49973ac" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 205 1 0 "8082af4d_d67c_4656_bcf33571f3648f6e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesSourceToIntermediate.AddAsLast(l_flt_SourceVolume);
// }} ""
// {{ 206 1 0 "84d3a735_75ca_4995_86ce8fe9b49973ac" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 207 1 0 "44afab75_7147_4d6a_95afb2d40dac907b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 208 1 0 "c4042b3d_a639_424a_9a35d4886da26002" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_VolumesDiluentToIntermediate.AddAsLast(l_flt_DiluentVolume);
// }} ""
// {{ 209 1 0 "44afab75_7147_4d6a_95afb2d40dac907b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 210 1 0 "7bbf8b0b_d7cf_45c5_ad13211cc88254f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_IntermediateDispSequence, l_IntermediateLabwareID, file1_Source_Well);
// }} ""
// {{ 211 1 0 "76f33cad_bab5_4544_8de6c69b747f28c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 212 1 0 "f25ca4ad_d16b_4023_b7cd9581996a5b0b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 213 1 0 "7d5bf638_6ba1_41b3_82184deb0ab34dda" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strSource_Concentration = APPSLIB::StrConvertToString(file1_Source_Concentration);
// }} ""
// {{{ 214 1 0 "d0ac1184_1c44_4bb3_8d964dc563aa13a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strSource_Concentration: "), l_strSource_Concentration);
// }} ""
// {{{ 215 1 0 "e079a87d_e988_414f_8638793b1f385759" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strSource_SampleID = APPSLIB::StrConvertToString(file1_Source_SampleID);
// }} ""
// {{{ 216 1 0 "1ac7c06d_2fc4_4b31_b4dd075f12026d1e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strSource_SampleID: "), l_strSource_SampleID);
// }} ""
// {{{ 217 1 0 "10b92bdd_1940_4f94_8a53cace6dca2856" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strSource_Well = APPSLIB::StrConvertToString(file1_Source_Well);
// }} ""
// {{{ 218 1 0 "a49e37fb_7518_4fc1_905e488944df4077" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strSource_Well: "), l_strSource_Well);
// }} ""
// {{{ 219 1 0 "ce820238_f7ec_4d73_b497659b07d56eef" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTarget_Well = APPSLIB::StrConvertToString(file1_Target_Well);
// }} ""
// {{{ 220 1 0 "2d0fb20f_e030_4a5d_b3fb88cba61dd1f5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strTarget_Well: "), l_strTarget_Well);
// }} ""
// {{{ 221 1 0 "3dbe58fe_97bb_4c1e_912cb05e9e01c5f7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strSourceVolume = APPSLIB::StrConvertToString(l_flt_SourceVolume);
// }} ""
// {{{ 222 1 0 "1a8b52d9_da34_41d8_b7cae3ee7dd06ff3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strSourceVolume: "), l_strSourceVolume);
// }} ""
// {{{ 223 1 0 "4f3d114e_1209_44cb_8c83ed13c176638d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDiluentVolume = APPSLIB::StrConvertToString(l_flt_DiluentVolume);
// }} ""
// {{{ 224 1 0 "390457f7_f030_4fd8_af1c24b7b4e1cf24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strDiluentVolume: "), l_strDiluentVolume);
// }} ""
// {{{ 225 1 0 "2f5cc410_fc5f_455b_875225b42ccf11e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strCalculatedDiluentVolume: "), l_strCalculatedDiluentVolume);
// }} ""
// {{{ 226 1 0 "5685de14_ebaf_4166_b4f460fd985162c1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strCalculatedSourceVolume: "), l_strCalculatedSourceVolume);
// }} ""
// {{ 227 1 0 "d5eca500_7978_4a49_86c02d3f90889811" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file2.AddField("Source_SampleID", l_strSource_SampleID, hslString, 255);
file2.AddField("Source_Well", l_strSource_Well, hslString, 255);
file2.AddField("Target_Well", l_strTarget_Well, hslString, 255);
file2.AddField("Source_Concentration", l_strSource_Concentration, hslString, 255);
file2.AddField("Calculated_SourceVolume", l_strCalculatedSourceVolume, hslString, 255);
file2.AddField("Used_SourceVolume", l_strSourceVolume, hslString, 255);
file2.AddField("Calculated_DiluentVolume", l_strCalculatedDiluentVolume, hslString, 255);
file2.AddField("Used_DiluentVolume", l_strDiluentVolume, hslString, 255);
if( 0 == file2.Open(l_strOutputFilePath + " " + "NormalizationReport$", hslAppend) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, l_strOutputFilePath, "HxMetEdCompCmd");
}
// }} ""
// {{ 228 1 0 "a77bee45_6849_4c9d_a0b8a85fb460136f" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file2.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 229 1 0 "4b2000e3_2b97_4429_ba8ff55515415425" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file2.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file2.RemoveFields();
// }} ""
// {{ 230 1 0 "33f716cc_3961_4f33_a45c933a5821a9d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 231 1 0 "c990f187_ee9a_41df_acc5370145e0e2c2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 232 1 0 "f58fa771_cdef_4f28_b2a0581c0ce19201" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
o_seq_IntermediateDispSequence.SetCurrentPosition(1);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 233 1 0 "7829dee2_1692_49ca_83ed03e49202b9f8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_3(Translate("Volume Arrays of Source and Diluent respecitvely for Intermediate Plate: "), i_arr_SourceWellID, o_arr_VolumesSourceToIntermediate, o_arr_VolumesDiluentToIntermediate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 234 1 0 "caa11608_7600_462a_a96803eec1b7ebb9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: INTERMEDIATE NORMALISATION   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 235 1 0 "c996c7c7_2bee_4263_a238213d9d077b00" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{{ 5 "B_IntermediateNormalisation" "End"
}
// }} ""
// {{{ 5 "C_Adapter2" "Begin"
function C_Adapter2( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_Adapter1TubesOrPlate, sequence i_seq_Adapter2TubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_Adapter1Asp, sequence & o_seq_Adapter2Asp, sequence & o_seq_AdapterDisp, variable & o_arr_Adapter1Distinct[], variable & o_arr_Adapter2Distinct[], variable & o_arr_Adapter1Frequency[], variable & o_arr_Adapter2Frequency[] ) void {
// }} ""
private variable l_int_Barcode;
private variable file1_Source_Well;
private variable loopCounter8;
private variable file1_Adapter1;
private variable file1_Adapter2;
private variable l_int_ReturnLookUp;
private variable l_int_NumberOfSamples;
private variable l_str_DummyLabwareId_BarcodeDisp;
private variable file1_Source_SampleID;
private variable l_str_SQLSentence;
private variable loopCounter2;
private variable l_str_DummyLabwareId_BarcodeAsp;
private variable loopCounter3;
private variable l_str_Barcode;
private file file1;
private variable l_arr_Adapter1CheckDistinct[];
private variable l_arr_Adapter2CheckDistinct[];
private variable l_arr_Adapter1[];
private variable l_arr_Adapter2[];
private variable l_str_DummyLabwareId_Adapter2Asp;
private variable l_str_DummyLabwareId_Adapter1Asp;
private variable l_str_DummyLabwareId_AdapterDisp;
private variable l_int_Adapter1CheckSize;
private variable l_int_CurrentAdapter1ThisPool;
private variable l_int_NumberOfDistinctAdapter1;
private variable l_int_NumberOfAdapters;
private variable l_int_NumberOfDistinctAdapter2;
private variable l_int_Adapter2CheckSize;
private variable l_intAdapterIndex;
private variable l_int_CurrentAdapter2ThisPool;
private variable l_str_Adapter;
private variable l_arr_Adapter2Check[];
private variable l_arr_Adapter1Check[];
private variable l_intAdapter2PositionId;
private variable l_strAdapter2PositionId;
private variable l_intNumberOfIndex1PositionIds;
private variable l_intHighestIndex1PositionID;
private variable l_intCurrentPositionId;
private variable loopCounter1;
private variable l_strCurrentPositionId;
private variable l_intAdapter2WorkListPosId;
private variable l_strAdapter1FirstPositionId;
private variable l_strAdapter2FirstPositionId;
private variable l_str_AdapterCombo;
private variable l_int_AdapterComboSize;
private variable file1_Target_Well;
private variable l_str_CurrentAdapter2ThisPool;
private variable l_strErrorMessage;
private variable l_str_CurrentAdapter1ThisPool;
private variable l_int_AdapterComboDistinctSize;
private variable l_arr_AdapterCombo[];
private variable l_arr_AdapterComboDistinct[];
// {{ 5 "C_Adapter2" "InitLocals"
{ sequence __temp; o_seq_Adapter1Asp = __temp; }
{ sequence __temp; o_seq_Adapter2Asp = __temp; }
{ sequence __temp; o_seq_AdapterDisp = __temp; }
o_arr_Adapter1Distinct.SetSize( 0);
o_arr_Adapter2Distinct.SetSize( 0);
o_arr_Adapter1Frequency.SetSize( 0);
o_arr_Adapter2Frequency.SetSize( 0);
// }} ""
// {{ 441 1 0 "f2ba2a12_333b_45c3_85e9d6299bca6cac" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: ADAPTER2   STARTED\n************************************************************************************************************\n"));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 442 1 0 "5ae4a611_820f_45cc_b0c7d91ff93f52ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_Adapter1TubesOrPlate);
// }} ""
// {{{ 443 1 0 "d93200f2_fd20_4f0f_b25a512d574f4509" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_Adapter2TubesOrPlate);
// }} ""
// {{{ 444 1 0 "e7a0a2fe_0f94_4f2b_86f6221bff89652e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 445 1 0 "05b94593_83b7_43d4_b2bb69e14130827f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_Adapter1Asp = SeqGetLabwareId(i_seq_Adapter1TubesOrPlate);
// }} ""
// {{{ 446 1 0 "1ac99727_599d_4f93_a1c7b772b74e3ec6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_Adapter2Asp = SeqGetLabwareId(i_seq_Adapter2TubesOrPlate);
// }} ""
// {{{ 447 1 0 "cb499505_9a09_47f5_90cf897c6be71e47" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAdapter1FirstPositionId = SeqGetPositionId(i_seq_Adapter1TubesOrPlate);
// }} ""
// {{{ 448 1 0 "338be14e_12ba_4a17_ac9e90d8fe9a53a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqGetPositionId(i_seq_Adapter2TubesOrPlate);
// }} ""
// {{{ 449 1 0 "c5e1103b_b205_44cb_9107aa8040837e2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAdapter2FirstPositionId = SeqGetPositionId(i_seq_Adapter1TubesOrPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 450 1 0 "72044f5d_0d61_4375_94b43e02628bea24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeAsp: "), l_str_DummyLabwareId_BarcodeAsp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 451 1 0 "0a516743_3cb9_46d8_a84158d4dd6dc15e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_AdapterDisp = SeqGetLabwareId(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 452 1 0 "3d7d4026_554f_4dcf_a983848e26a116ba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeDisp: "), l_str_DummyLabwareId_BarcodeDisp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 453 1 0 "65f973e1_81d8_4628_b21b5a6d4d781dc9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 454 1 0 "de1b3820_69dd_4014_a8aa4b471aab4383" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 455 1 0 "309f4e28_3e8e_4d90_9c7ed561a269a2ef" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter1.SetSize(0);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 456 1 0 "acfdb3ad_e121_4f47_85d490b7734afc15" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter2.SetSize(0);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 457 1 0 "2f06545c_e90b_418a_972ca153291d1637" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter1CheckDistinct.SetSize(0);
// }} ""
// {{ 458 1 0 "5fc31567_040a_4977_8f32a61f77306dd9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter2CheckDistinct.SetSize(0);
// }} ""
// {{ 459 1 0 "dc1c2c46_ace1_44e6_96dc9793926a5d23" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Adapter1", file1_Adapter1, hslString, 255);
file1.AddField("Adapter2", file1_Adapter2, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 460 1 0 "4377f506_ef48_4cd7_9845540248ffa165" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 461 1 0 "7d0624f5_f652_4fff_845eb2c706e4cfdb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 462 1 0 "d3438ef3_0e26_46eb_8599dc24eb431875" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 463 1 0 "126af555_3263_47a6_bfffb573c33993e5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 464 1 0 "b0eb3ab8_3369_4d77_b9d85ee43d055ad3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 465 1 0 "78f84bab_0814_4704_a09de9846c9e73b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 466 1 0 "22874d8c_745a_4aaa_885cc1a460ecfb11" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{ 467 1 0 "8bf9c924_02e3_4bf5_98261a631a794972" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Adapter1.AddAsLast(file1_Adapter1);
// }} ""
// {{{ 468 1 0 "2c88467e_165d_49fc_887208c32ee06790" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_Adapter1Asp, l_str_DummyLabwareId_Adapter1Asp, file1_Adapter1);
// }} ""
// {{{ 469 1 0 "62ed63ad_c2ec_464a_bf4ea2ec438625a3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_AdapterDisp, l_str_DummyLabwareId_AdapterDisp, file1_Source_Well);
// }} ""
// {{ 470 1 0 "78f84bab_0814_4704_a09de9846c9e73b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 471 1 0 "7d0624f5_f652_4fff_845eb2c706e4cfdb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 472 1 0 "08e5668f_7678_4fca_83ab61fd588e46aa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate(" Array of Samples and their resepective Adapters (1): "), i_arr_SourceWellID, l_arr_Adapter1);
// }} ""
// {{{ 473 1 0 "b72efad9_e5b1_4d1e_b8f613feb7978433" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_Adapter1Asp);
// }} ""
// {{ 474 1 0 "b506f1d5_e764_4706_ab2cb6cdc7e6ed6e" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 475 1 0 "de1b3820_69dd_4014_a8aa4b471aab4383" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 476 1 0 "6f064ceb_96ba_4aea_b477433f4bbab403" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 477 1 0 "941a67ff_aff6_4955_b2381a3d2541a5b9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_Adapter1Asp);
// }} ""
// {{{ 478 1 0 "e9f02282_f3cd_4fd0_98ad053ae7a67e80" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intNumberOfIndex1PositionIds = SeqGetTotal(o_seq_Adapter1Asp);
// }} ""
// {{ 479 1 0 "e7a4cc6a_bc2c_4b55_bda6b5b3a59cbbf7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHighestIndex1PositionID = 0;
// }} ""
// {{ 480 1 0 "ba91d4ef_429f_4436_9adb582341b80847" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < l_intNumberOfIndex1PositionIds;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{{ 481 1 0 "5b54744e_97de_4403_8774efc2c3eff4c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strCurrentPositionId = SeqGetPositionId(o_seq_Adapter1Asp);
// }} ""
// {{{ 482 1 0 "11d39721_fd00_4e91_864bcd9e73fec5a3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strCurrentPositionId: "), l_strCurrentPositionId);
// }} ""
// {{{ 483 1 0 "9187393c_1145_4f72_a551078e112a978a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intCurrentPositionId = APPSLIB::StrConvertToNumber(l_strCurrentPositionId);
// }} ""
// {{{ 484 1 0 "389ba692_bc9b_49bf_a09c2146fe80a62e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_intCurrentPositionId: "), l_intCurrentPositionId);
// }} ""
// {{ 485 1 0 "43616787_1874_4614_8976aa708df4cfc7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intCurrentPositionId > l_intHighestIndex1PositionID)
{
// }} ""
// {{ 486 1 0 "e3ac4377_cc6e_4a88_aa55df8419028a0b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHighestIndex1PositionID = l_intCurrentPositionId;
// }} ""
// {{ 487 1 0 "43616787_1874_4614_8976aa708df4cfc7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 488 1 0 "ca9aa8e1_794e_4552_b2644b01afb95c4b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_intHighestIndex1PositionID: "), l_intHighestIndex1PositionID);
// }} ""
// {{{ 489 1 0 "90371f4b_deeb_455a_8e82ea639ff62919" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(o_seq_Adapter1Asp, 1);
// }} ""
// {{ 490 1 0 "ba91d4ef_429f_4436_9adb582341b80847" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 491 1 0 "11522c80_cb23_4435_9dad6ca4ddd5b0e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_Adapter1Asp);
// }} ""
// {{ 492 1 0 "c0088fd2_3661_451f_9353c6411b6b3008" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter2.SetSize(0);
// }} ""
// {{ 493 1 0 "51b3e7ee_424f_4e1d_b1ff4099b9af819c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter2CheckDistinct.SetSize(0);
// }} ""
// {{ 494 1 0 "924c117a_fc6a_47ea_a000f6e1d1b3561d" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Target_Well", file1_Target_Well, hslString, 255);
file1.AddField("Adapter2", file1_Adapter2, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 495 1 0 "b76f44ee_ff99_411c_b29043a2d3240db6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 496 1 0 "bb01c607_0acf_48b8_8f52cdcdb81dcdb2" "{B31F3535-5D80-11d4-A5EB-0050DA737D89}"
file1.Seek(0, hslFirst);
// }} ""
// {{ 497 1 0 "7d996e93_ceef_4347_98d01a53ed0f8b02" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 498 1 0 "d75dfd14_eef0_4495_a682a73b8bbcd108" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 499 1 0 "4a01bdb1_c955_4dc4_8fea414aa0624968" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 500 1 0 "66a4ee09_0e37_49ba_bb87892332e73627" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 501 1 0 "64670365_3478_43d4_bbd77c9a9757052d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 502 1 0 "621c5003_e750_47ba_83c3bde43c9b33f1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{ 503 1 0 "6ca078d4_5efd_42a8_ac1285f4e1789ac8" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Adapter2.AddAsLast(file1_Adapter2);
// }} ""
// {{{ 504 1 0 "f5d52559_65ee_448c_baa0471113f0d053" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intAdapter2WorkListPosId = APPSLIB::StrConvertToNumber(file1_Adapter2);
// }} ""
// {{{ 505 1 0 "b6de2c90_0978_44f7_ad55d31e9dd3aafd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_intAdapter2WorkListPosId: "), l_intAdapter2WorkListPosId);
// }} ""
// {{ 506 1 0 "6f7eaa50_50cc_4eb0_93b927c2234562b3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intAdapter2PositionId = l_intHighestIndex1PositionID + l_intAdapter2WorkListPosId;
// }} ""
// {{{ 507 1 0 "2d440367_4a97_492d_9aebbe2c3f7ed8d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_intAdapter2PositionId: "), l_intAdapter2PositionId);
// }} ""
// {{{ 508 1 0 "fac8501b_8208_42d1_b3db11bf5bbec9e6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAdapter2PositionId = APPSLIB::StrConvertToString(l_intAdapter2PositionId);
// }} ""
// {{{ 509 1 0 "47203984_666a_451f_8e60791f732cb634" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_strAdapter2PositionId: "), l_strAdapter2PositionId);
// }} ""
// {{{ 510 1 0 "ec3e0867_2948_49dd_b4ec6769d88190f4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_Adapter2Asp, l_str_DummyLabwareId_Adapter2Asp, l_strAdapter2PositionId);
// }} ""
// {{ 511 1 0 "64670365_3478_43d4_bbd77c9a9757052d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 512 1 0 "7d996e93_ceef_4347_98d01a53ed0f8b02" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 513 1 0 "71549e84_db47_44a6_94a58baf96ae4ea1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate(" Array of Samples and their resepective Adapters (2): "), i_arr_SourceWellID, l_arr_Adapter2);
// }} ""
// {{{ 514 1 0 "94c7781e_591e_498d_a71182de85038932" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_Adapter2Asp);
// }} ""
// {{{ 515 1 0 "e80058c6_44c5_43f1_a78e5e88ed4c2c59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_AdapterDisp);
// }} ""
// {{ 516 1 0 "6f064ceb_96ba_4aea_b477433f4bbab403" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 517 1 0 "5db34f7c_794f_4e53_a32c8b4a40d80093" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 518 1 0 "87c168a4_e322_45f0_a90274d5240be54c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intAdapterIndex = 0;
// }} ""
// {{ 519 1 0 "73c90301_4dbe_4e3c_9c77f8c3b5201db1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < t_int_NumberOfTargetsFromFile;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 520 1 0 "9cdc7ce9_2984_4c5d_9674181966ba5bfa" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter1Check.SetSize(0);
// }} ""
// {{ 521 1 0 "5c24c5c8_d5ae_4cdc_8b49c0b746e27c53" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Adapter2Check.SetSize(0);
// }} ""
// {{ 522 1 0 "295301e1_d47e_49f8_b7216f20267c3ae5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_AdapterCombo.SetSize(0);
// }} ""
// {{ 523 1 0 "bd894518_f427_41a9_9364ef928b170379" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < t_arr_NumberOfSamplePerPool.ElementAt( loopCounter2 -1);)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{ 524 1 0 "7a557ffb_2bfa_412b_bd4273b2ced3b0d5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intAdapterIndex = l_intAdapterIndex + 1;
// }} ""
// {{ 525 1 0 "5e963591_48b8_4f52_a076ae45b6c329af" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentAdapter1ThisPool=l_arr_Adapter1.GetAt(l_intAdapterIndex-1);
// }} ""
// {{ 526 1 0 "2cf63c99_eaba_4144_bd0a748e18686b56" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentAdapter2ThisPool=l_arr_Adapter2.GetAt(l_intAdapterIndex-1);
// }} ""
// {{ 527 1 0 "4538595b_ec4d_4b36_8e58d9966e278cbe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Adapter1Check.AddAsLast(l_int_CurrentAdapter1ThisPool);
// }} ""
// {{ 528 1 0 "2f86ab92_1103_49f0_8563d462462d6e98" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Adapter2Check.AddAsLast(l_int_CurrentAdapter2ThisPool);
// }} ""
// {{{ 529 1 0 "fb295e78_c880_4571_ad20aad54701a981" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_CurrentAdapter1ThisPool = APPSLIB::StrConvertToString(l_int_CurrentAdapter1ThisPool);
// }} ""
// {{{ 530 1 0 "7a4e3e5f_5bd6_4db3_bd56580da1e77539" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_CurrentAdapter2ThisPool = APPSLIB::StrConvertToString(l_int_CurrentAdapter2ThisPool);
// }} ""
// {{{ 531 1 0 "63b997ac_181a_4b96_abc61997455dfe86" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_AdapterCombo = StrConcat4(Translate(""), t_arr_TargetWellPositions.ElementAt( l_intAdapterIndex -1), l_str_CurrentAdapter1ThisPool, l_str_CurrentAdapter2ThisPool);
// }} ""
// {{ 532 1 0 "94764755_ceef_4d87_99a284bebe3f8836" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_AdapterCombo.AddAsLast(l_str_AdapterCombo);
// }} ""
// {{ 533 1 0 "bd894518_f427_41a9_9364ef928b170379" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 534 1 0 "7b54a2df_22f1_4240_ab50879fd161f820" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Adapter1Check, l_arr_Adapter1CheckDistinct);
// }} ""
// {{{ 535 1 0 "85ebfd6e_d555_417b_bdbaf8fcc1300ce5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Adapter2Check, l_arr_Adapter2CheckDistinct);
// }} ""
// {{{ 536 1 0 "4008a042_1da1_47ca_87c004fdd6a4994f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_AdapterCombo, l_arr_AdapterComboDistinct);
// }} ""
// {{{ 537 1 0 "67cc4f84_db41_4e45_9f4502c193c241e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_Adapter1CheckDistinct: "), l_arr_Adapter1CheckDistinct);
// }} ""
// {{{ 538 1 0 "c7bb7b29_315d_4fcd_bf5691f31797c70f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_Adapter1Check: "), l_arr_Adapter1Check);
// }} ""
// {{{ 539 1 0 "8d091ff8_2424_4af3_9a46d0e0af26dca8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_Adapter2CheckDistinct: "), l_arr_Adapter2CheckDistinct);
// }} ""
// {{{ 540 1 0 "25ae7920_efa7_44bf_8218d9f2d5663ff0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_Adapter2Check: "), l_arr_Adapter2Check);
// }} ""
// {{{ 541 1 0 "d9471c5b_fbaf_41e2_9ab81ae1bd0442e3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_str_AdapterCombo: "), l_arr_AdapterCombo);
// }} ""
// {{{ 542 1 0 "8ad58221_5520_4230_b53a35e28a7ad09f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("ll_arr_AdapterComboDistinct: "), l_arr_AdapterComboDistinct);
// }} ""
// {{ 543 1 0 "bb1a8b02_df65_4274_b3a00e52983053e8" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctAdapter1=l_arr_Adapter1CheckDistinct.GetSize();
// }} ""
// {{ 544 1 0 "8e553972_f26d_4b76_a3edbbb756f1abad" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctAdapter2=l_arr_Adapter2CheckDistinct.GetSize();
// }} ""
// {{ 545 1 0 "2f7d1776_542d_4662_a71c150ce47c548a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_Adapter1CheckSize=l_arr_Adapter1Check.GetSize();
// }} ""
// {{ 546 1 0 "c8475fa5_3e52_4f2a_ae06b79529aa04b9" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_Adapter2CheckSize=l_arr_Adapter2Check.GetSize();
// }} ""
// {{ 547 1 0 "268fe7af_7cbb_4067_823f1e0bee60aac6" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_AdapterComboSize=l_arr_AdapterCombo.GetSize();
// }} ""
// {{ 548 1 0 "361826b5_1e0e_4270_beebea4469553734" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_AdapterComboDistinctSize=l_arr_AdapterComboDistinct.GetSize();
// }} ""
// {{ 549 1 0 "9a65d7a6_607c_4d5c_8537f7691efd251a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_AdapterComboSize != l_int_AdapterComboDistinctSize)
{
// }} ""
// {{{ 550 1 0 "dd2bf736_4285_4569_88d08bbb98ddc09a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strErrorMessage = StrConcat4(Translate("There is a duplicate combination of adapters/indexes/barcodes used for  target well "), t_arr_TargetWellPositions.ElementAt( l_intAdapterIndex -1), Translate("\nPlease correct the worklist before attempting to run the method again."), Translate("\n\n The method will now ABORT."));
// }} ""
// {{{ 551 1 0 "d09805e9_1869_4b52_b8c17c878c5156c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 552 1 0 "4cb87b32_ea27_4dbc_8da46b17b6e527f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ErrorDialog(Translate("Adapter Worklist Error"), 0, 0, 0, 0, 0, l_strErrorMessage, Translate(""));
// }} ""
// {{{ 553 1 0 "15d00e54_6225_4256_84d1f3e59e8bdc10" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{ 554 1 0 "87012f3e_33de_4262_8506cebad76afd1b" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 555 1 0 "9a65d7a6_607c_4d5c_8537f7691efd251a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 556 1 0 "cf63bf7d_7cde_4937_aaf5d22af5ca78ef" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 557 1 0 "73c90301_4dbe_4e3c_9c77f8c3b5201db1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 558 1 0 "5db34f7c_794f_4e53_a32c8b4a40d80093" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 559 1 0 "34b3f75d_482b_4f98_bf04693af2ec417b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 560 1 0 "ae83bb1d_5f4f_4e6e_84bf891564b19164" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 561 1 0 "d339d110_c48e_4b9a_a360a4e0636136a1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_Adapter1Distinct.SetSize(0);
// }} ""
// {{ 562 1 0 "a2aa030e_17df_4108_baadf1fd21dedc40" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_Adapter1Frequency.SetSize(0);
// }} ""
// {{{ 563 1 0 "428452e2_1906_4ef2_8c430de007bc8780" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Adapter1, o_arr_Adapter1Distinct);
// }} ""
// {{ 564 1 0 "c709a132_82a5_43cc_a6e326992c8d0f2e" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctAdapter1=o_arr_Adapter1Distinct.GetSize();
// }} ""
// {{ 565 1 0 "dda30b1a_3474_4966_bb164febd32d05d7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctAdapter1;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 566 1 0 "70d1aaf8_9d3a_48c8_b507e2f6bc55530b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfAdapters = 0;
// }} ""
// {{ 567 1 0 "f7019b2d_f061_4c9a_999be2f1a1a1829e" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Adapter=o_arr_Adapter1Distinct.GetAt(loopCounter2-1);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 568 1 0 "f0d66f4f_8582_4761_9efea8d1bf4b5243" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_int_Barcode = APPSLIB::StrConvertToNumber(l_str_Barcode);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 569 1 0 "d5f2cda5_7ac0_4230_af43028f0766414b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Adapter1] ="), l_str_Adapter, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 571 1 0 "ab6d961f_08b2_4131_9b79ab13f22fbb25" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Adapter1", file1_Adapter1, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslAppend, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 572 1 0 "21ae84cd_8295_42f6_a4a226981788fb1c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 573 1 0 "a58264af_7403_40c0_97b1904fe37a2f63" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 574 1 0 "ab11470d_ba0b_4d67_b88c01649a7e39d4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 575 1 0 "39599947_e0ce_45d5_939a55cdb89414ed" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 576 1 0 "7e7ce7b8_ba8b_4f1e_aaba2a6c4df1beda" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 577 1 0 "1dc357bb_1a41_4726_b3cb5b604ce138dc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfAdapters = l_int_NumberOfAdapters + 1;
// }} ""
// {{ 578 1 0 "7e7ce7b8_ba8b_4f1e_aaba2a6c4df1beda" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 579 1 0 "21ae84cd_8295_42f6_a4a226981788fb1c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 580 1 0 "6afc7c8e_5c03_4df7_a72b4ce92c8f254e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_Adapter1Frequency.AddAsLast(l_int_NumberOfAdapters);
// }} ""
// {{ 581 1 0 "53a61ebb_753a_4661_854fd8223f9a04fd" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 582 1 0 "dda30b1a_3474_4966_bb164febd32d05d7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 583 1 0 "d8ad8008_88e2_4e9c_84588b8cd4aaf3d6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("Output Array of Adapters (1) and their Frequency of Use : "), o_arr_Adapter1Distinct, o_arr_Adapter1Frequency);
// }} ""
// {{ 584 1 0 "ae83bb1d_5f4f_4e6e_84bf891564b19164" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 585 1 0 "39718631_3e0b_41c5_b2161326cd4956df" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 586 1 0 "876ecbab_2a4d_422a_91afcd323d5c6767" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_Adapter2Distinct.SetSize(0);
// }} ""
// {{ 587 1 0 "b19074ae_1294_4a3a_b388db222afa8d1f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_Adapter2Frequency.SetSize(0);
// }} ""
// {{{ 588 1 0 "9a72dafe_2df4_46e5_bd4afb3f7a976b3a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Adapter2, o_arr_Adapter2Distinct);
// }} ""
// {{ 589 1 0 "80eba949_e67b_4c00_8da6d561a27e85f9" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctAdapter2=o_arr_Adapter2Distinct.GetSize();
// }} ""
// {{ 590 1 0 "f37326c4_f7fd_47c6_9bb5918bd736854e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctAdapter2;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 591 1 0 "e200a528_7a78_47f7_b65b22d97d14332e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfAdapters = 0;
// }} ""
// {{ 592 1 0 "655e9297_0f86_4f95_a224359270d83ca3" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Adapter=o_arr_Adapter2Distinct.GetAt(loopCounter2-1);
// }} ""
// {{{ 593 1 0 "0246d1f1_d328_423a_a4723e10c42bf03e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Adapter2] ="), l_str_Adapter, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 595 1 0 "7a2a9715_61aa_4363_aea8b7788c9c1df2" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("Adapter2", file1_Adapter2, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslAppend, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 596 1 0 "1ce5f399_0a52_4925_8aac874380f14dfc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 597 1 0 "caf2f337_34fa_4818_9826aa550b3f4c44" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 598 1 0 "1d187c5f_a3ac_4032_adb7ba265e1327e6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 599 1 0 "161a456d_e5d6_4ccd_a51ad4b919a8e99c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 600 1 0 "2a0f3ee3_d76b_4723_9baadc9c802c9cad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 601 1 0 "572b2c15_1fba_45cb_92799db132f9e803" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfAdapters = l_int_NumberOfAdapters + 1;
// }} ""
// {{ 602 1 0 "2a0f3ee3_d76b_4723_9baadc9c802c9cad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 603 1 0 "1ce5f399_0a52_4925_8aac874380f14dfc" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 604 1 0 "122c77a5_af29_43c7_80972b93b6c34dd6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_Adapter2Frequency.AddAsLast(l_int_NumberOfAdapters);
// }} ""
// {{ 605 1 0 "cb763f1b_6074_419d_9f3c26874f9afe7d" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 606 1 0 "f37326c4_f7fd_47c6_9bb5918bd736854e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 607 1 0 "038a7b48_b34a_400e_a50ed8e3a82100c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("Output Array of Adapters (2) and their Frequency of Use : "), o_arr_Adapter2Distinct, o_arr_Adapter2Frequency);
// }} ""
// {{ 608 1 0 "39718631_3e0b_41c5_b2161326cd4956df" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 609 1 0 "34b3f75d_482b_4f98_bf04693af2ec417b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 610 1 0 "38a1d40b_a2ea_4c77_ba90d6cf9e4cae83" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_Adapter1Asp);
// }} ""
// {{{ 611 1 0 "4a96cd6e_9e10_4033_a7743fe98c86995b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_Adapter2Asp);
// }} ""
// {{{ 612 1 0 "eeef5519_a455_4007_a43222351ffbeaaa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_AdapterDisp);
// }} ""
// {{ 613 1 0 "0b9495b4_0765_454e_8e02edc93da0e107" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: ADAPTER2   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "C_Adapter2" "End"
}
// }} ""
// {{{ 5 "D_PoolingArrays" "Begin"
function D_PoolingArrays( variable & o_arr_intNumberOfSamplesPerPool[], variable & o_int_NumberOfPools ) void {
// }} ""
private variable l_strDescription;
// {{ 5 "D_PoolingArrays" "InitLocals"
o_arr_intNumberOfSamplesPerPool.SetSize( 0);
o_int_NumberOfPools = 0;
// }} ""
// {{ 868 1 0 "cc9a7302_963a_4941_ac95ed544f8df5f6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("**********************************************************************************************************************************************\n                    WORKLIST:: POOLING ARRAYS   STARTED\n**********************************************************************************************************************************************\n"));
// }} ""
// {{ 869 1 0 "8b21fd97_99a2_4a28_8e5a9f0658a48d68" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_intNumberOfSamplesPerPool.SetSize(0);
// }} ""
// {{ 870 1 0 "6998fdfc_5b3c_4474_a35be145f895215c" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
o_arr_intNumberOfSamplesPerPool=t_arr_NumberOfSamplePerPool;
// }} ""
// {{{ 871 1 0 "365ffe77_258d_4ebc_81977180636e262b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDescription = StrConcat12(Translate("Target Wells and the respective number of samples in the same pool"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 872 1 0 "37b8c663_3725_497e_b1b26c6e589b1b78" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
o_int_NumberOfPools=o_arr_intNumberOfSamplesPerPool.GetSize();
// }} ""
// {{{ 873 1 0 "d293f8d1_f864_4a84_b7d82056a3e0d7c9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(l_strDescription, t_arr_Disctint_Pool_Well, o_arr_intNumberOfSamplesPerPool);
// }} ""
// {{{ 874 1 0 "a4fed5d9_a006_4214_ae5eacf8b41f253f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Total Number of Pools: "), o_int_NumberOfPools);
// }} ""
// {{ 875 1 0 "46e1a798_a96c_4750_ba6fd6d866432569" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("**********************************************************************************************************************************************\n                    WORKLIST:: POOLING ARRAYS   COMPLETED\n**********************************************************************************************************************************************\n"));
// }} ""
// {{{ 5 "D_PoolingArrays" "End"
}
// }} ""
// {{{ 5 "C_UMI_Plate" "Begin"
function C_UMI_Plate( device & i_MLSTAR, variable i_hdl_InputWorklist, variable & i_arr_SourceWellID[], sequence i_seq_AdapterTubesOrPlate, sequence i_seq_AdapterDestPlate, sequence & o_seq_AdapterAsp, sequence & o_seq_AdapterDisp, variable & o_arr_AdapterDistinct[], variable & o_arr_AdapterFrequency[], variable i_bln_UsingMPH ) void {
// }} ""
private variable l_int_BarcodeTemp;
private variable l_int_BarcodeTemp2;
private variable file1_Source_Well;
private variable loopCounter8;
private variable l_bln_BarcodeTempSortCheck;
private variable l_int_NumberOfSamplesAdditional;
private variable l_int_NumberOfAdapters;
private variable l_intBarcodeIndex;
private variable l_int_ReturnLookUp;
private variable l_int_NumberOfSamplesRemaining;
private variable file1_UMI_Plate;
private variable l_int_NumberOfSamples;
private variable l_int_CurrentBarcodeThisPool;
private variable l_str_DummyLabwareId_BarcodeDisp;
private variable l_str_WellID_MPH;
private variable l_int_NumberOfSamplesColumn;
private variable l_int_BarcodeCheckSize;
private variable l_strErrorMessage;
private variable l_int_NumberOfDistinctBarcodes;
private variable l_str_BarcodeTemp;
private variable l_int_NumberOfSamplesSet;
private variable l_int_NumberOfBarcodes;
private variable file1_Source_SampleID;
private variable l_str_SQLSentence;
private variable l_int_StartingBarcode;
private variable loopCounter2;
private variable l_str_DummyLabwareId_BarcodeAsp;
private variable loopCounter3;
private variable l_int_SizeArrBarcodes;
private variable l_str_Barcode;
private file file1;
private variable l_arr_Barcodes[];
private variable l_arr_BarcodeTempRemade[];
private variable l_arr_BarcodeCheck[];
private variable l_arr_BarcodeTemp[];
private variable l_arr_BarcodeTempSorted[];
private variable l_arrTempBarcodes[];
private variable l_arr_BarcodeCheckDistinct[];
// {{ 5 "C_UMI_Plate" "InitLocals"
{ sequence __temp; o_seq_AdapterAsp = __temp; }
{ sequence __temp; o_seq_AdapterDisp = __temp; }
o_arr_AdapterDistinct.SetSize( 0);
o_arr_AdapterFrequency.SetSize( 0);
// }} ""
// {{ 710 1 0 "1fc3dfdc_0676_494e_a773ef0dbd391eaf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: UMI PLATE   STARTED\n************************************************************************************************************\n"));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 711 1 0 "cd2fb12d_5d61_4067_a868016d4e798157" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_AdapterTubesOrPlate);
// }} ""
// {{{ 712 1 0 "724e0f2f_14b3_4b74_8c021effdf454b12" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceSequence(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 713 1 0 "d808581d_2a99_431e_854141c134e0ec7d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_BarcodeAsp = SeqGetLabwareId(i_seq_AdapterTubesOrPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 714 1 0 "da3a0958_99b2_44ef_a0f396c0717997fa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeAsp: "), l_str_DummyLabwareId_BarcodeAsp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 715 1 0 "f04fdeb3_3527_483f_a65c1b7f5943aeec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_DummyLabwareId_BarcodeDisp = SeqGetLabwareId(i_seq_AdapterDestPlate);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 716 1 0 "31e39497_fa9f_4d86_b740575065e3074a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("l_str_DummyLabwareId_BarcodeDisp: "), l_str_DummyLabwareId_BarcodeDisp);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 717 1 0 "636fa6d3_a3ac_4ce6_836d750c0d2d48b3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 718 1 0 "dc6947a1_d853_4b18_9f3c14c664e6b80c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 719 1 0 "2831b72e_f3eb_43bc_b6689b1b3e218fd8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_Barcodes.SetSize(0);
// }} ""
// {{ 720 1 0 "db0e9be3_930e_476a_9c97ce540fe9d305" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeCheckDistinct.SetSize(0);
// }} ""
// {{ 721 1 0 "9d8f2095_0818_4bfd_8e1d16e8c2560d03" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("UMI_Plate", file1_UMI_Plate, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 722 1 0 "6186ddc6_7254_4313_b00df474750a71f5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = 0;
// }} ""
// {{ 723 1 0 "70703cc0_0ef1_486b_a2d1670769693ab2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 724 1 0 "62c1743c_5fc9_4ebe_98e4a53b855dadcb" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 725 1 0 "f0abd805_4b94_4932_b101fdcdddf88ef9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 726 1 0 "fa15f921_eea8_4da5_8997a20de221d45f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, file1_Source_Well);
// }} ""
// {{ 727 1 0 "a3d1bee8_21fe_447a_8ed03444ba65e310" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 728 1 0 "f5787a17_b54a_4fea_901ce2d707a6646b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamples = l_int_NumberOfSamples + 1;
// }} ""
// {{ 729 1 0 "5cef880c_d567_44a5_947f3a20f100065a" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_Barcodes.AddAsLast(file1_UMI_Plate);
// }} ""
// {{{ 730 1 0 "7a5951a4_5450_4325_a2cbbc4c0b5268f2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_AdapterAsp, l_str_DummyLabwareId_BarcodeAsp, file1_UMI_Plate);
// }} ""
// {{{ 731 1 0 "93de9e9c_5cbd_45b8_b2af8d046943eb2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(o_seq_AdapterDisp, l_str_DummyLabwareId_BarcodeDisp, file1_Source_Well);
// }} ""
// {{ 732 1 0 "a3d1bee8_21fe_447a_8ed03444ba65e310" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 733 1 0 "70703cc0_0ef1_486b_a2d1670769693ab2" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 734 1 0 "4477e1d5_fa17_44fe_ae632d4106816397" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate(" Array of Samples and their resepective UMI adapter: "), i_arr_SourceWellID, l_arr_Barcodes);
// }} ""
// {{{ 735 1 0 "229efad9_3a43_4871_8f0fa232952f123c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_AdapterAsp);
// }} ""
// {{{ 736 1 0 "ba585268_24b8_42ef_97211bd9976f5152" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTraceSequence(o_seq_AdapterDisp);
// }} ""
// {{ 737 1 0 "dc6947a1_d853_4b18_9f3c14c664e6b80c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 738 1 0 "e7f5a637_547b_405a_ad419afd534a5061" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_bln_UsingMPH == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 739 1 0 "ffa91787_15dc_4803_a47bdfa312d15023" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesRemaining = l_int_NumberOfSamples % 8;
// }} ""
// {{ 740 1 0 "dece669e_ef33_42d6_b1ce9ee1d226cc00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_NumberOfSamplesRemaining > 0)
{
// }} ""
// {{ 741 1 0 "d0f71ed7_e34e_4fe4_89cf7a5c2fd2678f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesAdditional = 8 - l_int_NumberOfSamplesRemaining;
// }} ""
// {{ 742 1 0 "7f331fc6_d111_4118_b7ec6f915e45d497" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesSet = l_int_NumberOfSamples + l_int_NumberOfSamplesAdditional;
// }} ""
// {{ 743 1 0 "dece669e_ef33_42d6_b1ce9ee1d226cc00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 744 1 0 "407a54bc_68a2_4a11_843a3d33f6b8ef03" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesSet = l_int_NumberOfSamples;
// }} ""
// {{ 745 1 0 "dece669e_ef33_42d6_b1ce9ee1d226cc00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 746 1 0 "c61a9ae0_5390_4e5d_aa83b05358d27c29" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfSamplesColumn = l_int_NumberOfSamplesSet / (8 * 1.0);
// }} ""
// {{ 747 1 0 "5a3935d1_b25c_481f_95d6ab61b1aa50bb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 748 1 0 "cbb15a32_a4d8_4140_b39843882ec1f571" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = 0;
// }} ""
// {{ 749 1 0 "67500681_af24_415f_9fa50cab7099d0b8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTemp.SetSize(0);
// }} ""
// {{ 750 1 0 "4d5149b1_1b10_43ad_bf7c99007a1fb9f1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTempSorted.SetSize(0);
// }} ""
// {{ 751 1 0 "5f86fd0d_6557_43e3_ac0578b9c2f81f16" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeTempRemade.SetSize(0);
// }} ""
// {{ 752 1 0 "6960d4d2_1328_452e_b619934112b62567" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_SizeArrBarcodes=l_arr_Barcodes.GetSize();
// }} ""
// {{ 753 1 0 "c4de72a3_5906_454a_b67712182187f1a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < l_int_SizeArrBarcodes;)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{ 754 1 0 "16b43152_09d8_4904_b2a84a22a0031328" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = l_intBarcodeIndex + 1;
// }} ""
// {{ 755 1 0 "fa3b70bd_0d84_46e6_804956e724db7117" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_BarcodeTemp=l_arr_Barcodes.GetAt(l_intBarcodeIndex-1);
// }} ""
// {{{ 756 1 0 "a1fed9e3_5fd3_46c7_9d21ca650e15df0b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_int_BarcodeTemp2 = StrMid(l_int_BarcodeTemp, 1, 2);
// }} ""
// {{{ 757 1 0 "aff9a38a_9f9c_4b74_9edd28adc39e34e6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_int_BarcodeTemp2 = StrIVal(l_int_BarcodeTemp2);
// }} ""
// {{ 758 1 0 "de09248a_e888_412c_97633066b906c7aa" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTemp.AddAsLast(l_int_BarcodeTemp2);
// }} ""
// {{ 759 1 0 "c4de72a3_5906_454a_b67712182187f1a7" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 760 1 0 "66599bc4_3192_492e_97caeb152bc6897a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arr_BarcodeTempSorted = HSLExtensions::Array::Sort(l_arr_BarcodeTemp, 1, l_bln_BarcodeTempSortCheck);
// }} ""
// {{ 761 1 0 "59a37735_42f5_48c0_ababaac18d26a038" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_StartingBarcode=l_arr_BarcodeTempSorted.GetAt(1-1);
// }} ""
// {{ 762 1 0 "4c46d2a5_1efa_44fc_956d3d6e71c35a04" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < l_int_NumberOfSamplesColumn;)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{{ 763 1 0 "a6eda8f4_53a6_4a13_bcd1f0696046e826" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("A"), l_int_StartingBarcode);
// }} ""
// {{ 764 1 0 "0c4b1f05_77c0_4ee3_b3b588b147ad2142" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 765 1 0 "15429b73_6c20_45dd_9cf634f14dc14de7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("B"), l_int_StartingBarcode);
// }} ""
// {{ 766 1 0 "2341a648_a7e6_4274_a9b10f54313ecc73" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 767 1 0 "f1d17cc2_e892_4e2d_8e2ef67dac5ef422" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("C"), l_int_StartingBarcode);
// }} ""
// {{ 768 1 0 "3684b6f1_a4b1_48e9_879c7a959bc0f13d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 769 1 0 "7e21a7ff_e50a_4f47_a668c89279e1624d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("D"), l_int_StartingBarcode);
// }} ""
// {{ 770 1 0 "adae0651_af85_4575_a47fb34c5bd61b91" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 771 1 0 "3e6b0757_9057_4300_a50b0d39a9e5f2ca" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("E"), l_int_StartingBarcode);
// }} ""
// {{ 772 1 0 "25634c0a_a153_47f7_873edb4a832b6682" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 773 1 0 "4b1c78b3_5bda_4827_8d51525399f117d2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("F"), l_int_StartingBarcode);
// }} ""
// {{ 774 1 0 "2553900f_a7ae_418e_a435284c4889cc46" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 775 1 0 "ccfa5efc_863c_42bd_a8e0a5868295f427" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("G"), l_int_StartingBarcode);
// }} ""
// {{ 776 1 0 "5c92fc2e_2c66_4022_835ea779c3f1f968" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{{ 777 1 0 "535cb28d_2e40_4b13_aefbdb4ee277cd66" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_WellID_MPH = StrConcat2(Translate("H"), l_int_StartingBarcode);
// }} ""
// {{ 778 1 0 "387fd087_0b20_438d_999e5fbdcb39e58d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeTempRemade.AddAsLast(l_str_WellID_MPH);
// }} ""
// {{ 779 1 0 "7f630a11_0d5a_4f3a_a7653a3e660ba2b2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_StartingBarcode = l_int_StartingBarcode + 1;
// }} ""
// {{ 780 1 0 "4c46d2a5_1efa_44fc_956d3d6e71c35a04" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 781 1 0 "431e67c2_a6d6_440b_9f8f32bbcba3fbd3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeTempSorted: "), l_arr_BarcodeTempSorted);
// }} ""
// {{{ 782 1 0 "e43982bc_6012_4982_81de16cbf0c0264b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeTempRemade: "), l_arr_BarcodeTempRemade);
// }} ""
// {{ 783 1 0 "5a3935d1_b25c_481f_95d6ab61b1aa50bb" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 784 1 0 "918ca6eb_4cb4_4139_a5df913c21d5aef3" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
l_arr_Barcodes=l_arr_BarcodeTempRemade;
// }} ""
// {{ 785 1 0 "e7f5a637_547b_405a_ad419afd534a5061" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 786 1 0 "87f8cd70_a0c8_45b5_9c720a9870b86450" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 787 1 0 "74a2367b_92be_4ee0_9c5359783a99e8e3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = 0;
// }} ""
// {{ 788 1 0 "c47d3534_e696_4925_ab44391d5d2e5d5c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < t_int_NumberOfTargetsFromFile;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 789 1 0 "7036a911_a4b4_43fb_b412d2015f4cc1a9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arr_BarcodeCheck.SetSize(0);
// }} ""
// {{ 790 1 0 "9e8ae9a5_51fc_4d80_9151bc92a4430a6a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter8 = 0; loopCounter8 < t_arr_NumberOfSamplePerPool.ElementAt( loopCounter2 -1);)
{
loopCounter8 = loopCounter8 + 1;
// }} ""
// {{ 791 1 0 "fd9bf91c_f73a_4c44_831449a41f925b6a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intBarcodeIndex = l_intBarcodeIndex + 1;
// }} ""
// {{ 792 1 0 "df7905f8_5ee1_42b4_959eee76e003b92a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_int_CurrentBarcodeThisPool=l_arr_Barcodes.GetAt(l_intBarcodeIndex-1);
// }} ""
// {{ 793 1 0 "b3a79fe4_36cd_4536_8f3c5559a40fda25" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arr_BarcodeCheck.AddAsLast(l_int_CurrentBarcodeThisPool);
// }} ""
// {{ 794 1 0 "9e8ae9a5_51fc_4d80_9151bc92a4430a6a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 795 1 0 "8e6eb05d_db8a_4884_a2f54432837fe6a9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_BarcodeCheck, l_arr_BarcodeCheckDistinct);
// }} ""
// {{{ 796 1 0 "8ad2bc11_40ef_400f_93c043d144be336e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeCheckDistinct: "), l_arr_BarcodeCheckDistinct);
// }} ""
// {{{ 797 1 0 "077c4a04_85cd_4f15_bc1180ad7be00d81" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_arr_BarcodeCheck: "), l_arr_BarcodeCheck);
// }} ""
// {{ 798 1 0 "c0ba25fc_0f6b_4917_90a924c7548f12de" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctBarcodes=l_arr_BarcodeCheckDistinct.GetSize();
// }} ""
// {{ 799 1 0 "0a79c427_0195_4a82_a595aeb09444f00d" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_BarcodeCheckSize=l_arr_BarcodeCheck.GetSize();
// }} ""
// {{ 800 1 0 "53e8e24d_be0d_431d_a13c1a733bb351a6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_NumberOfDistinctBarcodes != l_int_BarcodeCheckSize)
{
// }} ""
// {{{ 801 1 0 "5e71d42e_e7b4_4c4e_84da0f480e009dd0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strErrorMessage = StrConcat4(Translate("There is a identical adapters/indexes/barcodes used for  target well "), t_arr_TargetWellPositions.ElementAt( l_intBarcodeIndex -1), Translate("\nPlease correct the worklist before attempting to run the method again."), Translate("\n\n The method will now ABORT."));
// }} ""
// {{{ 802 1 0 "de450494_3120_475d_a3eff14b07196227" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 803 1 0 "d02d1fb2_d44e_4e4f_84f18e1f9056bfbe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ErrorDialog(Translate("Adapter Worklist Error"), 0, 0, 0, 0, 0, l_strErrorMessage, Translate(""));
// }} ""
// {{{ 804 1 0 "93e641ed_20cd_4503_89cc6212262dee22" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Terminate();
// }} ""
// {{ 805 1 0 "600b470f_a4c3_4aa0_be15bf07cca6b12e" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 806 1 0 "53e8e24d_be0d_431d_a13c1a733bb351a6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 807 1 0 "fea3fdc4_ed52_45ed_ba92fe3b500a64e0" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 808 1 0 "c47d3534_e696_4925_ab44391d5d2e5d5c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 809 1 0 "87f8cd70_a0c8_45b5_9c720a9870b86450" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 810 1 0 "bd7ad97f_8ce9_41e1_aa43a6cb42b0166a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 811 1 0 "a68b1b18_e971_4b24_befec5e1542fb9f3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AdapterDistinct.SetSize(0);
// }} ""
// {{ 812 1 0 "440f7682_7892_4f9a_af473b433ad772ea" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
o_arr_AdapterFrequency.SetSize(0);
// }} ""
// {{{ 813 1 0 "90a42e9a_0e09_457a_b533b7ba546a2cc9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_distinct_from_array(l_arr_Barcodes, o_arr_AdapterDistinct);
// }} ""
// {{ 814 1 0 "6c6272f8_50ad_4372_8d92d9f07226c2a7" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfDistinctBarcodes=o_arr_AdapterDistinct.GetSize();
// }} ""
// {{ 815 1 0 "06226ba6_8dfc_4675_87b607c0c77d0b07" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{ 816 1 0 "f3e593e9_6f04_40aa_93e7842f169a89d0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctBarcodes;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 817 1 0 "d7c02464_58e3_49f5_b999f4d7b13442b8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 818 1 0 "9796311a_065d_4323_884c75d53311f6f5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = 1;
// }} ""
// {{ 819 1 0 "ae9c36ff_6f34_490f_a9b0cbbc2f83ca29" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Barcode=o_arr_AdapterDistinct.GetAt(loopCounter2-1);
// }} ""
// {{{ 820 1 0 "111e35fd_9f73_4fd8_b5da5feb0946006e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_str_SQLSentence = StrConcat8(Translate("Select * from [Sheet1$] where [Adapter1] = "), l_str_Barcode, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
Trace("l_str_SQLSentence: ",l_str_SQLSentence);
// {{ 822 1 0 "346ff1f8_5415_4a0a_b6bd4ecd6a0dd5f1" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
file1.SetExtendedProperties( "IMEX=1");
file1.AddField("Source_SampleID", file1_Source_SampleID, hslString, 255);
file1.AddField("Source_Well", file1_Source_Well, hslString, 255);
file1.AddField("UMI_Plate", file1_UMI_Plate, hslString, 255);
if( 0 == file1.Open(i_hdl_InputWorklist + " " + "Sheet1$", hslAppend, l_str_SQLSentence) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, i_hdl_InputWorklist, "HxMetEdCompCmd");
}
// }} ""
// {{ 823 1 0 "0027fd8c_2ed5_4ff5_81653ce9635aeb79" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter3 = 0;
while (
   (file1.Eof() == 0)
)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 824 1 0 "e948b71b_24fd_4427_aeac573fb6d71f16" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == file1.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 825 1 0 "89b4fd96_d7d5_4142_93e6087d9afbde33" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 826 1 0 "e503c4cd_34f7_458d_9292e38e02533f28" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_int_ReturnLookUp = Lookup(i_arr_SourceWellID, l_str_Barcode);
// }} ""
// {{ 827 1 0 "555909b6_eea4_4e82_9035ea8c2cc38f08" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_int_ReturnLookUp > 0)
{
// }} ""
// {{ 828 1 0 "ac8c14db_4a96_41ef_886bf027b35180e8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = l_int_NumberOfBarcodes + 1;
// }} ""
// {{ 829 1 0 "555909b6_eea4_4e82_9035ea8c2cc38f08" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 830 1 0 "0027fd8c_2ed5_4ff5_81653ce9635aeb79" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 831 1 0 "e76f7784_ce14_4af4_8fb7182d906a4ee5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_AdapterFrequency.AddAsLast(l_int_NumberOfBarcodes);
// }} ""
// {{ 832 1 0 "99608f74_3d4e_4e0c_b324c19a5d3b3591" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != file1.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
file1.RemoveFields();
// }} ""
// {{ 833 1 0 "f3e593e9_6f04_40aa_93e7842f169a89d0" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 834 1 0 "99c56cc0_25a3_4c05_aac49ca2c2515909" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 835 1 0 "6163ce01_bf73_49e1_8e4e959658a8036b" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_int_NumberOfAdapters=l_arr_Barcodes.GetSize();
// }} ""
// {{ 836 1 0 "7a362c29_ceec_422c_a7ec17e3954dec0f" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
l_arrTempBarcodes=l_arr_Barcodes;
// }} ""
// {{ 837 1 0 "30ec6047_bfc4_4779_967ddfa830a5fce9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < l_int_NumberOfDistinctBarcodes;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 838 1 0 "7416b460_b359_4582_b4eeba7b5ea21434" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = 0;
// }} ""
// {{ 839 1 0 "1f0ec874_49ca_4dc2_ba2d792a3c33c3bf" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_Barcode=o_arr_AdapterDistinct.GetAt(loopCounter2-1);
// }} ""
// {{ 840 1 0 "4b70c105_d60b_4f37_a15013211fad8021" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter3 = 0; loopCounter3 < l_int_NumberOfAdapters;)
{
loopCounter3 = loopCounter3 + 1;
// }} ""
// {{ 841 1 0 "bf24cf31_6842_41f8_9f0bd69b3a1bd211" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_str_BarcodeTemp=l_arrTempBarcodes.GetAt(loopCounter3-1);
// }} ""
// {{ 842 1 0 "98bdf967_b3c5_47cd_8e0ec9326b1d3770" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 843 1 0 "ddd2d80a_322d_4c20_8877f5aff3c9d319" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_str_Barcode == l_str_BarcodeTemp)
{
// }} ""
// {{ 844 1 0 "61712d00_a221_45a2_a6446dcf08abf69c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrTempBarcodes.SetAt(loopCounter3-1, Translate("Clear"));
// }} ""
// {{ 845 1 0 "10d2dc8f_936a_46ae_ab6d5350ba4a8753" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_int_NumberOfBarcodes = l_int_NumberOfBarcodes + 1;
// }} ""
// {{ 846 1 0 "ddd2d80a_322d_4c20_8877f5aff3c9d319" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 847 1 0 "4b70c105_d60b_4f37_a15013211fad8021" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 848 1 0 "949584fd_c19c_4d66_b9ccc26b9e584ad2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
o_arr_AdapterFrequency.AddAsLast(l_int_NumberOfBarcodes);
// }} ""
// {{ 849 1 0 "30ec6047_bfc4_4779_967ddfa830a5fce9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 850 1 0 "57aa66c2_c946_4d77_816ce4442bf52d4c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray(Translate("l_str_BarcodeTemp: "), l_arrTempBarcodes);
// }} ""
// {{{ 851 1 0 "24c09691_dbc9_410e_91924889a0ed4c46" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util2::Debug::TraceArray_2(Translate("Output Array of UMI Adapter and their Frequency of Use : "), o_arr_AdapterDistinct, o_arr_AdapterFrequency);
// }} ""
// {{ 852 1 0 "bd7ad97f_8ce9_41e1_aa43a6cb42b0166a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 853 1 0 "1385c8ba_2b50_4586_a4ab1222f5be9a6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_AdapterAsp);
// }} ""
// {{{ 854 1 0 "a5a2412b_ae38_4e50_835c813ae33c9965" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqResetSequenceIndexes(o_seq_AdapterDisp);
// }} ""
// {{ 855 1 0 "cf954523_27a1_4482_acbd92209022738a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("************************************************************************************************************\n                    WORKLIST:: UMI PLATE   COMPLETED\n************************************************************************************************************\n"));
// }} ""
// {{{ 5 "C_UMI_Plate" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=Orr_B$$valid=0$$time=2022-08-02 15:42$$checksum=e68b166e$$length=082$$