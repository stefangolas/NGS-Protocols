// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLStrLib.hsl"
#include "Inheco ODTC\\Inheco ODTC.hsl"
#include "ASWStandard\\TraceLevel\\TraceLevel.hsl"
#include "HSLMthLib.hsl"
#include "VectorCustomDialogs\\VectorCustomDialogs.hsl"
#include "HSLExtensions\\String.hsl"
#include "HSLTimLib.hsl"
#include "HSLExtensions\\File.hsl"
#include "HSLUtilLib.hsl"
#include "RemoveTextDelimiters\\RemoveTextDelimitersFromAsciiTextFile.hsl"
#include "ASWStandard\\ASWGlobal\\ASWGlobal.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace INHECOODTC_CONTROLLER {
// }} ""
variable t_blnSimulationModeON;
variable t_strODTCMethodName;
variable t_intGetTraceLevel;
variable t_strMethodName;
variable t_activateIntegratedAbortHandler;
variable t_blnInitPerformed;
variable t_strLibraryName;
variable t_strFunctionName;
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function Init( variable i_strDeviceAddress, variable & o_intDeviceNum, variable i_strLocalIPAdress, variable i_blnSimulationModeON, variable i_ActivateIntegratedAbortHandler, variable & o_strNameAndVersion ) variable ;
function ODTC_CloseDoor( variable i_intDeviceNumber ) variable ;
function ODTC_DownloadProtocol( variable i_intDeviceNumber, variable i_strProtocollFullFileName ) variable ;
function ODTC_ExecuteProtocol( variable i_intDeviceNumber, variable i_strProtocollFullFileName, variable i_strNameOfProtocollOnDevice, variable & o_intTimeForProtocol, variable & o_intRequestIDForActiveProtocol, variable i_blnShortenPreheatingMethodsTo40Seconds ) variable ;
function ODTC_GetDataFromLastRun( variable i_intDeviceNumber, variable i_strNameOfODTCProtocol ) variable ;
function ODTC_OpenDoor( variable i_intDeviceNumber ) variable ;
function ODTC_Terminate( variable i_intDeviceNumber, variable i_blnOpenDoorRequested ) variable ;
function ODTC_WaitForLidAndBlockCorrectTemperature( variable i_intDeviceNumber, variable i_fltRequestedBlockTemperature, variable i_fltRequestedLidTemperature ) variable ;
function ODTC_WaitForStartedProtocolToFinish( variable i_intDeviceNumber, variable i_intTimeOut, variable & io_intRequestIDToWaitFor ) variable ;
private function _DATA_AppendStatusWindow( variable i_strMessageToAppend ) void ;
private function _DATA_IntegratedAbortHandler( variable i_strFunctionName, variable i_strAbortMessage ) void ;
private function _GetDataFromLastRun_ExportData( variable i_strResultOfLastRunODTC, variable i_strNameOfProtocolPerfromedODTC, variable & o_strFullPathExportedDataODTC ) variable ;
private function _ODTC_CheckStatus( variable i_intDeviceNumber, variable i_strFunctionName ) variable ;
private function _ODTC_HandleReturnValue( variable i_blnSuccess, variable i_strFunctionName, variable i_intReturnValue, variable i_strMessage ) variable ;
private function _Version(  ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 0);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "_Version" "Begin"
private function _Version(  ) void {
// }} ""
// {{ 5 "_Version" "InitLocals"
// }} ""
// {{ 645 1 0 "612c52ba_a8eb_4198_9dd5dee6948bac9f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 646 1 0 "456b856d_5757_4b45_b5d91e26156219f7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 647 1 0 "581f097b_35eb_4a1c_98e5b4e391e05629" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 648 1 0 "14a56116_a4e4_490b_8520adb99f646690" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 649 1 0 "50a253c0_5511_4d5b_ab81cf42208a0653" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 650 1 0 "aaa6f64c_4c87_4f2d_b97cecfc1e2261b8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 651 1 0 "038cb3ac_72c1_4918_90fd7d76bf6ade97" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 652 1 0 "cd339330_9af8_486e_8f1ac5ed56976add" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 653 1 0 "78cd7559_1473_4f3e_a61ada38ea07e3f0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 5 "_Version" "End"
}
// }} ""
// {{{ 5 "Init" "Begin"
function Init( variable i_strDeviceAddress, variable & o_intDeviceNum, variable i_strLocalIPAdress, variable i_blnSimulationModeON, variable i_ActivateIntegratedAbortHandler, variable & o_strNameAndVersion ) variable {
// }} ""
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_blnReturnValue;
private variable l_strDescription;
private variable l_strComment;
private variable l_str_ReturnNameAndVersion;
private variable l_strControllerVersion;
private variable l_blnSuccess;
private variable t_strLibraryNameWithoutExtension;
// {{ 5 "Init" "InitLocals"
o_intDeviceNum = 0;
o_strNameAndVersion = 0;
// }} ""
// {{ 1 1 0 "8525dd01_cda3_456c_a47c8cf9c94fa356" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strMethodName = Translate("");
// }} ""
t_strMethodName = GetMethodFileName();
// {{{ 3 1 0 "84fc9fe6_2a6c_47c1_99128c9597bbc353" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
t_intGetTraceLevel = TRACELEVEL::GetTraceLevel();
// }} ""
// {{ 4 1 0 "456158fd_61fc_401f_81c0413ebe3531ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 5 1 0 "c743b71a_bbaf_415a_9fd20bbbbe52ae8a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strLibraryName = Translate("");
// }} ""
// {{ 6 1 0 "3d30d83c_4b71_4e94_9393d960700f84e8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{ 7 1 0 "5e3e9445_96de_4336_9cad67fe3604f7b1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strControllerVersion = Translate("");
// }} ""
// {{ 8 1 0 "9310314d_b575_4d39_97c5da42ef2a6e88" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_str_ReturnNameAndVersion = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
t_strLibraryName = GetFileName();
l_strControllerVersion = "0.5.5";
// {{{ 10 1 0 "8ac47cd7_60a4_471c_a872a6a822000988" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
t_strLibraryNameWithoutExtension = HSLExtensions::File::GetFileNameWithoutExtension(t_strLibraryName);
// }} ""
// {{{ 11 1 0 "299e447a_b519_4c22_94b0bddbdc7c1a6b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_strNameAndVersion = StrConcat4(t_strLibraryNameWithoutExtension, Translate(" "), l_strControllerVersion, Translate(""));
// }} ""
// {{ 12 1 0 "05ae2aa1_f970_4244_be0d09fa030f101a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strDescription = o_strNameAndVersion;
// }} ""
// {{{ 13 1 0 "a8729395_5c09_4b52_a27ad11d66efcc26" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strDescription);
// }} ""
// {{ 14 1 0 "456158fd_61fc_401f_81c0413ebe3531ce" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 15 1 0 "e4dcb5ae_62d1_4036_a0284dbc2a6a97c4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_activateIntegratedAbortHandler = i_ActivateIntegratedAbortHandler;
// }} ""
// {{{ 16 1 0 "ba6ac6ac_c33a_4725_adf226305155925e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
t_blnSimulationModeON = Util::GetSimulationMode();
// }} ""
// {{ 17 1 0 "efe69263_a131_4b83_9a9dca1f518ba01f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 18 1 0 "209d0019_e74a_4cad_a0fa32a4aa003b49" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_blnSimulationModeON = i_blnSimulationModeON;
// }} ""
// {{ 19 1 0 "efe69263_a131_4b83_9a9dca1f518ba01f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 20 1 0 "8249e351_219c_4e37_9d613aaae59e88dc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("t_blnSimulationModeON : "), t_blnSimulationModeON);
// }} ""
// {{{ 21 1 0 "0934e667_69cb_414e_bd00cf2039ef8b95" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("i_strLocalIPAdress : "), i_strLocalIPAdress);
// }} ""
// {{{ 22 1 0 "ef263950_4c2d_4599_b9c960dc2ef9ef30" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("i_strDeviceAddress : "), i_strDeviceAddress);
// }} ""
// {{ 23 1 0 "0e7053ba_45c4_4f12_af6110c1cde87065" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 24 1 0 "fb3c59e4_a014_449a_b8a4c63e0a713f21" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Inheco_ODTC::Standard::SetTraceLevel(t_intGetTraceLevel);
// }} ""
// {{{ 25 1 0 "821f7525_b6cb_425c_ab2aa93490c52d7e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::Connect(i_strLocalIPAdress, i_strDeviceAddress, Translate(""), t_blnSimulationModeON, o_intDeviceNum, l_strMessage);
// }} ""
// {{{ 26 1 0 "be081233_6315_40c2_a85b8499c9363b1b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::Connect", l_intReturnValue, l_strMessage);
// }} ""
// {{ 27 1 0 "ef8ae1a1_4ebd_4ecb_883602fc8e36aa0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 28 1 0 "8bdb9958_3289_403e_b152966f38dfe554" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::Connect"));
// }} ""
// {{{ 29 1 0 "39f67620_0026_4d36_86a08ff68e4dc290" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 30 1 0 "ef8ae1a1_4ebd_4ecb_883602fc8e36aa0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 31 1 0 "0e7053ba_45c4_4f12_af6110c1cde87065" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 32 1 0 "196a8c30_7cb5_46b0_8ca46d3714d26409" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 33 1 0 "32e901b4_92fa_4161_98640501f44f8839" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::Reset(o_intDeviceNum, t_blnSimulationModeON, 120, Translate(""), Translate(""), Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{{ 34 1 0 "d0ed9147_d3db_467e_b3fc54759f633a6b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::ResetDevice", l_intReturnValue, l_strMessage);
// }} ""
// {{ 35 1 0 "1a1df0eb_1b62_4be6_8a4b1c74c2a6a270" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 36 1 0 "7322522c_3e8c_4e1a_8ece4a0ec507aea4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::ResetDevice"));
// }} ""
// {{{ 37 1 0 "65106466_5538_4b17_82f35679fccf9877" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 38 1 0 "1a1df0eb_1b62_4be6_8a4b1c74c2a6a270" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 39 1 0 "196a8c30_7cb5_46b0_8ca46d3714d26409" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 40 1 0 "44382184_5b18_4b8d_ae40672092f8e01f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 41 1 0 "d78f951f_7fc7_4bbf_ab63d50be8c51235" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::Initialize(o_intDeviceNum, Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{{ 42 1 0 "bc538002_52d3_4a58_b52d185343d9f812" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::Initialize", l_intReturnValue, l_strMessage);
// }} ""
// {{ 43 1 0 "795d0b55_764a_4b46_b033c1dbc05d7214" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 44 1 0 "3a106843_c942_4404_b8fc33978e3f2ea8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::Initialize"));
// }} ""
// {{{ 45 1 0 "461b4db8_bba8_46f6_a6b68b13e3da199a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 46 1 0 "795d0b55_764a_4b46_b033c1dbc05d7214" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 47 1 0 "44382184_5b18_4b8d_ae40672092f8e01f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 48 1 0 "26aaa666_783c_4ae5_91872eafda3e2c95" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_CheckStatus(o_intDeviceNum, Translate("INHECOODTCCONTROLLER::Initialize"));
// }} ""
// {{ 49 1 0 "ecd63487_9d96_49d6_bf9b0be7ffe3ceb9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 50 1 0 "b9a64d76_f01f_4a1a_b25c14923dbd8ad7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate(""));
// }} ""
// {{{ 51 1 0 "6b31f009_8c0d_4f14_a93fa390c41c2cfd" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 52 1 0 "ecd63487_9d96_49d6_bf9b0be7ffe3ceb9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 53 1 0 "9d597079_ed7f_42ac_8212c3c1f6a48887" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_blnInitPerformed = ASWGLOBAL::BOOL::TRUE;
// }} ""
// {{ 54 1 0 "f0b085e1_c1d7_46b0_98b763dba58b7d81" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 55 1 0 "e7e1cb48_9f11_4696_a37bc5a5491094fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 56 1 0 "56bd31bd_4437_4cc4_b1cc79e7992abc7a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 57 1 0 "b72580a1_74f6_4041_8d3b89daf5bcfff2" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 58 1 0 "f0b085e1_c1d7_46b0_98b763dba58b7d81" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "Init" "End"
}
// }} ""
// {{{ 5 "_ODTC_HandleReturnValue" "Begin"
private function _ODTC_HandleReturnValue( variable i_blnSuccess, variable i_strFunctionName, variable i_intReturnValue, variable i_strMessage ) variable {
// }} ""
private variable l_retValueDialog;
private variable l_strTrace;
private variable l_strMethodName;
private variable l_strReturnValueODTC;
private variable l_strDeviceMessage;
private variable l_strFunctionName;
private variable l_arrListODTCtMessage[];
// {{ 5 "_ODTC_HandleReturnValue" "InitLocals"
// }} ""
// {{ 619 1 0 "baa9557d_d812_4da4_90a9627d2795de25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 620 1 0 "47a3f01e_43a9_4d6e_96373fd686864758" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_blnSuccess == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 621 1 0 "e812d965_bf0e_4696_9387c751d75bf358" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4("SiLA message was '", i_strMessage, "', SiLA return value was ", i_intReturnValue);
// }} ""
// {{{ 622 1 0 "e0356e21_99b1_4c9d_b930d7b519b80321" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, l_strTrace, Translate(""));
// }} ""
// {{{ 623 1 0 "8d4e827f_ac59_49fe_a3436d9928b651f4" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 624 1 0 "47a3f01e_43a9_4d6e_96373fd686864758" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 625 1 0 "11aab4d4_79d9_4110_af6499e82c2fcb9f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4("SiLA message was '", i_strMessage, "', SiLA return value was ", i_intReturnValue);
// }} ""
// {{{ 626 1 0 "3168c16a_98bc_4046_9f44e60f5416aaf7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, l_strTrace, Translate(""));
// }} ""
// {{{ 627 1 0 "b9759642_b549_471f_b661cc6ee869f2a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strFunctionName = StrConcat2(Translate("Function name   : "), i_strFunctionName);
// }} ""
// {{{ 628 1 0 "b8b5dd83_c9d0_4f2b_8aba5f3999a5ea87" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMethodName = StrConcat2(Translate("Method name    :"), t_strODTCMethodName);
// }} ""
// {{{ 629 1 0 "de538d2d_695b_4130_856a1d0ec619d96e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDeviceMessage = StrConcat2(Translate("Device message :"), i_strMessage);
// }} ""
// {{{ 630 1 0 "922a209e_0977_4c83_a7c0176dd2de3f06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strReturnValueODTC = StrIStr(i_intReturnValue);
// }} ""
// {{{ 631 1 0 "172d29e5_7585_4733_99c0245ae0971609" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strReturnValueODTC = StrConcat2(Translate("Device return value :"), l_strReturnValueODTC);
// }} ""
// {{ 632 1 0 "49ff3b57_0413_44f8_93b0cb942b8e105d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrListODTCtMessage.SetSize(0);
// }} ""
// {{ 633 1 0 "596a2562_0cc6_4182_b371891175e4d04b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListODTCtMessage.AddAsLast(l_strFunctionName);
// }} ""
// {{ 634 1 0 "20dd0ca3_cb53_443b_b3c605b70e42c830" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListODTCtMessage.AddAsLast(l_strMethodName);
// }} ""
// {{ 635 1 0 "2f68d5ce_d028_4bb2_9107f0fc8220ea93" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListODTCtMessage.AddAsLast(l_strDeviceMessage);
// }} ""
// {{ 636 1 0 "0767335d_f4d5_4d8e_bb21aba3f887dc80" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListODTCtMessage.AddAsLast(l_strReturnValueODTC);
// }} ""
// {{{ 637 1 0 "c2ea84fc_8dd0_48b9_85d31e440a87f167" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_retValueDialog = VectorCustomDialogs::ListDialog(Translate(""), VectorCustomDialogs::IconType::Warning, VectorCustomDialogs::ButtonType::Ok, 0, 0, 0, Translate("ODTC - handle retrun value - action completed with error : "), Translate("The  method will abort - get in contact with HAMILTON Technical Support if this problem is permanent. Check the HAMILTON and INHECO log files "), l_arrListODTCtMessage);
// }} ""
// {{{ 638 1 0 "a3d80dae_75ea_44c4_a9392aa9c7687c24" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_IntegratedAbortHandler(i_strFunctionName, Translate("ODTC Handle return value is not = success."));
// }} ""
// {{{ 639 1 0 "372492e4_37d3_48b9_9988ffe86f2ee37c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 640 1 0 "47a3f01e_43a9_4d6e_96373fd686864758" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 641 1 0 "baa9557d_d812_4da4_90a9627d2795de25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 642 1 0 "d56eb554_d956_412f_ab7e4d67833d6022" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 643 1 0 "baa9557d_d812_4da4_90a9627d2795de25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 5 "_ODTC_HandleReturnValue" "End"
}
// }} ""
// {{{ 5 "ODTC_Terminate" "Begin"
function ODTC_Terminate( variable i_intDeviceNumber, variable i_blnOpenDoorRequested ) variable {
// }} ""
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_strDisplayTextToStatusWindow;
private variable l_blnReturnValue;
private variable l_strComment;
// {{ 5 "ODTC_Terminate" "InitLocals"
// }} ""
// {{ 250 1 0 "0ec41976_9529_444c_adb1a4c9a02c1b14" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnInitPerformed == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 251 1 0 "1927d5fc_32ef_462f_b5d339fa76511390" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("This step was introduced to avoid terminating a device without having initialized it in prior.\nThis may happen if a run is aborted and the init step was not called before --> on abort handler might still call terminate command.."));
// }} ""
// {{{ 252 1 0 "12ca9cc5_6eff_48c7_8bcaeb8bec54b872" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 253 1 0 "0ec41976_9529_444c_adb1a4c9a02c1b14" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 254 1 0 "0d1edce3_e229_47ea_b5fb2ba54f5b29d2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 255 1 0 "4545b74d_5f15_4bb7_8ffd8870cdd8d398" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 257 1 0 "05e7c464_1954_47a6_87a23208d2540aa9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 258 1 0 "0d1edce3_e229_47ea_b5fb2ba54f5b29d2" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 259 1 0 "e57c888b_629a_41f7_82e850f21e233d06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 260 1 0 "c88e44a6_c7f5_4a25_8a6172a37e9cdb26" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat4(Translate("Terminate device : ODTC. "), Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 261 1 0 "373d5aa4_1b64_4b45_b3bffc07de4e789b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::AppendStatusText(l_strDisplayTextToStatusWindow);
// }} ""
// {{ 262 1 0 "0749f769_c91e_4c79_810b4bf335680d9f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 263 1 0 "e9cc231f_1769_40e8_b646f99494847238" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_F4020E3448E94c4b9A5E7586FDE7E779 ;
err.Clear();
// }} ""
// {{{ 264 1 0 "235f08b4_8705_4659_a17bb39b85b56a57" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Inheco_ODTC::Standard::StopMethod(i_intDeviceNumber, Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{ 265 1 0 "e9cc231f_1769_40e8_b646f99494847238" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_F4020E3448E94c4b9A5E7586FDE7E779 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 266 1 0 "3c0fdd90_5717_46ba_84be579c133aa95f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Stop method failed in terminate command - perhaps no method has been started"));
// }} ""
// {{ 267 1 0 "e9cc231f_1769_40e8_b646f99494847238" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 268 1 0 "87def0c6_07c1_40cf_8da8763d6da4c293" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_blnOpenDoorRequested == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 269 1 0 "e2a3d8e9_acb2_4997_bfb05e8219df428d" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_248E5DA7F05E4554BBFA1960B2DA5A8A ;
err.Clear();
// }} ""
// {{{ 270 1 0 "a81f18f2_3534_4c72_ab864ff16e6495a0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::OpenDoor(i_intDeviceNumber, Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{ 271 1 0 "2dde5426_5cde_430c_b9dc297cfd256c9b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnReturnValue == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{{ 272 1 0 "b151bcda_5a59_4165_a17f92aad261538f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_AppendStatusWindow(Translate("Open door of ODTC within termination process failed"));
// }} ""
// {{ 273 1 0 "2dde5426_5cde_430c_b9dc297cfd256c9b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 274 1 0 "e2a3d8e9_acb2_4997_bfb05e8219df428d" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_248E5DA7F05E4554BBFA1960B2DA5A8A : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 275 1 0 "7a0a7c6c_0fe0_46a4_9d3102acfdc59724" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Open door failed in terminate command - bypassed with try catch block to allow proper termination of the device"));
// }} ""
// {{ 276 1 0 "e2a3d8e9_acb2_4997_bfb05e8219df428d" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 277 1 0 "87def0c6_07c1_40cf_8da8763d6da4c293" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 278 1 0 "2aeae152_adaf_4e57_8960e286b6bf8736" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::Terminate(i_intDeviceNumber, l_strMessage);
// }} ""
// {{ 279 1 0 "2f99906c_9bfe_428a_90a835afcf5474c2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnReturnValue == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{{ 280 1 0 "8860fc1c_f033_42a2_8cbc9d46f80ccedf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_AppendStatusWindow(Translate("TERMIANTE ODTC FAILED"));
// }} ""
// {{ 281 1 0 "2f99906c_9bfe_428a_90a835afcf5474c2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 282 1 0 "0749f769_c91e_4c79_810b4bf335680d9f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 283 1 0 "2db2bf85_d686_466a_b4fe2fbb6d5816e6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 284 1 0 "c718b56a_46a8_4df2_9124a09ef0f9b276" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 285 1 0 "11f589ba_955f_45c8_bd037feeb588bd7a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 286 1 0 "9e0706e6_93a1_4361_9740b67dc19967e4" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 287 1 0 "2db2bf85_d686_466a_b4fe2fbb6d5816e6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_Terminate" "End"
}
// }} ""
// {{{ 5 "ODTC_OpenDoor" "Begin"
function ODTC_OpenDoor( variable i_intDeviceNumber ) variable {
// }} ""
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_blnReturnValue;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_OpenDoor" "InitLocals"
// }} ""
// {{ 228 1 0 "8c41894f_1001_4875_b034e6f99977ae25" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 229 1 0 "83ef294b_5b4d_4686_bce2cf77b5548ae3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 231 1 0 "76472cfe_4280_456b_87c0e05dde5ab2d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 232 1 0 "8c41894f_1001_4875_b034e6f99977ae25" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 233 1 0 "b72212dc_5f8b_490b_97376fe0b0848cf2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::OpenDoor(i_intDeviceNumber, Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{{ 234 1 0 "71b8267b_1d39_4ea3_bbaae5e42f1c7395" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::OPENDoor", l_intReturnValue, l_strMessage);
// }} ""
// {{ 235 1 0 "e1aee668_812e_4687_b92f4abad8b33f0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 236 1 0 "71886a5e_13c0_49fa_8362666c4f5c8b74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::OPENDoor"));
// }} ""
// {{{ 237 1 0 "9192dffa_ec94_407e_ba5d7c221b9134de" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 238 1 0 "e1aee668_812e_4687_b92f4abad8b33f0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 239 1 0 "7c637862_5780_46cb_82da4badcaa175fe" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_CheckStatus(i_intDeviceNumber, Translate("INHECOODTCCONTROLLER::OPENDoor"));
// }} ""
// {{ 240 1 0 "1a120900_66e8_4d9d_8344d00e8745fc0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 241 1 0 "ef1fb336_7b1e_4d65_967039a544069a9b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate(""));
// }} ""
// {{{ 242 1 0 "6c32da93_66e3_48ec_b6247191ea76be09" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 243 1 0 "1a120900_66e8_4d9d_8344d00e8745fc0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 244 1 0 "8fb636c7_1dea_417d_8ba95588605c549f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 245 1 0 "aeb79489_2ceb_46bf_aacc4111cbf5a10a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 246 1 0 "d0596aa2_bddb_42c3_a12f2fe8fb864490" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 247 1 0 "3701aa1e_5c74_48e4_9c480a15e5427a00" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 248 1 0 "8fb636c7_1dea_417d_8ba95588605c549f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_OpenDoor" "End"
}
// }} ""
// {{{ 5 "ODTC_CloseDoor" "Begin"
function ODTC_CloseDoor( variable i_intDeviceNumber ) variable {
// }} ""
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_blnReturnValue;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_CloseDoor" "InitLocals"
// }} ""
// {{ 60 1 0 "4808ebe9_293f_42a4_afa4950c018e02b6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 61 1 0 "94642f62_6adf_4712_8d7675cebdf39449" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 63 1 0 "fa3d09ca_3e98_4dbf_a52bb13f279aa181" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 64 1 0 "4808ebe9_293f_42a4_afa4950c018e02b6" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 65 1 0 "a391aeb6_67c8_4b3c_9480fad4fc6649c3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::CloseDoor(i_intDeviceNumber, Translate(""), l_intReturnValue, l_strMessage);
// }} ""
// {{{ 66 1 0 "9bd78d5c_4c8c_4894_9a057902c8b28555" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::CloseDoor", l_intReturnValue, l_strMessage);
// }} ""
// {{ 67 1 0 "5e131c36_2f72_4515_bc500fc117893e66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 68 1 0 "c9c7b5f7_de29_4abf_b46d051684a100c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("Close door"));
// }} ""
// {{{ 69 1 0 "0400d48a_2d59_426a_9fecb6bbd3d04d4f" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 70 1 0 "5e131c36_2f72_4515_bc500fc117893e66" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 71 1 0 "926847e8_7df3_40af_96bebc2a51ecca65" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_CheckStatus(i_intDeviceNumber, Translate("INHECOODTCCONTROLLER::CloseDoor"));
// }} ""
// {{ 72 1 0 "63e6a7e4_b698_4060_a112a31c942b8af0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 73 1 0 "4aa23258_5d30_456f_ab61888f0936507e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate(""));
// }} ""
// {{{ 74 1 0 "710c9819_8942_498e_a5d142e86c08ed26" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 75 1 0 "63e6a7e4_b698_4060_a112a31c942b8af0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 76 1 0 "5e3a1d37_2f77_4ff5_b99f8a7956048bbe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 77 1 0 "24c86ac4_e4b4_41ed_9c9f0ae8cfa4bfb6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 78 1 0 "9be3467d_d77b_4b6d_9d455ac7c3b6a21f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 79 1 0 "35427beb_4135_47f9_8ecf9aab14fac6b2" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 80 1 0 "5e3a1d37_2f77_4ff5_b99f8a7956048bbe" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_CloseDoor" "End"
}
// }} ""
// {{{ 5 "ODTC_WaitForStartedProtocolToFinish" "Begin"
function ODTC_WaitForStartedProtocolToFinish( variable i_intDeviceNumber, variable i_intTimeOut, variable & io_intRequestIDToWaitFor ) variable {
// }} ""
private variable l_strPmsID;
private variable l_strState;
private variable l_strMessage;
private variable l_strTrace;
private variable l_intTimeToWait;
private variable l_strDeviceID;
private variable l_intReturnValue;
private variable l_strCurrentTime;
private variable l_blnLocked;
private variable l_blnReturn;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_WaitForStartedProtocolToFinish" "InitLocals"
// }} ""
// {{ 407 1 0 "d6d20c9c_a334_4873_a1131c96354a0e29" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 408 1 0 "3db85487_1a04_473f_be744b6b4f10d57e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 410 1 0 "7521b2fd_9562_4071_b5db351748d92b59" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 411 1 0 "d6d20c9c_a334_4873_a1131c96354a0e29" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 412 1 0 "84eae03f_ac65_46bc_bd7c37f3fe8ad5a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (io_intRequestIDToWaitFor == 0)
{
// }} ""
// {{ 413 1 0 "ac5d61d7_44b1_4d44_a51d89af05fb1298" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Request ID is equal to 0. No protocol is executed and therefore no need to wait."));
// }} ""
// {{{ 414 1 0 "e47a5114_353b_4378_8cb31a52ccfe0d12" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 415 1 0 "84eae03f_ac65_46bc_bd7c37f3fe8ad5a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 416 1 0 "9bd97ace_a4e3_429f_ba6786131893dcd3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_AppendStatusWindow(t_strFunctionName);
// }} ""
// {{ 417 1 0 "c21050ac_9ee1_45f6_b31bbb167e594665" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intTimeToWait = i_intTimeOut + 20;
// }} ""
// {{{ 418 1 0 "9d11f4e0_9689_4392_81628ff8cf458c8d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat2("Effective time to wait before an error is triggered = ", l_intTimeToWait);
// }} ""
// {{{ 419 1 0 "9f7ff9bd_a2c5_40ef_879f25ea9f58faff" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate(""), l_strTrace);
// }} ""
// {{{ 420 1 0 "e7439f5f_3526_4471_a95cd56d290b5f90" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturn = Inheco_ODTC::Standard::WaitForEndOfExecuteMethod(i_intDeviceNumber, l_intTimeToWait, io_intRequestIDToWaitFor, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 421 1 0 "449c4597_c959_4018_8b2168ce70604d8c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("Return value of command WsitForEndOfExecutedMethod : "), l_blnReturn);
// }} ""
// {{{ 422 1 0 "6ee30c5f_47c5_4381_beda0e2be0b25402" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturn, "INHECOODTCCONTROLLER::WaitForStartedProtocolToFinish", l_intReturnValue, l_strMessage);
// }} ""
// {{ 423 1 0 "ea19a011_8b97_47f8_bbe219cb878582a0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 424 1 0 "8fe30f91_c863_41b0_89e7e086c0b4ff77" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::WaitForStartedProtocolToFinish"));
// }} ""
// {{{ 425 1 0 "6ced9dfd_49ba_4401_b0639ccd4208ea36" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 426 1 0 "ea19a011_8b97_47f8_bbe219cb878582a0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 427 1 0 "ed621fd9_b76d_40a3_b65bb0820673d54b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 428 1 0 "42a35ee4_668c_44bf_891da336f4106920" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 429 1 0 "12bc4352_854e_48c3_a785e82656d67ba2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturn = Inheco_ODTC::Standard::GetStatus(i_intDeviceNumber, l_strDeviceID, l_strState, l_blnLocked, l_strPmsID, l_strCurrentTime, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 430 1 0 "a2101b37_8229_4af7_a5b7d6a6bdd317f0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat12("l_strDeviceID = ", l_strDeviceID, ", l_strState = ", l_strState, ", l_blnLocked = ", l_blnLocked, ", l_strPMSID = ", l_strPmsID, ", l_strCurrentDeviceTime = ", l_strCurrentTime, ", l_intReturnValue = ", l_intReturnValue);
// }} ""
// {{{ 431 1 0 "3fbf210f_b69e_4ad6_b4204624627fd8fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(l_strTrace, ", l_strMessage = ", l_strMessage, "");
// }} ""
// {{{ 432 1 0 "c48d39f6_3d83_4ce9_a573cb377d805960" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturn, "INHECOODTCCONTROLLER::GetStatus", l_intReturnValue, l_strTrace);
// }} ""
// {{ 433 1 0 "5f74cf33_0f99_4460_be5e276187751808" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 434 1 0 "31f1c104_2b24_4671_af88590040be609e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::GetStatus"));
// }} ""
// {{{ 435 1 0 "812df636_566e_4668_9ad3a11d30710d5a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 436 1 0 "5f74cf33_0f99_4460_be5e276187751808" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 437 1 0 "42a35ee4_668c_44bf_891da336f4106920" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 438 1 0 "ed621fd9_b76d_40a3_b65bb0820673d54b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 439 1 0 "b477f4c5_71b9_466f_a25404778a65c085" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("New logic implemented to always reset the requesd ID to 0 after a protocol has been finished."));
// }} ""
// {{ 440 1 0 "625dc09b_ea6b_468a_b580edce9185bfb1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
io_intRequestIDToWaitFor = 0;
// }} ""
// {{ 441 1 0 "b41feb90_5a8d_4a47_90003b6050864f11" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 442 1 0 "8011a1d5_0407_4c8d_a2e1dab803183eeb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 443 1 0 "2cf4dd9f_16bc_4886_8cfe0c13befce3b4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 444 1 0 "09ca7146_1f51_4a28_bd509f9ee6b9c2e5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 445 1 0 "b41feb90_5a8d_4a47_90003b6050864f11" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_WaitForStartedProtocolToFinish" "End"
}
// }} ""
// {{{ 5 "ODTC_ExecuteProtocol" "Begin"
function ODTC_ExecuteProtocol( variable i_intDeviceNumber, variable i_strProtocollFullFileName, variable i_strNameOfProtocollOnDevice, variable & o_intTimeForProtocol, variable & o_intRequestIDForActiveProtocol, variable i_blnShortenPreheatingMethodsTo40Seconds ) variable {
// }} ""
private variable l_intPriority;
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_strDisplayTextToStatusWindow;
private variable l_fltHours;
private variable l_fltRemaining;
private variable l_intHours;
private variable l_fltMinutes;
private variable l_intRemaining;
private variable l_intSeconds;
private variable l_intMinutes;
private variable l_blnReturnValue;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_ExecuteProtocol" "InitLocals"
o_intTimeForProtocol = 0;
o_intRequestIDForActiveProtocol = 0;
// }} ""
// {{ 104 1 0 "293011d0_605f_4d15_bc0afa58b25afc3d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 105 1 0 "5dbdd2b7_0d29_4e95_93f4543ec07af591" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 107 1 0 "7c33cef9_5ac1_4906_a48f9f040425956e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 108 1 0 "293011d0_605f_4d15_bc0afa58b25afc3d" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 109 1 0 "73ca07df_985d_489d_a7e22be61a3cd750" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate(" ODTC script to be executed: "), i_strProtocollFullFileName);
// }} ""
// {{{ 110 1 0 "91e0ab0a_3459_45ae_9feca72111123224" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat4(Translate("ODTC execute protocol : "), i_strProtocollFullFileName, Translate(" ; Script : "), i_strNameOfProtocollOnDevice);
// }} ""
// {{ 111 1 0 "72697823_dbad_420b_b216673fcfa50a75" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_blnShortenPreheatingMethodsTo40Seconds == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 112 1 0 "cefaeac5_b235_47d8_95f01a823cd9595a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intPriority = 10000;
// }} ""
// {{ 113 1 0 "72697823_dbad_420b_b216673fcfa50a75" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 114 1 0 "4ba34295_0cbd_49c0_9737bfa84a36a594" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intPriority = 10;
// }} ""
// {{ 115 1 0 "72697823_dbad_420b_b216673fcfa50a75" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 116 1 0 "7beee91f_7c75_4b93_9db0ce216b6ff927" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::ExecuteMethod(i_intDeviceNumber, Translate(""), i_strNameOfProtocollOnDevice, l_intPriority, o_intTimeForProtocol, o_intRequestIDForActiveProtocol, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 117 1 0 "36266d19_da52_42be_aab809eb7e0b6c07" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::ExecuteMethod", l_intReturnValue, l_strMessage);
// }} ""
// {{ 118 1 0 "09a018c9_ebc3_4a44_92a6b6a5a6afaf38" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 119 1 0 "304560bd_c578_4c34_827acb9a7cc5e8ef" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::ExecuteMethod"));
// }} ""
// {{{ 120 1 0 "794df3c5_f9f6_4f63_9caf843af29e5abe" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 121 1 0 "09a018c9_ebc3_4a44_92a6b6a5a6afaf38" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 122 1 0 "38efdfce_5a49_450b_a95f93ba2c44377e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strODTCMethodName = i_strNameOfProtocollOnDevice;
// }} ""
// {{ 123 1 0 "ccd6db3d_b0e9_49e7_a055c238d96f216e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 124 1 0 "753bd70a_d38c_48e1_9430b0ba29856337" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltHours = o_intTimeForProtocol / (3600 * 1.0);
// }} ""
// {{ 125 1 0 "17b45526_fa5d_417d_b4dd73bb9b2c35fa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours < 1)
{
// }} ""
// {{ 126 1 0 "f6fb2c45_127c_4cb6_857829a256ca9a9b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 0;
// }} ""
// {{ 127 1 0 "cfce343c_c4a5_4efa_9cfa6863050cb953" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 0;
// }} ""
// {{ 128 1 0 "17b45526_fa5d_417d_b4dd73bb9b2c35fa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 129 1 0 "52365827_b3b8_43c9_92bb8355f73aee1c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 2)
{
// }} ""
// {{ 130 1 0 "db2f1938_5f28_41eb_967671e79e22cc67" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 2;
// }} ""
// {{ 131 1 0 "54cd1eda_c13a_4420_ba5703dc3f462891" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 7200;
// }} ""
// {{ 132 1 0 "a6fc2a89_6270_4079_9d003549bf203ee2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 3)
{
// }} ""
// {{ 133 1 0 "88627a58_5fa4_4378_8d521a6eddb3bbe2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 3;
// }} ""
// {{ 134 1 0 "9eb82c58_d4a1_44a0_aaec061c5e7915cb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 10800;
// }} ""
// {{ 135 1 0 "a6fc2a89_6270_4079_9d003549bf203ee2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 136 1 0 "fbb31708_196a_4312_9507fbfc907f7bae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 4)
{
// }} ""
// {{ 137 1 0 "e967109d_1ba2_4a0b_ad5543ab08df67f1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 4;
// }} ""
// {{ 138 1 0 "58602ae6_0206_4dd4_b7f1a911ddb5ff18" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 14400;
// }} ""
// {{ 139 1 0 "fbb31708_196a_4312_9507fbfc907f7bae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 140 1 0 "aa1d08eb_1a4e_4b3b_9fd42d2b48db18b5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 5)
{
// }} ""
// {{ 141 1 0 "6f05e870_490d_4709_b3c0d7caea1c762b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 5;
// }} ""
// {{ 142 1 0 "de4d876f_c592_4c94_bc04821d096a0be1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 18000;
// }} ""
// {{ 143 1 0 "aa1d08eb_1a4e_4b3b_9fd42d2b48db18b5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 144 1 0 "89910a15_d4f6_4815_9fdb78680f5f54b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 6)
{
// }} ""
// {{ 145 1 0 "5e5f8d2f_41ba_4e93_af6c237a189e07d7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 6;
// }} ""
// {{ 146 1 0 "d5ba44da_ec9e_4fd5_9cf49dc886dc107c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 21600;
// }} ""
// {{ 147 1 0 "89910a15_d4f6_4815_9fdb78680f5f54b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 148 1 0 "191ff18b_8b06_47c1_93eff8c4e147da9e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 7)
{
// }} ""
// {{ 149 1 0 "31f12976_2c50_4d2b_baf03744a7a66a28" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 7;
// }} ""
// {{ 150 1 0 "c90de2ff_0684_49f5_a24f768ceedad79c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 25200;
// }} ""
// {{ 151 1 0 "191ff18b_8b06_47c1_93eff8c4e147da9e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 152 1 0 "5af34e9a_e417_427d_86ad2583d503507e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 8)
{
// }} ""
// {{ 153 1 0 "daf2404c_fbdc_4199_9d9918007ebba5c1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 8;
// }} ""
// {{ 154 1 0 "8b5754ae_b4db_4f99_9b9cff209bfb4dc3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 28800;
// }} ""
// {{ 155 1 0 "5af34e9a_e417_427d_86ad2583d503507e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 156 1 0 "9749c34e_9312_43b1_b34b8a97b091e318" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 9)
{
// }} ""
// {{ 157 1 0 "8845dee9_2804_43fa_b4a70d25554e516d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 9;
// }} ""
// {{ 158 1 0 "d30448a7_5551_4f19_a838d1ef1cf35025" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 32400;
// }} ""
// {{ 159 1 0 "9749c34e_9312_43b1_b34b8a97b091e318" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 160 1 0 "43458c8e_4bf8_4262_ba0b582df0626154" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltHours >= 10)
{
// }} ""
// {{ 161 1 0 "8d5fd557_1f0b_477d_82f51ad9978a0737" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 10;
// }} ""
// {{ 162 1 0 "b185f70a_e21a_4db8_b63142e678bb71ea" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 36000;
// }} ""
// {{ 163 1 0 "43458c8e_4bf8_4262_ba0b582df0626154" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 164 1 0 "9749c34e_9312_43b1_b34b8a97b091e318" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 165 1 0 "5af34e9a_e417_427d_86ad2583d503507e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 166 1 0 "191ff18b_8b06_47c1_93eff8c4e147da9e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 167 1 0 "89910a15_d4f6_4815_9fdb78680f5f54b7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 168 1 0 "aa1d08eb_1a4e_4b3b_9fd42d2b48db18b5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 169 1 0 "fbb31708_196a_4312_9507fbfc907f7bae" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 170 1 0 "a6fc2a89_6270_4079_9d003549bf203ee2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 171 1 0 "52365827_b3b8_43c9_92bb8355f73aee1c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 172 1 0 "0991e435_6b97_4931_a025bc78491349c9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 1;
// }} ""
// {{ 173 1 0 "08a2c18e_083a_457b_b14c183f063c60b0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intRemaining = 3600;
// }} ""
// {{ 174 1 0 "52365827_b3b8_43c9_92bb8355f73aee1c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 175 1 0 "17b45526_fa5d_417d_b4dd73bb9b2c35fa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 176 1 0 "1bce9a5e_a402_45e2_ae56bb28a7ce62e9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 177 1 0 "3237754b_3548_4009_949c4d193a21cd96" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMinutes = o_intTimeForProtocol - l_intRemaining;
// }} ""
// {{ 178 1 0 "a38a8a2d_f143_4b19_a63a2a2c70305540" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMinutes = l_fltMinutes / (60 * 1.0);
// }} ""
// {{{ 179 1 0 "39e8c32d_c8a1_47e9_8b0e3f1ed4a64133" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intMinutes = MthFFloor(l_fltMinutes);
// }} ""
// {{ 180 1 0 "712a89e1_d182_4a04_83303ca2aa68ff39" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltRemaining = l_fltMinutes - l_intMinutes;
// }} ""
// {{ 181 1 0 "93ebaccc_85ec_4886_bd43a63214ae5c55" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 182 1 0 "d3313dc8_9d7f_43ef_a8e35d18948f006b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intSeconds = l_fltRemaining * 60;
// }} ""
// {{ 183 1 0 "572045f6_83d8_4e92_b48b4bde52164f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 184 1 0 "d4535305_1545_4d58_906cdd899b8dbd8e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intHours = 1;
// }} ""
// {{ 185 1 0 "0628af74_0f76_493d_9e7a461ae630c478" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intMinutes = 2;
// }} ""
// {{ 186 1 0 "30a5efcb_1ebc_4457_a5f15d084a1394e1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intSeconds = 3;
// }} ""
// {{{ 187 1 0 "ac3edc25_b3ea_4066_a3ed0a75f97768cb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat12(Translate("Duration of running protocol SIMULATED : "), l_intHours, Translate(" hours, "), l_intMinutes, Translate(" minutes, "), l_intSeconds, Translate(" seconds."), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 188 1 0 "572045f6_83d8_4e92_b48b4bde52164f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 189 1 0 "168a8ad0_d634_4ccf_beef88255501d3de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat12(Translate("Duration of running protocol : "), l_intHours, Translate(" hours, "), l_intMinutes, Translate(" minutes, "), l_intSeconds, Translate(" seconds."), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 190 1 0 "572045f6_83d8_4e92_b48b4bde52164f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 191 1 0 "fe7ce3c6_70a5_4057_86a1fb4403ee26fb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate(""), l_strDisplayTextToStatusWindow);
// }} ""
// {{ 192 1 0 "048aa853_0940_4e5e_8d4f92f04f36de32" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 193 1 0 "5d65588b_4330_48c3_87a17b35792d6581" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 194 1 0 "19b5e4ef_e495_4e60_bdcca257568443c0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 195 1 0 "d23d20b5_74bb_4095_b53ac29306f22844" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 196 1 0 "048aa853_0940_4e5e_8d4f92f04f36de32" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_ExecuteProtocol" "End"
}
// }} ""
// {{{ 5 "ODTC_DownloadProtocol" "Begin"
function ODTC_DownloadProtocol( variable i_intDeviceNumber, variable i_strProtocollFullFileName ) variable {
// }} ""
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_blnReturnValue;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_DownloadProtocol" "InitLocals"
// }} ""
// {{ 82 1 0 "ead8dcd9_1680_4464_b7e0290726c63f0a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 83 1 0 "a0feb0c5_d313_432a_a184684468a3d487" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 85 1 0 "61590979_9214_4573_b22ab47af72ad660" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 86 1 0 "ead8dcd9_1680_4464_b7e0290726c63f0a" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 87 1 0 "589f4a37_077e_4e2f_81b6c1f2e5ab4ba2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::DownloadProtocol(i_intDeviceNumber, Translate(""), i_strProtocollFullFileName, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 88 1 0 "efadbc2d_e393_49a9_86d7e97553717552" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::DownloadProtocol", l_intReturnValue, l_strMessage);
// }} ""
// {{ 89 1 0 "649efa68_1edb_437b_89215870bf4f5ab5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 90 1 0 "23521faf_60fb_4ead_b4425f8c712bd40d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::DownloadProtocol"));
// }} ""
// {{{ 91 1 0 "5e45e9d1_23a3_4c7f_a98d037f7dcc73e5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 92 1 0 "649efa68_1edb_437b_89215870bf4f5ab5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 93 1 0 "9c2253f6_ff4c_47b0_97dd44f1fe2e60a7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_CheckStatus(i_intDeviceNumber, Translate("INHECOODTCCONTROLLER::DownloadProtocol"));
// }} ""
// {{ 94 1 0 "fed52a60_b31d_4b45_adcadda9097310b2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 95 1 0 "50429c38_079d_4d63_aab77f25e006cd9e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate(""));
// }} ""
// {{{ 96 1 0 "b01fc845_2f38_440c_95311093add074b8" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 97 1 0 "fed52a60_b31d_4b45_adcadda9097310b2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 98 1 0 "a05b8a98_883f_40e7_b3420b00241123c5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 99 1 0 "bee029d9_888a_426d_856de02c01cf3c1b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 100 1 0 "7e1633e8_4525_4208_aa919e4ed91505cf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 101 1 0 "f3a740ca_df82_4b5e_adf3bff35cf7e974" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 102 1 0 "a05b8a98_883f_40e7_b3420b00241123c5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_DownloadProtocol" "End"
}
// }} ""
// {{{ 5 "_DATA_IntegratedAbortHandler" "Begin"
private function _DATA_IntegratedAbortHandler( variable i_strFunctionName, variable i_strAbortMessage ) void {
// }} ""
private variable l_strAffectedLibrary;
private variable l_strAbortMessage;
private variable l_arrListAbortHandlerMessage[];
private variable l_strFunctionName;
private variable l_strComment;
// {{ 5 "_DATA_IntegratedAbortHandler" "InitLocals"
// }} ""
// {{ 455 1 0 "93229534_7fc2_42b0_b04df56d7624fdc3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_activateIntegratedAbortHandler == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{{ 456 1 0 "9e9d2913_d9dd_472d_907e9704871154c5" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return;
// }} ""
// {{ 457 1 0 "93229534_7fc2_42b0_b04df56d7624fdc3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 458 1 0 "b3d23b0c_a0af_410d_9a81eb7b166ed6f1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 459 1 0 "3b6ebdbc_6e8e_4e93_b8d6ea8315fbf69c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strFunctionName = Translate("");
// }} ""
// {{ 460 1 0 "7ca01384_b01d_4589_bc26ae5682479387" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
l_strFunctionName = GetFunctionName();
// {{{ 462 1 0 "33da278a_d230_49e9_81ac48dff8467584" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, l_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 463 1 0 "b3d23b0c_a0af_410d_9a81eb7b166ed6f1" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 464 1 0 "11feafb2_edb4_49f7_9ad0415c19378413" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAffectedLibrary = StrConcat2(Translate("Affected library :    "), i_strFunctionName);
// }} ""
// {{{ 465 1 0 "e49d1b07_04cc_4c78_a3bd7e5d052a62e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAbortMessage = StrConcat2(Translate("Message : "), i_strAbortMessage);
// }} ""
// {{ 466 1 0 "029df47e_d46a_4f42_b6c076489f3935d3" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrListAbortHandlerMessage.SetSize(0);
// }} ""
// {{ 467 1 0 "4c32abba_a22e_4287_a9fa8dae6506dce4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListAbortHandlerMessage.AddAsLast(l_strAffectedLibrary);
// }} ""
// {{ 468 1 0 "36e731b2_7622_42e2_b64661782dd73a68" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrListAbortHandlerMessage.AddAsLast(l_strAbortMessage);
// }} ""
// {{{ 469 1 0 "307c72c9_1379_47a8_a0fe1108117faefe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ListDialog(Translate(""), VectorCustomDialogs::IconType::Warning, VectorCustomDialogs::ButtonType::Ok, 0, 0, 0, Translate("Internal abort handler activated - error occurred - abort routine started"), Translate("The  method will abort - get in contact with HAMILTON Technical Support if this problem is permanent. Check the HAMILTON and INHECO log files"), l_arrListAbortHandlerMessage);
// }} ""
// {{ 470 1 0 "ec8e7b51_b6d2_4de2_9b1e74d27c3cc4e8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 471 1 0 "a6ae17f4_61a5_4b63_b2ef24294bbc97dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, i_strAbortMessage);
// }} ""
// {{ 472 1 0 "ec8e7b51_b6d2_4de2_9b1e74d27c3cc4e8" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 473 1 0 "19a529e7_c43d_4284_873d58efa81694b7" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{{ 5 "_DATA_IntegratedAbortHandler" "End"
}
// }} ""
// {{{ 5 "ODTC_WaitForLidAndBlockCorrectTemperature" "Begin"
function ODTC_WaitForLidAndBlockCorrectTemperature( variable i_intDeviceNumber, variable i_fltRequestedBlockTemperature, variable i_fltRequestedLidTemperature ) variable {
// }} ""
private variable l_strDeviceID;
private variable l_fltMaxAllowedLidTemperature;
private variable l_fltMinAllowedMountTemperature;
private variable l_fltMaxAllowedMountTemperature;
private variable l_strPmsID;
private variable l_fltActualMountTemperature;
private variable l_strTime;
private variable l_strMessage;
private variable l_strState;
private variable l_intReturnValue;
private variable l_fltActualLidTemperature;
private variable l_strCurrentTime;
private variable l_blnLocked;
private variable l_strTrace;
private variable l_fltMinAllowedLidTemperature;
private variable l_blnReturn;
private variable l_repeatLoop;
private variable l_intLidTemperature;
private variable l_intEvaluatingTemperature;
private variable l_intMountTemperature;
private variable l_intTemperatureLidMount;
private timer l_hdlTimerWaitForTemperature;
private variable l_arrFltActualTemperatures[];
private variable l_arrStrActualTemperatures[];
private variable l_intCounterToEvaluateLidAndBlockTemperatures;
private variable l_strDisplayTextToStatusWindow;
private variable l_strMessageBlockLidTemperature;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_WaitForLidAndBlockCorrectTemperature" "InitLocals"
// }} ""
// {{ 289 1 0 "886a8fde_579e_4777_8d87b1664cdf2095" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 290 1 0 "538b36c2_6c59_42a1_af4fa0002538a272" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 292 1 0 "7b08389e_ee6d_40d0_a34a334ea8722ea5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 293 1 0 "886a8fde_579e_4777_8d87b1664cdf2095" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 294 1 0 "c951c0ca_a60e_4d49_bd15cc0582d7a676" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_AppendStatusWindow(t_strFunctionName);
// }} ""
// {{{ 295 1 0 "f8d575cc_fd13_42da_874bb3fb2f9e27e6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("i_fltRequestedBlockTemperature : "), i_fltRequestedBlockTemperature);
// }} ""
// {{{ 296 1 0 "e5da136f_070e_46d6_b8e40730836ec286" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("i_fltRequestedLidTemperature : "), i_fltRequestedLidTemperature);
// }} ""
// {{ 297 1 0 "0a597c05_538a_4f5d_87e136f2ccb9f360" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 298 1 0 "b4c9434d_c45f_459e_965f5f45beea5aae" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMaxAllowedLidTemperature = i_fltRequestedLidTemperature + 15;
// }} ""
// {{ 299 1 0 "58b6e5c4_81c5_41f3_b4f29409e9a08dfb" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMinAllowedLidTemperature = i_fltRequestedLidTemperature - 5;
// }} ""
// {{ 300 1 0 "7917c898_8fa5_400c_816153bd1b7a9fd7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMaxAllowedMountTemperature = i_fltRequestedBlockTemperature + 0.5;
// }} ""
// {{ 301 1 0 "23fe06ca_0f3f_4c82_be0c2c346a36005b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltMinAllowedMountTemperature = i_fltRequestedBlockTemperature - 0.5;
// }} ""
// {{ 302 1 0 "5fc8e373_9309_456c_bc0efe95634bf1e4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 303 1 0 "b70f0f7d_ca61_4324_8add85823f56503c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 304 1 0 "80068a02_ada4_4856_968d938411fe54ed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturn = Inheco_ODTC::Standard::GetStatus(i_intDeviceNumber, l_strDeviceID, l_strState, l_blnLocked, l_strPmsID, l_strCurrentTime, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 305 1 0 "b6657ad4_5eb7_4a17_974c3725582b66de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat12("l_strDeviceID = ", l_strDeviceID, ", l_strState = ", l_strState, ", l_blnLocked = ", l_blnLocked, ", l_strPMSID = ", l_strPmsID, ", l_strCurrentDeviceTime = ", l_strCurrentTime, ",l_intReturnValue = ", l_intReturnValue);
// }} ""
// {{{ 306 1 0 "37b90378_6968_4dcc_908ee3c512b62959" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(l_strTrace, ", l_strMessage = ", l_strMessage, "");
// }} ""
// {{{ 307 1 0 "ed2cb96c_66fa_4087_b813b2993392b0da" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ODTC_HandleReturnValue(l_blnReturn, "INHECOODTCCONTROLLER::GetStatus", l_intReturnValue, l_strTrace);
// }} ""
// {{ 308 1 0 "b70f0f7d_ca61_4324_8add85823f56503c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 309 1 0 "5fc8e373_9309_456c_bc0efe95634bf1e4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 310 1 0 "31b8d541_8ddd_469e_ba9c15be4c2e78a0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Read Current Temperature for Lid and Block"));
// }} ""
// {{{ 311 1 0 "b33b44c7_b9da_450c_b3da64b0fbdc4187" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturn = Inheco_ODTC::Standard::ReadActualTemperature(i_intDeviceNumber, Translate(""), l_strTime, l_arrFltActualTemperatures, l_arrStrActualTemperatures, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 312 1 0 "809fd5ab_0d52_46ac_bab7604a39ea2cf5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_ODTC_HandleReturnValue(l_blnReturn, "Inheco_ODTC::Standard::ReadActualTemperature", l_intReturnValue, l_strMessage);
// }} ""
// {{ 313 1 0 "c1b389d3_f55b_4de1_9d57bd461663d61a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 314 1 0 "476a4abc_efb9_4ecb_bff2148611a3025e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Read Current Temperature for Lid and Block ***simulated with fake values"));
// }} ""
// {{ 315 1 0 "c062dab3_061b_4668_ac330e3ff20c3363" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltActualLidTemperature = i_fltRequestedLidTemperature + 2;
// }} ""
// {{ 316 1 0 "a9991304_ede7_42ea_90aa3024a72c5313" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltActualMountTemperature = i_fltRequestedBlockTemperature + 2;
// }} ""
// {{ 317 1 0 "c1b389d3_f55b_4de1_9d57bd461663d61a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 318 1 0 "18dca1b4_9f65_4083_9b2769422f65d4b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceArray(TRACE_LEVEL_DEBUG, Translate("l_arrFltActualTemperatures : "), l_arrFltActualTemperatures);
// }} ""
// {{ 319 1 0 "cfb1d90b_4041_439e_bbe0944bef5e6ae2" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltActualLidTemperature=l_arrFltActualTemperatures.GetAt(4-1);
// }} ""
// {{ 320 1 0 "ea5581a5_bec0_4722_9ce88de4316488aa" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltActualMountTemperature=l_arrFltActualTemperatures.GetAt(6-1);
// }} ""
// {{ 321 1 0 "c1b389d3_f55b_4de1_9d57bd461663d61a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 322 1 0 "dc3926c8_9e11_4790_bd5b5236415c642f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("l_fltActualMountTemperature : "), l_fltActualMountTemperature);
// }} ""
// {{{ 323 1 0 "1926048d_fb21_49e5_acef93d523843cfd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("l_fltActualLidTemperature : "), l_fltActualLidTemperature);
// }} ""
// {{ 324 1 0 "7f91b49d_6e83_4ea6_97180caf6e31cf6a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_repeatLoop = 1;
// }} ""
// {{ 325 1 0 "61d52e6d_46c4_464b_82894072a6de30f3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intEvaluatingTemperature = 0;
// }} ""
// {{ 326 1 0 "2a43a040_b9ca_43cf_b94920f6f1cc0e10" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 327 1 0 "7ff5b165_2136_471d_8e9cfaedd482a105" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
l_intCounterToEvaluateLidAndBlockTemperatures = 0;
while (1 == 1)
{
l_intCounterToEvaluateLidAndBlockTemperatures = l_intCounterToEvaluateLidAndBlockTemperatures + 1;
// }} ""
// {{ 328 1 0 "dbc4b3e2_859b_42ef_97d1eb79977a9cc7" "{B31F353E-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == l_hdlTimerWaitForTemperature.SetTimer(10) )
{
    MECC::RaiseRuntimeErrorEx(-1355939584, MECC::IDS::stepNameTimerStart, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 329 1 0 "2fccac0b_d024_48ac_991431eb42430daa" "{B31F353F-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == l_hdlTimerWaitForTemperature.WaitTimer(hslFalse, hslFalse) )
{
    MECC::RaiseRuntimeErrorEx(-1339162368, MECC::IDS::stepNameTimerWait, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 330 1 0 "64b818c9_5d3a_472b_9fc909bca940c818" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intMountTemperature = 0;
// }} ""
// {{ 331 1 0 "90a6b49d_7c35_418a_bac3a3a3e0dd4147" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intLidTemperature = 0;
// }} ""
// {{{ 332 1 0 "1ae8141c_c1c0_4827_aa3fbd6db6b85ec3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturn = Inheco_ODTC::Standard::ReadActualTemperature(i_intDeviceNumber, Translate(""), l_strTime, l_arrFltActualTemperatures, l_arrStrActualTemperatures, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 333 1 0 "9974c699_b79b_4cb3_ba38e9dca0c0473b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturn, "Inheco_ODTC::Standard::ReadActualTemperature", l_intReturnValue, l_strMessage);
// }} ""
// {{ 334 1 0 "6e3c7bb6_9810_4a8d_86b3d0a9d4e87a86" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 335 1 0 "37c9cb97_3f89_4b61_b1ac91838294348b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("Inheco_ODTC::Standard::ReadActualTemperature"));
// }} ""
// {{{ 336 1 0 "3e0bcd1d_5291_437d_8570a1d30d399e82" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 337 1 0 "6e3c7bb6_9810_4a8d_86b3d0a9d4e87a86" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 338 1 0 "9684c9f9_afd3_4af0_9275f4656e6bde0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 339 1 0 "031f848c_608b_42e6_ab25ca2efef3e29d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Read Current Temperature for Lid and Block ***simulated with fake values"));
// }} ""
// {{ 340 1 0 "0fbd5e20_31a4_44bd_aded073bf1ac96d1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltActualLidTemperature = i_fltRequestedLidTemperature + 2;
// }} ""
// {{ 341 1 0 "2419411d_0187_4a90_a9933dd6d103a2ea" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltActualMountTemperature = i_fltRequestedBlockTemperature + 2;
// }} ""
// {{ 342 1 0 "9684c9f9_afd3_4af0_9275f4656e6bde0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 343 1 0 "ed4883bb_e4fc_45c3_8dffaa0d172cffa6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltActualLidTemperature=l_arrFltActualTemperatures.GetAt(4-1);
// }} ""
// {{ 344 1 0 "e110f40b_c525_4237_9b6cf34cc3cd572c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltActualMountTemperature=l_arrFltActualTemperatures.GetAt(6-1);
// }} ""
// {{ 345 1 0 "9684c9f9_afd3_4af0_9275f4656e6bde0a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 346 1 0 "105329e5_fb16_4c02_b77e119ff6b3fa78" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_DEBUG, Translate("l_fltActualMountTemperature : "), l_fltActualMountTemperature);
// }} ""
// {{{ 347 1 0 "9511293e_2a59_49ab_9ab27eefeea1378e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_DEBUG, Translate("l_fltActualLidTemperature : "), l_fltActualLidTemperature);
// }} ""
// {{{ 348 1 0 "8463597f_ae54_4c7d_adfe9a9d78a97a87" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_DEBUG, Translate(""), Translate("------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- -------"));
// }} ""
// {{ 349 1 0 "b6a2506e_9284_4123_850c38b7550a3644" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltActualLidTemperature >= l_fltMinAllowedLidTemperature)
{
// }} ""
// {{ 350 1 0 "a15010c1_8d39_45c0_9f356bbdf0623a90" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltActualLidTemperature <= l_fltMaxAllowedLidTemperature)
{
// }} ""
// {{ 351 1 0 "0fd41685_5d02_4810_afc122c96d4c24de" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intLidTemperature = 1;
// }} ""
// {{ 352 1 0 "a15010c1_8d39_45c0_9f356bbdf0623a90" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 353 1 0 "aa6f16df_9c84_4bce_bc4c2281e6edad9f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intLidTemperature = 0;
// }} ""
// {{ 354 1 0 "a15010c1_8d39_45c0_9f356bbdf0623a90" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 355 1 0 "b6a2506e_9284_4123_850c38b7550a3644" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 356 1 0 "81715a1c_9d09_40cf_b14813b4542ed372" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intLidTemperature = 0;
// }} ""
// {{ 357 1 0 "b6a2506e_9284_4123_850c38b7550a3644" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 358 1 0 "c92f674f_3a0a_4ca1_b8877ce2390d51dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intLidTemperature == 0)
{
// }} ""
// {{{ 359 1 0 "54ccc026_49c4_4329_bbf9a3cf7a39b5e1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("-------  Requested Lid Temperature not reached yet - current temperature = "), l_fltActualLidTemperature);
// }} ""
// {{{ 360 1 0 "df294dad_ec6d_4e39_8a66c6f13cd0db58" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("------- Minimum Lid Temperature allowed: "), l_fltMinAllowedLidTemperature);
// }} ""
// {{{ 361 1 0 "553fcdee_8441_4ba2_a41d437839f89ca7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("------- Maximum Lid Temperature allowed: "), l_fltMaxAllowedLidTemperature);
// }} ""
// {{{ 362 1 0 "5c433d23_2931_454f_81b1ad0ac289a029" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate(""), Translate("------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- -------"));
// }} ""
// {{ 363 1 0 "c92f674f_3a0a_4ca1_b8877ce2390d51dd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 364 1 0 "97e1be8f_068e_48f8_a6b0a4d47c98a1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltActualMountTemperature >= l_fltMinAllowedMountTemperature)
{
// }} ""
// {{ 365 1 0 "b06926c6_d70b_41ed_882893719ea54945" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_fltActualMountTemperature <= l_fltMaxAllowedMountTemperature)
{
// }} ""
// {{ 366 1 0 "f85abaa6_d26b_4e28_855d045cff29f5be" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intMountTemperature = 1;
// }} ""
// {{ 367 1 0 "b06926c6_d70b_41ed_882893719ea54945" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 368 1 0 "99c2aae9_29d0_4068_8ca52ab7814475f2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intMountTemperature = 0;
// }} ""
// {{ 369 1 0 "b06926c6_d70b_41ed_882893719ea54945" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 370 1 0 "97e1be8f_068e_48f8_a6b0a4d47c98a1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 371 1 0 "6279c6c1_64c4_451a_8bfc843db3fd69c7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_intMountTemperature = 0;
// }} ""
// {{ 372 1 0 "97e1be8f_068e_48f8_a6b0a4d47c98a1b0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 373 1 0 "cc815fd3_59ca_4ec1_adbedc86fdbdcaa5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intMountTemperature == 0)
{
// }} ""
// {{{ 374 1 0 "42bb8706_0eac_4e03_a0f9f99800718d6f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("-------  Requested block Temperature not reached yet - current temperature = "), l_fltActualMountTemperature);
// }} ""
// {{{ 375 1 0 "251c661c_aa81_46e7_a95cd2fb73b2f834" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("------- Minimum block Temperature allowed: "), l_fltMinAllowedMountTemperature);
// }} ""
// {{{ 376 1 0 "8f3046b0_72b0_4a15_b259d7651f741229" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("------- Maximum block Temperature allowed: "), l_fltMaxAllowedMountTemperature);
// }} ""
// {{{ 377 1 0 "ebd2d333_c7cf_48de_b7e7593499f96d24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate(""), Translate("------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- ------- -------"));
// }} ""
// {{ 378 1 0 "cc815fd3_59ca_4ec1_adbedc86fdbdcaa5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 379 1 0 "50dc528c_b076_475a_a0fe16caf9013c8a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intTemperatureLidMount = l_intLidTemperature + l_intMountTemperature;
// }} ""
// {{ 380 1 0 "26e31f56_a5a0_4265_9482f487e1a2762c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intTemperatureLidMount == 2)
{
// }} ""
// {{{ 381 1 0 "614967e7_fb6c_454b_be7eac68035a3afb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("------- Temperatures for Block and Lid have been reached. Now evaluating stability..."), Translate(""));
// }} ""
// {{ 382 1 0 "3b3e546b_7b7b_4d17_9e29b3d21324ff44" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intEvaluatingTemperature = l_intEvaluatingTemperature + 1;
// }} ""
// {{ 383 1 0 "670b4c4c_0add_4f0a_ad82798aa393d5a2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 384 1 0 "b85193f6_ec8f_481a_a1116f37c7e183e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intEvaluatingTemperature == 3)
{
// }} ""
// {{ 385 1 0 "b8588965_8dd3_4c58_a727ce3be61e2085" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 386 1 0 "b85193f6_ec8f_481a_a1116f37c7e183e2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 387 1 0 "26e31f56_a5a0_4265_9482f487e1a2762c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 388 1 0 "71ee08e0_9226_43aa_bbc5fc5edb658f3f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat12(Translate("ODTC waiting to reach bock temperature : "), i_fltRequestedBlockTemperature, Translate(" C and lid temperature : "), i_fltRequestedLidTemperature, Translate(" C."), Translate("Actual block temperature : "), l_fltActualMountTemperature, Translate(" C and actual lid temperature : "), l_fltActualLidTemperature, Translate(" C. Performing ODTC script : "), t_strODTCMethodName, Translate("."));
// }} ""
// {{ 389 1 0 "455351e6_53d1_49df_be125602ed99ab25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 390 1 0 "a3c3d9c9_7512_4c33_a0cb8e25aaaf01d8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intCounterToEvaluateLidAndBlockTemperatures == 3)
{
// }} ""
// {{ 391 1 0 "ef3509be_acb2_47ee_9de2af2a5c35ac03" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 392 1 0 "a3c3d9c9_7512_4c33_a0cb8e25aaaf01d8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 393 1 0 "455351e6_53d1_49df_be125602ed99ab25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 394 1 0 "41259b9b_f9f8_4837_be31e9c0aa5c2dad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intCounterToEvaluateLidAndBlockTemperatures == 50)
{
// }} ""
// {{{ 395 1 0 "7a10528d_8f71_4b99_abb0365e44e92032" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessageBlockLidTemperature = StrConcat12(Translate("Could not reach temperatures."), Translate(" "), Translate("Requested block temperature : "), i_fltRequestedBlockTemperature, Translate(" C. Reached block temperature : "), l_fltActualMountTemperature, Translate(" C. Requested lid temperature : "), i_fltRequestedLidTemperature, Translate(" C. Reached block temperature : "), l_fltActualLidTemperature, Translate(" C."), Translate(""));
// }} ""
// {{{ 396 1 0 "27c57f80_6927_4699_8b7176e7e4648ba3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::MessageDialog(Translate("Check ODTC BLOCK and LID temperatures"), VectorCustomDialogs::IconType::Warning, VectorCustomDialogs::ButtonType::Ok, 0, 0, 10, l_strMessageBlockLidTemperature);
// }} ""
// {{ 397 1 0 "e58634c2_4929_4e55_b78f96fe34dd9da3" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 398 1 0 "41259b9b_f9f8_4837_be31e9c0aa5c2dad" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 399 1 0 "455351e6_53d1_49df_be125602ed99ab25" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 400 1 0 "7ff5b165_2136_471d_8e9cfaedd482a105" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 401 1 0 "7c6dda3f_58fa_42f9_9ed775a4f74055a3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 402 1 0 "37340cee_62e5_4c7c_b4ac841551da8a0a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 403 1 0 "dd21c696_addb_4785_874eebcc7c467e35" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 404 1 0 "ebfc36d6_bcfc_4c76_95c4de5fea554029" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 405 1 0 "7c6dda3f_58fa_42f9_9ed775a4f74055a3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_WaitForLidAndBlockCorrectTemperature" "End"
}
// }} ""
// {{{ 5 "_DATA_AppendStatusWindow" "Begin"
private function _DATA_AppendStatusWindow( variable i_strMessageToAppend ) void {
// }} ""
// {{ 5 "_DATA_AppendStatusWindow" "InitLocals"
// }} ""
// {{ 447 1 0 "1e21c325_463b_44f9_935dd09fc8b1e349" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_6B1ECDC6926C4dcdAE9C4B6930624A48 ;
err.Clear();
// }} ""
// {{{ 448 1 0 "aa356d20_8dc4_4411_98b67f9cc7475ebb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::AppendStatusText(i_strMessageToAppend);
// }} ""
// {{ 449 1 0 "1e21c325_463b_44f9_935dd09fc8b1e349" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_6B1ECDC6926C4dcdAE9C4B6930624A48 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{{ 450 1 0 "5f6b6baf_04e1_47d1_9d4ebf59b499124d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::Initialize();
// }} ""
// {{{ 451 1 0 "c2122680_6873_43ad_b607ba58af8efd8d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::ShowStatusDialog(Translate("ODTC controller"));
// }} ""
// {{{ 452 1 0 "86058048_15a0_4b57_8aeb01e95ea74a40" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::AppendStatusText(i_strMessageToAppend);
// }} ""
// {{ 453 1 0 "1e21c325_463b_44f9_935dd09fc8b1e349" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{{ 5 "_DATA_AppendStatusWindow" "End"
}
// }} ""
// {{{ 5 "_ODTC_CheckStatus" "Begin"
private function _ODTC_CheckStatus( variable i_intDeviceNumber, variable i_strFunctionName ) variable {
// }} ""
private variable l_strDeviceID;
private variable l_strPmsID;
private variable l_strMessage;
private variable l_strState;
private variable l_intReturnValue;
private variable l_strCurrentTime;
private variable l_blnLocked;
private variable l_strTrace;
private variable l_blnReturnValue;
private timer l_hdlTimerWaitForODTCStatus;
private variable l_strComment;
private variable l_strMessageForStatusWindow;
// {{ 5 "_ODTC_CheckStatus" "InitLocals"
// }} ""
// {{ 578 1 0 "5249488b_6403_41d8_8e5fabf705314845" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::FALSE)
{
// }} ""
// {{ 579 1 0 "4c10dad8_fce5_4fb6_a3669866d4c0873e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 580 1 0 "403974ed_f668_4f42_812d474078d5e061" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 582 1 0 "2e969f75_0f8f_418b_925bd4d3339922e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 583 1 0 "4c10dad8_fce5_4fb6_a3669866d4c0873e" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 584 1 0 "79249d82_6706_4834_9a8e10df960292f1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::GetStatus(i_intDeviceNumber, l_strDeviceID, l_strState, l_blnLocked, l_strPmsID, l_strCurrentTime, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 585 1 0 "83185925_71ea_4e12_aa020b158c580456" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat12("l_strDeviceID = ", l_strDeviceID, ", l_strState = ", l_strState, ", l_blnLocked = ", l_blnLocked, ", l_strPMSID = ", l_strPmsID, ", l_strCurrentDeviceTime = ", l_strCurrentTime, ", l_intReturnValue = ", l_intReturnValue);
// }} ""
// {{{ 586 1 0 "ea9700d4_0300_4cd2_a5f59b52cf9dfc8f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(l_strTrace, ", l_strMessage = ", l_strMessage, "");
// }} ""
// {{ 587 1 0 "85816e0a_53e5_47c7_9c14a961bf3d01fc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_strState == "idle")
{
// }} ""
// {{{ 588 1 0 "b3bc8f7f_b2ba_47f3_89229db833945d09" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(Translate("------- ODTC device status is idle after performing following function : "), i_strFunctionName, Translate(". -------"), l_strTrace);
// }} ""
// {{{ 589 1 0 "37c38ef8_d194_4d85_ab70ed03f3210439" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, l_strTrace, Translate(""));
// }} ""
// {{ 590 1 0 "85816e0a_53e5_47c7_9c14a961bf3d01fc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 591 1 0 "50b05cb3_f591_4a08_abe983efd1bbc32b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 592 1 0 "5a04a227_7a0d_42a1_83dcb6be4f27e490" "{B31F353E-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == l_hdlTimerWaitForODTCStatus.SetTimer(3) )
{
    MECC::RaiseRuntimeErrorEx(-1355939584, MECC::IDS::stepNameTimerStart, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 593 1 0 "178e94d2_5586_4581_a24d12f5d16847b1" "{B31F353F-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == l_hdlTimerWaitForODTCStatus.WaitTimer(hslFalse, hslFalse) )
{
    MECC::RaiseRuntimeErrorEx(-1339162368, MECC::IDS::stepNameTimerWait, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 594 1 0 "30d96de3_e3d6_42d4_9c94cc2aea45580d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strTrace = Translate("");
// }} ""
// {{ 595 1 0 "2dc05218_bb09_4f0b_9bf79a77a12d191a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 596 1 0 "c6f13dd3_9d0a_4bd6_93efac3eeb8371df" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Standard::GetStatus(i_intDeviceNumber, l_strDeviceID, l_strState, l_blnLocked, l_strPmsID, l_strCurrentTime, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 597 1 0 "e7e26474_090c_4e18_8302f3dddbca52c6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat12("l_strDeviceID = ", l_strDeviceID, ", l_strState = ", l_strState, ", l_blnLocked = ", l_blnLocked, ", l_strPMSID = ", l_strPmsID, ", l_strCurrentDeviceTime = ", l_strCurrentTime, ", l_intReturnValue = ", l_intReturnValue);
// }} ""
// {{{ 598 1 0 "ae0c2c0e_09e2_481b_bcd0ad6e08016262" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(l_strTrace, ", l_strMessage = ", l_strMessage, "");
// }} ""
// {{ 599 1 0 "d01911c3_23a9_4d10_a3aeb77736ab64f1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_strState == "idle")
{
// }} ""
// {{ 600 1 0 "419fbdc3_904c_4d5c_abacbb647f7807bb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("after 2nd tiral stauts = idle... "));
// }} ""
// {{ 601 1 0 "d01911c3_23a9_4d10_a3aeb77736ab64f1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 602 1 0 "9cd152ee_1419_4791_af17e1b1fd258915" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strTrace = StrConcat4(Translate("------- ODTC device status is NOT idle after 3 seconds delay performing following function : "), i_strFunctionName, Translate(". -------"), l_strTrace);
// }} ""
// {{{ 603 1 0 "4cd06f4d_5b27_40a0_ba4e232dd5a0990e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, l_strTrace, Translate(""));
// }} ""
// {{{ 604 1 0 "9779ca80_8195_4d51_8712138be853fff8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessageForStatusWindow = StrConcat2(Translate("ODTC responds not being idle - current status = "), l_strState);
// }} ""
// {{{ 605 1 0 "51b420a0_0e83_43b7_b39fd60c87071782" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_AppendStatusWindow(l_strMessageForStatusWindow);
// }} ""
// {{{ 606 1 0 "cda36423_0b62_431f_8785da499f11e643" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
_DATA_IntegratedAbortHandler(i_strFunctionName, l_strTrace);
// }} ""
// {{{ 607 1 0 "9b1e58af_22ae_407d_b88cf17b6565c689" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 608 1 0 "d01911c3_23a9_4d10_a3aeb77736ab64f1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 609 1 0 "85816e0a_53e5_47c7_9c14a961bf3d01fc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 610 1 0 "2501f1fe_1545_4aca_959e5b80519f63fd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 611 1 0 "c1830982_5e9c_456f_aaae9d016eb4cd10" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 612 1 0 "a600a34e_6f00_4bb3_86e33b23accd607c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 613 1 0 "8cf333f4_ac30_4305_a8a00e8ddd411168" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 614 1 0 "2501f1fe_1545_4aca_959e5b80519f63fd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 615 1 0 "5249488b_6403_41d8_8e5fabf705314845" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 616 1 0 "dc892271_666e_4073_8664fdde1acda81c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 617 1 0 "5249488b_6403_41d8_8e5fabf705314845" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 5 "_ODTC_CheckStatus" "End"
}
// }} ""
// {{{ 5 "ODTC_GetDataFromLastRun" "Begin"
function ODTC_GetDataFromLastRun( variable i_intDeviceNumber, variable i_strNameOfODTCProtocol ) variable {
// }} ""
private variable l_strDisplayTextToStatusWindow;
private variable l_strFullPathResultXML;
private variable l_strMessage;
private variable l_intReturnValue;
private variable l_blnReturnValue;
private variable l_strResultXML_DataOfLastRun;
private variable l_strFullPathFileODTCReport;
private variable l_strComment;
private variable l_blnSuccess;
// {{ 5 "ODTC_GetDataFromLastRun" "InitLocals"
// }} ""
// {{ 198 1 0 "392c5751_f83b_4ce7_9a8b7ea3fbcca8a0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 199 1 0 "8d47393b_833b_4f2c_a94326e089a9e8ff" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 201 1 0 "2294ebb0_78f0_4e68_b2c2dcc059bd67b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 202 1 0 "392c5751_f83b_4ce7_9a8b7ea3fbcca8a0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 203 1 0 "c618a814_4909_460b_b2981b5cef8f696d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_blnReturnValue = Inheco_ODTC::Advanced::GetLastData(i_intDeviceNumber, Translate(""), l_strResultXML_DataOfLastRun, l_intReturnValue, l_strMessage);
// }} ""
// {{{ 204 1 0 "54ef3d63_e642_4a59_85614b376631d602" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnSuccess = _ODTC_HandleReturnValue(l_blnReturnValue, "INHECOODTCCONTROLLER::GetLastData", l_intReturnValue, l_strMessage);
// }} ""
// {{ 205 1 0 "fba69ed8_bc54_4c1f_b17679fbd9c9dd6d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnSuccess != ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 206 1 0 "a062935a_86f9_408c_965846a2a69cc785" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE_WITH_ERROR, t_strFunctionName, t_strLibraryName, Translate("INHECOODTCCONTROLLER::GetLastData"));
// }} ""
// {{{ 207 1 0 "1c062778_9762_4efa_aab58ac9ecd16065" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 208 1 0 "fba69ed8_bc54_4c1f_b17679fbd9c9dd6d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 209 1 0 "20fe22b7_9997_47fd_8605223e4771e142" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{ 210 1 0 "28d552dd_fc8e_4b80_870c29590ed8b89f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strResultXML_DataOfLastRun = Translate("<?xml version=\"1.0\" encoding=\"utf-8\"?><ResponseData xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"ResponseType_1.2.xsd\"><AnyData>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;containerData xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"DataCapture_1.0.xsd\" version=\"1.0\"&gt;&lt;experimentStep name=\"Temperature Trace\" sequence=\"0\" type=\"Measurement\"&gt;&lt;dataSeries nameId=\"2021-12-07T14-42-20Z\" description=\"\" unit=\"CSV\" repeat=\"0\"&gt;&lt;seriesValueSet&gt;&lt;stringValue mapId=\"\"&gt;Elapsed time [ms];Target temperature [1/100C];Current temperature [1/100C];Lid temperature [1/100C] 170;2407;2402;2354 1180;2437;2430;2362 2172;2467;2463;2388 3167;2497;2493;2426 4248;2530;2527;2476 5441;2566;2563;2539 6428;2596;2594;2593 7421;2626;2624;2650 8404;2656;2655;2708 9496;2689;2686;2774 10481;2719;2716;2834 11473;2746;2746;2897 12456;2776;2776;2957 13549;2809;2809;3025 14542;2839;2838;3088 15525;2869;2868;3148 16518;2899;2898;3210 17501;2929;2928;3273 18594;2962;2961;3340 19578;2992;2990;3402 20578;3000;3005;3463 21561;3000;3005;3523 22548;3000;3004;3584 23640;3000;3003;3650 24623;3000;3003;3709 25617;3000;3003;3771 26611;3000;3002;3829 27693;3000;3002;3893 28686;3000;3002;3953 29670;3000;3002;4010 30859;3000;3001;4080 31851;3000;3001;4138 32844;3000;3001;4194 33827;3000;3001;4251 34919;3000;3001;4314 35902;3000;3001;4371 36895;3000;3001;4427 37889;3000;3001;4482 38874;3000;3001;4538 39958;3000;3000;4599 40951;3000;3000;4653 41945;3000;2999;4708 42928;3000;3000;4762 43922;3000;3000;4815 45003;3000;3000;4874 46000;3000;3000;4928 46983;3000;3000;4980 47979;3000;3000;5033 48960;3000;3000;5087 50052;3000;3000;5144 51040;3000;3001;5196 52131;3000;3000;5253 53126;3000;3000;5305 54109;3000;3001;5356 55103;3000;3001;5407 56185;3000;3000;5463 57180;3000;3000;5513 58164;3000;3000;5563 59158;3000;3000;5613 60141;3000;3000;5659 61229;3000;3000;5707 62230;3000;3000;5747 63206;3000;3001;5787 64200;3000;2999;5824 65289;3000;3000;5859 66274;3000;3000;5890 67268;3000;3000;5916 68256;3000;3000;5942 69245;3000;3000;5962 70327;3000;3000;5983 71322;3000;3000;5998 72305;3000;3001;6008 73400;3000;3000;6017 74491;3000;2999;6020 75474;3000;3000;6019 76467;3000;3001;6014 77450;3000;3000;6008 78444;3000;3000;6000 79536;3000;3000;5992 80523;3000;3000;5981 81506;3000;3000;5971 82500;3000;3000;5959 83494;3000;3000;5949 84575;3000;3000;5938 85569;3000;3000;5926 86557;3000;3000;5915 87539;3000;3000;5904 88631;3000;3000;5892 89625;3000;3000;5880 90608;3000;3001;5870 91593;3000;3000;5858 92587;3000;3000;5847 93679;3000;3000;5836 94662;3000;3000;5824 95656;3000;2999;5814 96738;3000;3000;5801 97731;3000;3000;5791 98720;3000;3000;5779 99702;3000;3000;5769 100696;3000;3000;5758 101778;3000;3000;5747 102771;3000;3000;5737 103764;3000;3000;5726 104747;3000;3000;5716 105741;3000;3000;5706 106822;3000;2999;5695 107816;3000;3000;5684 108805;3000;3000;5673 109793;3000;3001;5664 110787;3000;2999;5653 111876;3000;3000;5643 112859;3000;3000;5634 113853;3000;3000;5624 114836;3000;3000;5614 115831;3000;3000;5605 116915;3000;3000;5592 &lt;/stringValue&gt;&lt;/seriesValueSet&gt;&lt;/dataSeries&gt;&lt;/experimentStep&gt;&lt;labwareInfo&gt;&lt;standardPlate name=\"\" identification=\"\" labwareTypeId=\"\" labwareTypeName=\"\" labwareDefinitionSource=\"Other\" /&gt;&lt;/labwareInfo&gt;&lt;deviceMetadata&gt;&lt;software name=\"\" manufacturer=\"\" version=\"\" /&gt;&lt;identification productName=\"\" productNumber=\"\" manufacturer=\"\" firmwareVersion=\"\" serialNumber=\"\" /&gt;&lt;/deviceMetadata&gt;&lt;/containerData&gt;</AnyData></ResponseData>");
// }} ""
// {{ 211 1 0 "6683ede5_2f74_434f_8b8cade99d773ddb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strFullPathResultXML = Translate("**** xml traced in simulation mode only****");
// }} ""
// {{ 212 1 0 "a11c7d4b_b8d0_4dec_9776b1c105310ab9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strResultXML_DataOfLastRun = Translate("<?xml version=\"1.0\" encoding=\"utf-8\"?><ResponseData xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"ResponseType_1.2.xsd\"><AnyData>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;containerData xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"DataCapture_1.0.xsd\" version=\"1.0\"&gt;&lt;experimentStep name=\"Temperature Trace\" sequence=\"0\" type=\"Measurement\"&gt;&lt;dataSeries nameId=\"2021-12-07T14-42-20Z\" description=\"\" unit=\"CSV\" repeat=\"0\"&gt;&lt;seriesValueSet&gt;&lt;stringValue mapId=\"\"&gt;Elapsed time [ms];Target temperature [1/100C];Current temperature [1/100C];Lid temperature [1/100C] 170;2407;2402;2354 1180;2437;2430;2362 2172;2467;2463;2388 3167;2497;2493;2426 4248;2530;2527;2476 5441;2566;2563;2539 6428;2596;2594;2593 7421;2626;2624;2650 8404;2656;2655;2708 9496;2689;2686;2774 10481;2719;2716;2834 11473;2746;2746;2897 12456;2776;2776;2957 13549;2809;2809;3025 14542;2839;2838;3088 15525;2869;2868;3148 16518;2899;2898;3210 17501;2929;2928;3273 18594;2962;2961;3340 19578;2992;2990;3402 20578;3000;3005;3463 21561;3000;3005;3523 22548;3000;3004;3584 23640;3000;3003;3650 24623;3000;3003;3709 25617;3000;3003;3771 26611;3000;3002;3829 27693;3000;3002;3893 28686;3000;3002;3953 29670;3000;3002;4010 30859;3000;3001;4080 31851;3000;3001;4138 32844;3000;3001;4194 33827;3000;3001;4251 34919;3000;3001;4314 35902;3000;3001;4371 36895;3000;3001;4427 37889;3000;3001;4482 38874;3000;3001;4538 39958;3000;3000;4599 40951;3000;3000;4653 41945;3000;2999;4708 42928;3000;3000;4762 43922;3000;3000;4815 45003;3000;3000;4874 46000;3000;3000;4928 46983;3000;3000;4980 47979;3000;3000;5033 48960;3000;3000;5087 50052;3000;3000;5144 51040;3000;3001;5196 52131;3000;3000;5253 53126;3000;3000;5305 54109;3000;3001;5356 55103;3000;3001;5407 56185;3000;3000;5463 57180;3000;3000;5513 58164;3000;3000;5563 59158;3000;3000;5613 60141;3000;3000;5659 61229;3000;3000;5707 62230;3000;3000;5747 63206;3000;3001;5787 64200;3000;2999;5824 65289;3000;3000;5859 66274;3000;3000;5890 67268;3000;3000;5916 68256;3000;3000;5942 69245;3000;3000;5962 70327;3000;3000;5983 71322;3000;3000;5998 72305;3000;3001;6008 73400;3000;3000;6017 74491;3000;2999;6020 75474;3000;3000;6019 76467;3000;3001;6014 77450;3000;3000;6008 78444;3000;3000;6000 79536;3000;3000;5992 80523;3000;3000;5981 81506;3000;3000;5971 82500;3000;3000;5959 83494;3000;3000;5949 84575;3000;3000;5938 85569;3000;3000;5926 86557;3000;3000;5915 87539;3000;3000;5904 88631;3000;3000;5892 89625;3000;3000;5880 90608;3000;3001;5870 91593;3000;3000;5858 92587;3000;3000;5847 93679;3000;3000;5836 94662;3000;3000;5824 95656;3000;2999;5814 96738;3000;3000;5801 97731;3000;3000;5791 98720;3000;3000;5779 99702;3000;3000;5769 100696;3000;3000;5758 101778;3000;3000;5747 102771;3000;3000;5737 103764;3000;3000;5726 104747;3000;3000;5716 105741;3000;3000;5706 106822;3000;2999;5695 107816;3000;3000;5684 108805;3000;3000;5673 109793;3000;3001;5664 110787;3000;2999;5653 111876;3000;3000;5643 112859;3000;3000;5634 113853;3000;3000;5624 114836;3000;3000;5614 115831;3000;3000;5605 116915;3000;3000;5592 &lt;/stringValue&gt;&lt;/seriesValueSet&gt;&lt;/dataSeries&gt;&lt;/experimentStep&gt;&lt;labwareInfo&gt;&lt;standardPlate name=\"\" identification=\"\" labwareTypeId=\"\" labwareTypeName=\"\" labwareDefinitionSource=\"Other\" /&gt;&lt;/labwareInfo&gt;&lt;deviceMetadata&gt;&lt;software name=\"\" manufacturer=\"\" version=\"\" /&gt;&lt;identification productName=\"\" productNumber=\"\" manufacturer=\"\" firmwareVersion=\"\" serialNumber=\"\" /&gt;&lt;/deviceMetadata&gt;&lt;/containerData&gt;</AnyData></ResponseData>");
// }} ""
// {{ 213 1 0 "20fe22b7_9997_47fd_8605223e4771e142" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 214 1 0 "fbe747e0_a445_4075_a73436c7fcb1f31f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("l_strResultXML_DataOfLastRun : "), l_strResultXML_DataOfLastRun);
// }} ""
// {{{ 215 1 0 "90a56b43_0c1d_4c40_897b9f1c04dc8aae" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
l_blnReturnValue = _GetDataFromLastRun_ExportData(l_strResultXML_DataOfLastRun, i_strNameOfODTCProtocol, l_strFullPathFileODTCReport);
// }} ""
// {{ 216 1 0 "cb0f73b7_9495_4c3b_8d6c3fb69350de78" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_blnReturnValue == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 217 1 0 "fc25ad73_dde4_4b35_a7fc460bfcd9624f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat12(Translate("Data of running protocol was exported and will be converted into following excel file : \n"), Translate(""), Translate(" A xls file will be generated at Logfiles folder : \n"), l_strFullPathFileODTCReport, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 218 1 0 "cb0f73b7_9495_4c3b_8d6c3fb69350de78" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 219 1 0 "ba5bb1cf_f04a_4143_8dde11438e936f27" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strDisplayTextToStatusWindow = StrConcat12(Translate("An error accurred during extract data from last run."), Translate(""), Translate("Data of running protocol was not exported. "), Translate(""), Translate("Workflow will continue without interruption."), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 220 1 0 "cb0f73b7_9495_4c3b_8d6c3fb69350de78" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 221 1 0 "2be2bfab_e875_4062_9e45d55b72e412de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_DEBUG, Translate("l_strResultXML_DataOfLastRun : "), l_strResultXML_DataOfLastRun);
// }} ""
// {{ 222 1 0 "1b1e926e_b133_47dc_8e82ca4d03f486ef" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 223 1 0 "54f332c2_4c63_4133_b42336e49879ea74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 224 1 0 "889e7436_967a_48db_8b429cdb380f964d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 225 1 0 "f1e754be_2fed_470d_961cc1744f8db53d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 226 1 0 "1b1e926e_b133_47dc_8e82ca4d03f486ef" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "ODTC_GetDataFromLastRun" "End"
}
// }} ""
// {{{ 5 "_GetDataFromLastRun_ExportData" "Begin"
private function _GetDataFromLastRun_ExportData( variable i_strResultOfLastRunODTC, variable i_strNameOfProtocolPerfromedODTC, variable & o_strFullPathExportedDataODTC ) variable {
// }} ""
private variable l_intStartIndex;
private variable l_intStartKeyLength;
private variable l_strCurrentDataSet;
private variable l_intCount;
private variable l_intLoopCounterDataSets;
private variable l_intNumberOfDataSets;
private variable l_strEndKey;
private variable l_intEndIndex;
private variable l_strStartKey;
private variable l_strMessageODTCGetLastData;
private variable l_strAllValues;
private variable l_intNumberOfData;
private variable l_arrStrTargetTemps[];
private variable l_arrStrCurrentData[];
private variable l_arrStrElapsedTimes[];
private variable l_arrStrLidTemps[];
private variable l_arrStrCurrentTemps[];
private variable l_arrStrAllValues[];
private variable l_strCurrentTime;
private variable l_strCurrentDate;
private variable l_fltCurrentReachedLidTemerpature;
private variable l_strFullPathFileODTCReport;
private variable l_fltCurrentElapsedTime;
private variable l_fltCurrentTargetBlockTemperature;
private variable l_intIndexOfDataSets;
private variable l_fltCurrentReachedBlockTemperature;
private file hdl_ODTCReportFile;
private variable l_strModyfiedFileName;
private variable l_strComment;
// {{ 5 "_GetDataFromLastRun_ExportData" "InitLocals"
o_strFullPathExportedDataODTC = 0;
// }} ""
// {{ 475 1 0 "f64e2837_972e_465b_af0cba7280e13c05" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 476 1 0 "6eef7f07_9b54_4129_8653a8c27f6d3e62" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strComment = Translate("");
// }} ""
t_strFunctionName = GetFunctionName();
// {{{ 478 1 0 "3982c34f_70c0_4b05_a1c3d178a419571e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::START, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 479 1 0 "f64e2837_972e_465b_af0cba7280e13c05" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 480 1 0 "0f960f51_7aa7_42a0_a0af43ccdf920fba" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strMessageODTCGetLastData = i_strResultOfLastRunODTC;
// }} ""
// {{{ 481 1 0 "3a3d1193_c5dd_4992_813b69e7d16afe74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_06(TRACE_LEVEL_RELEASE, Translate("Last Protocol performed on ODTC : "), i_strNameOfProtocolPerfromedODTC, Translate(". Last xml file response od ODTC : "), i_strResultOfLastRunODTC, Translate("."), Translate(""));
// }} ""
// {{ 482 1 0 "f9e0b75f_3cf5_4bbe_a99a8639a974d770" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_086C598A9E11463097F0C7BB7A0FEE67 ;
err.Clear();
// }} ""
// {{ 483 1 0 "d9faf844_9463_4bd3_a60435ef2f05e764" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 484 1 0 "6577b54d_f0f3_4f5e_8cca20d22393ce09" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrStrElapsedTimes.SetSize(0);
// }} ""
// {{ 485 1 0 "cbd3067c_f60b_4c6e_b2257aa114180835" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrStrTargetTemps.SetSize(0);
// }} ""
// {{ 486 1 0 "822c8c1d_5dbc_454b_9a563928a318271f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrStrCurrentTemps.SetSize(0);
// }} ""
// {{ 487 1 0 "b361564e_c0d4_4ef4_a98c338645dbae70" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
l_arrStrLidTemps.SetSize(0);
// }} ""
// {{ 488 1 0 "7afb94c2_c508_4836_a7fd1109cbf73798" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 489 1 0 "53e22e51_83bc_44d6_98d2fa5be4f0a79a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strStartKey = Translate("Lid temperature [1/100");
// }} ""
// {{{ 490 1 0 "91971c59_145a_41c8_b4eda855ab3dfe9a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intStartIndex = StrFind(i_strResultOfLastRunODTC, l_strStartKey);
// }} ""
// {{{ 491 1 0 "d5863f4f_12e3_48a2_94bcaed44c6c9c7a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("l_intStartIndex (-1 = value not found within string) : "), l_intStartIndex);
// }} ""
// {{ 492 1 0 "dff21e46_4e5a_4c4a_929d999e8a5d2eeb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intStartIndex == -1)
{
// }} ""
// {{{ 493 1 0 "f7d59d01_8008_454a_91197154459fd104" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessageODTCGetLastData = StrConcat2(Translate("An error occurred during get last data command - no xls export file will be generated."), Translate(" START INDEX NOT FOUND WITHIN STRING OF ODTC RESPONSE."));
// }} ""
// {{{ 494 1 0 "9e4040bf_7967_4208_b26f3d50a9e4c51d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::MessageDialog(Translate("Get last data from xml file of ODTC"), VectorCustomDialogs::IconType::Information, VectorCustomDialogs::ButtonType::Ok, 0, 0, 5, l_strMessageODTCGetLastData);
// }} ""
// {{ 495 1 0 "dff21e46_4e5a_4c4a_929d999e8a5d2eeb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 496 1 0 "23245a41_b27c_48fd_bfa8cd7a4424505a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intStartKeyLength = StrGetLength(l_strStartKey);
// }} ""
// {{ 497 1 0 "f4c526fb_1040_4b9c_87a61174460d69ac" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intStartKeyLength = l_intStartKeyLength + 4;
// }} ""
// {{ 498 1 0 "e6902b5d_1f7e_4802_a44409e976d82afd" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intStartIndex = l_intStartIndex + l_intStartKeyLength;
// }} ""
// {{ 499 1 0 "eff32f7a_874b_4e04_b2915d391dcc0aa5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 500 1 0 "25ec6b5b_bd82_4c12_bebe51413378de56" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
l_strEndKey = Translate("lt;/stringValue");
// }} ""
// {{{ 501 1 0 "d04abd08_3c77_44f7_81f75e48f3fbe069" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_intEndIndex = StrFind(i_strResultOfLastRunODTC, l_strEndKey);
// }} ""
// {{{ 502 1 0 "e3073be8_aaba_43c9_a576b98c36fff6a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_RELEASE, Translate("l_intEndIndex (-1 = value not found within string) : "), l_intEndIndex);
// }} ""
// {{ 503 1 0 "eb62a7c7_a232_4fe6_a01108715abe7b96" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intEndIndex == -1)
{
// }} ""
// {{{ 504 1 0 "74a60cba_aba8_44ba_a7b01408b13f8263" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessageODTCGetLastData = StrConcat2(Translate("An error occurred during get last data command - no xls export file will be generated."), Translate(" END INDEX NOT FOUND WITHIN STRING OF ODTC RESPONSE."));
// }} ""
// {{{ 505 1 0 "c4b2af50_12bb_4f8e_ae97a4d4f338e653" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::MessageDialog(Translate("Get last data from xml file of ODTC"), VectorCustomDialogs::IconType::Information, VectorCustomDialogs::ButtonType::Ok, 0, 0, 5, l_strMessageODTCGetLastData);
// }} ""
// {{ 506 1 0 "eb62a7c7_a232_4fe6_a01108715abe7b96" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 507 1 0 "a0888fc1_f698_4bbe_be1f0eef0b661025" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 508 1 0 "1c0ace3f_19eb_46b2_9b089c1ae286f5b6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intEndIndex = l_intEndIndex - 2;
// }} ""
// {{ 509 1 0 "837c0cd5_7f09_41ab_bf24d300d354f5cb" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intCount = l_intEndIndex - l_intStartIndex;
// }} ""
// {{ 510 1 0 "8adbfe87_c144_4d68_9fad09445dcd6169" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_intCount = l_intCount + 1;
// }} ""
// {{{ 511 1 0 "45784502_ee7f_4469_af18aee102d84b3e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strAllValues = StrMid(i_strResultOfLastRunODTC, l_intStartIndex, l_intCount);
// }} ""
// {{{ 512 1 0 "690ccd57_845d_4953_af75782c6086212a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
StrTrimLeft(l_strAllValues, Translate(""));
// }} ""
// {{{ 513 1 0 "70023112_eb74_4253_ae318094996e95d0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
StrTrimRight(l_strAllValues, Translate(""));
// }} ""
// {{{ 514 1 0 "6e9ff8da_420a_4880_a09e8b42bf4e1646" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::Trace_02(TRACE_LEVEL_DEBUG, Translate("l_strAllValues: "), l_strAllValues);
// }} ""
// {{ 515 1 0 "8a752373_fddd_4cd5_910f703f740e6f74" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 516 1 0 "616e5360_98ab_49a0_9f3d37576d71d99c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (t_blnSimulationModeON == ASWGLOBAL::BOOL::TRUE)
{
// }} ""
// {{{ 517 1 0 "422e8fc6_dd84_49e6_b0e82e26ae4432f8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arrStrAllValues = HSLExtensions::String::Split(l_strAllValues, Translate(" "), ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 518 1 0 "616e5360_98ab_49a0_9f3d37576d71d99c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 519 1 0 "68dec164_7443_427e_96fad0f031b63d2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arrStrAllValues = HSLExtensions::String::Split(l_strAllValues, Translate("\n"), ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 520 1 0 "616e5360_98ab_49a0_9f3d37576d71d99c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 521 1 0 "d8b7e57d_ee3e_46c4_9857c13ec5a29fd8" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_intNumberOfDataSets=l_arrStrAllValues.GetSize();
// }} ""
// {{ 522 1 0 "fb7f8bc6_55d1_4065_a7a52c2e25c9592c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(l_intLoopCounterDataSets = 0; l_intLoopCounterDataSets < l_intNumberOfDataSets;)
{
l_intLoopCounterDataSets = l_intLoopCounterDataSets + 1;
// }} ""
// {{ 523 1 0 "f947d693_7f74_4175_b7a1e717b0c51283" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_strCurrentDataSet=l_arrStrAllValues.GetAt(l_intLoopCounterDataSets-1);
// }} ""
// {{{ 524 1 0 "adecab67_de15_4906_a4a308ebf617c606" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_arrStrCurrentData = HSLExtensions::String::Split(l_strCurrentDataSet, Translate(";"), ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 525 1 0 "025610ca_7dfa_4e8b_bd02825c6be54064" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_intNumberOfData=l_arrStrCurrentData.GetSize();
// }} ""
// {{ 526 1 0 "15849b2d_867e_4f7b_a1173e1ca3360875" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (l_intNumberOfData != 4)
{
// }} ""
// {{{ 527 1 0 "9886babc_2d90_493f_946f3981fad04bc9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strMessageODTCGetLastData = StrConcat2(Translate("An error occurred during get last data command - no xls export file will be generated."), Translate(" ARRAY SIZE OF DATA SET IS NOT EQUAL TO 4."));
// }} ""
// {{{ 528 1 0 "68cd0ddc_7edd_4a7a_ada07e99abc7f501" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VectorCustomDialogs::MessageDialog(Translate("Get last data from xml file of ODTC"), VectorCustomDialogs::IconType::Information, VectorCustomDialogs::ButtonType::Ok, 0, 0, 5, l_strMessageODTCGetLastData);
// }} ""
// {{ 529 1 0 "15849b2d_867e_4f7b_a1173e1ca3360875" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 530 1 0 "85d286ec_9e97_4fd2_b54d0481b7a71bb3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 531 1 0 "56e1c7b5_e288_4f0d_a66f5dc7a8e483d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_fltCurrentElapsedTime = StrFVal(l_arrStrCurrentData.ElementAt( 1 -1));
// }} ""
// {{ 532 1 0 "b4aa2dea_5875_4715_b5548a8bc6f7f992" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltCurrentElapsedTime = l_fltCurrentElapsedTime / (100 * 1.0);
// }} ""
// {{{ 533 1 0 "60430c6d_d809_46e2_b81875d0b69e57bb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_fltCurrentElapsedTime = MthFFloor(l_fltCurrentElapsedTime);
// }} ""
// {{ 534 1 0 "3045e98e_68a1_4d56_b9cad9663e3c6aff" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrStrElapsedTimes.AddAsLast(l_fltCurrentElapsedTime);
// }} ""
// {{{ 535 1 0 "c114e3ac_53b5_4439_b248be592e75daa4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_fltCurrentTargetBlockTemperature = StrFVal(l_arrStrCurrentData.ElementAt( 2 -1));
// }} ""
// {{ 536 1 0 "99a17815_fcae_4d72_8946799a4750a4d6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltCurrentTargetBlockTemperature = l_fltCurrentTargetBlockTemperature / (100 * 1.0);
// }} ""
// {{ 537 1 0 "575f3562_550b_4b3e_980fb77f706fde11" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrStrTargetTemps.AddAsLast(l_fltCurrentTargetBlockTemperature);
// }} ""
// {{{ 538 1 0 "3441470e_2d2a_4121_8656edd48f9f4100" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_fltCurrentReachedBlockTemperature = StrFVal(l_arrStrCurrentData.ElementAt( 3 -1));
// }} ""
// {{ 539 1 0 "80ed0510_8395_4bef_90ff91784152f750" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltCurrentReachedBlockTemperature = l_fltCurrentReachedBlockTemperature / (100 * 1.0);
// }} ""
// {{ 540 1 0 "19f377ff_e905_40e1_82ea8247619fc6f4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrStrCurrentTemps.AddAsLast(l_fltCurrentReachedBlockTemperature);
// }} ""
// {{{ 541 1 0 "de263843_2a12_4892_a152800857fb815d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_fltCurrentReachedLidTemerpature = StrFVal(l_arrStrCurrentData.ElementAt( 4 -1));
// }} ""
// {{ 542 1 0 "52af9ca6_422d_4182_8fe7b0b6d8874bd8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
l_fltCurrentReachedLidTemerpature = l_fltCurrentReachedLidTemerpature / (100 * 1.0);
// }} ""
// {{ 543 1 0 "8f13a19a_e18b_4b12_a202efc400509676" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
l_arrStrLidTemps.AddAsLast(l_fltCurrentReachedLidTemerpature);
// }} ""
// {{ 544 1 0 "fb7f8bc6_55d1_4065_a7a52c2e25c9592c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 545 1 0 "fba0057c_bb3c_4027_a9a3e084ee2bb73b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceArrayHorizontally(TRACE_LEVEL_RELEASE, Translate("l_arrStrElapsedTimes: "), l_arrStrElapsedTimes);
// }} ""
// {{{ 546 1 0 "bbb890c9_3ab5_441b_92ed96172009db1c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceArrayHorizontally(TRACE_LEVEL_RELEASE, Translate("l_arrStrTargetTemps: "), l_arrStrTargetTemps);
// }} ""
// {{{ 547 1 0 "dc8f4206_49dc_418d_92299653db2dc19c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceArrayHorizontally(TRACE_LEVEL_RELEASE, Translate("l_arrStrCurrentTemps: "), l_arrStrCurrentTemps);
// }} ""
// {{{ 548 1 0 "edb6c9ef_52da_4e81_9d77f4d11f5b737d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceArrayHorizontally(TRACE_LEVEL_RELEASE, Translate("l_arrStrLidTemps: "), l_arrStrLidTemps);
// }} ""
// {{ 549 1 0 "d9faf844_9463_4bd3_a60435ef2f05e764" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 550 1 0 "8a036659_6350_4567_a37a82d00173b9eb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("\nCHECKCHECK\n"));
// }} ""
// {{ 551 1 0 "a46e12c9_c8ac_4018_a0433f7ba922bd10" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 552 1 0 "a2026cc2_e7c6_4544_8264d5f3e8d67a6b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strModyfiedFileName = StrConcat2(i_strNameOfProtocolPerfromedODTC, Translate(""));
// }} ""
// {{{ 553 1 0 "980d250b_7d6f_4d46_ac2db100e59df3e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strCurrentDate = TimGetFormattedDate(Translate("%Y_%m_%d"));
// }} ""
// {{{ 554 1 0 "1632deca_451e_4b2e_96407401e3ed6eed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strCurrentTime = TimGetFormattedTime(Translate("%H_%M_%S"));
// }} ""
// {{{ 555 1 0 "cc59d5ed_f8ae_42a9_85ad54976b54aed9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
l_strFullPathFileODTCReport = StrConcat8(Translate("C:\\Program Files (x86)\\HAMILTON\\LogFiles\\"), l_strCurrentDate, Translate("_"), l_strCurrentTime, Translate("_"), i_strNameOfProtocolPerfromedODTC, Translate(".xls"), Translate(""));
// }} ""
// {{ 556 1 0 "c1c1df41_2e06_4a6a_894d8ce6016daf28" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
hdl_ODTCReportFile.AddField("Time in seconds", l_fltCurrentElapsedTime, hslInteger);
hdl_ODTCReportFile.AddField("Target block temperature in C", l_fltCurrentTargetBlockTemperature, hslFloat);
hdl_ODTCReportFile.AddField("Reached block temperature in C", l_fltCurrentReachedBlockTemperature, hslFloat);
hdl_ODTCReportFile.AddField("Reached lid temperature in C", l_fltCurrentReachedLidTemerpature, hslFloat);
if( 0 == hdl_ODTCReportFile.Open(l_strFullPathFileODTCReport + " " + i_strNameOfProtocolPerfromedODTC, hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, l_strFullPathFileODTCReport, "HxMetEdCompCmd");
}
// }} ""
// {{ 557 1 0 "2fb9a339_ad4e_4a13_b7fc54c84407eccb" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
l_intNumberOfDataSets=l_arrStrElapsedTimes.GetSize();
// }} ""
// {{ 558 1 0 "1e54166f_287b_416c_aaee156f205fb64a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(l_intIndexOfDataSets = 0; l_intIndexOfDataSets < l_intNumberOfDataSets;)
{
l_intIndexOfDataSets = l_intIndexOfDataSets + 1;
// }} ""
// {{ 559 1 0 "88ce428d_5982_44e9_b576e4626aba2bc6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltCurrentElapsedTime=l_arrStrElapsedTimes.GetAt(l_intIndexOfDataSets-1);
// }} ""
// {{ 560 1 0 "8740509e_9e5c_410e_a0486f1be7e9f2b6" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltCurrentTargetBlockTemperature=l_arrStrTargetTemps.GetAt(l_intIndexOfDataSets-1);
// }} ""
// {{ 561 1 0 "9c36d8f0_b95a_43fe_a7310fad46f8c488" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltCurrentReachedBlockTemperature=l_arrStrCurrentTemps.GetAt(l_intIndexOfDataSets-1);
// }} ""
// {{ 562 1 0 "645ce3e1_93cb_4a4b_8946cc1fa369b92a" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
l_fltCurrentReachedLidTemerpature=l_arrStrLidTemps.GetAt(l_intIndexOfDataSets-1);
// }} ""
// {{ 563 1 0 "d02ca45e_356f_45e3_a4e74503203b50f0" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == hdl_ODTCReportFile.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 564 1 0 "1e54166f_287b_416c_aaee156f205fb64a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 565 1 0 "dc3ce37e_91f3_49c7_8db73bd5a0487f6d" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != hdl_ODTCReportFile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
hdl_ODTCReportFile.RemoveFields();
// }} ""
// {{ 566 1 0 "f817f94e_3a08_454c_9c32f5021f825a4c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_strFullPathExportedDataODTC = l_strFullPathFileODTCReport;
// }} ""
// {{ 567 1 0 "a46e12c9_c8ac_4018_a0433f7ba922bd10" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 568 1 0 "83b96b95_9322_4d8d_a3fa7cc8351f2ed7" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 569 1 0 "f9e0b75f_3cf5_4bbe_a99a8639a974d770" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_086C598A9E11463097F0C7BB7A0FEE67 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{{ 570 1 0 "ae39f494_cc52_4cb4_b65722b82bc4c523" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::FALSE);
// }} ""
// {{ 571 1 0 "f9e0b75f_3cf5_4bbe_a99a8639a974d770" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 572 1 0 "3f26e606_b02c_44d3_8500debfd1fdd82c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 573 1 0 "cc08c691_1fe4_486b_916856a1a3d88b47" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TRACELEVEL::TraceAction(TRACE_LEVEL_RELEASE, TRACELEVEL::ACTION::COMPLETE, t_strFunctionName, t_strLibraryName, l_strComment);
// }} ""
// {{ 574 1 0 "75b7489c_b5af_4273_8d0547eb8ac6c017" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
t_strFunctionName = Translate("");
// }} ""
// {{{ 575 1 0 "4bd4c187_10ea_4def_bf5c3a7726bbd85d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ASWGLOBAL::BOOL::TRUE);
// }} ""
// {{ 576 1 0 "3f26e606_b02c_44d3_8500debfd1fdd82c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "_GetDataFromLastRun_ExportData" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=orr_b$$valid=0$$time=2024-10-04 07:18$$checksum=7b8dd2d9$$length=082$$